import{r as o,u as w,j as e,C as S,f as L,g as T,L as g,A as k,D as C,h as O,i as E}from"./react-DDc6AVgH.js";import{f as _,q as D,w as H,r as P}from"./firebase-BcXptfJc.js";import{d as $}from"./index-BnUmwe8j.js";function q({cat:s,name:a}){const[d,m]=o.useState(!0);return e.jsxs("div",{className:"relative border border-gray-700 rounded-lg p-4 shadow hover:shadow-lg transition duration-200 bg-gray-800 text-gray-100",children:[e.jsxs("div",{className:"flex justify-between items-center cursor-pointer select-none",onClick:()=>m(!d),children:[e.jsx("h2",{className:"text-xl font-bold text-blue-400",children:a}),d?e.jsx(S,{className:"text-gray-400",size:18}):e.jsx(L,{className:"text-gray-400",size:18})]}),e.jsx("div",{className:`transition-all duration-300 overflow-hidden ${d?"max-h-[1000px] opacity-100 mt-3":"max-h-0 opacity-0"}`,children:e.jsx("div",{className:"space-y-2",children:Object.keys(s).map(i=>e.jsxs("div",{className:"flex justify-between items-center text-sm bg-gray-900/50 p-2 rounded-md border border-gray-700",children:[e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx("img",{src:`https://www.torn.com/images/items/${i}/small.png`,className:"h-5 w-5",alt:s[i].name}),s[i].name]}),e.jsxs("span",{className:"text-green-400 font-medium",children:["$",s[i].rate==="definitive"?s[i].val.toLocaleString():(s[i].val*s[i].market_price).toLocaleString()]})]},i))})})]})}function A(){return e.jsxs("div",{className:"border border-gray-700 rounded-lg p-4 shadow bg-gray-800 animate-pulse",children:[e.jsx("div",{className:"h-6 w-32 bg-gray-700 rounded mb-3"}),e.jsx("div",{className:"space-y-2",children:[...Array(5)].map((s,a)=>e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("div",{className:"h-4 w-24 bg-gray-700 rounded"}),e.jsx("div",{className:"h-4 w-12 bg-gray-700 rounded"})]},a))})]})}function z(s){const{items:a,categories:d}=o.useMemo(()=>{let t=[],l={};return s.items.items.forEach(n=>{l[n.id]=n,t.includes(n.type)||t.push(n.type)}),{items:l,categories:t}},[s.items]),m=w(),i=s.hash,[h,u]=o.useState(!0),[c,y]=o.useState({}),[x,j]=o.useState({}),[f,b]=o.useState(!1);async function N(){const t=_($,"users"),l=D(t,H("link","==",i)),n=await P(l);if(n.empty)m("/");else{const r={...n.docs[0].data()};r.public===!0?r.credits===0?m("/man-dont-pay"):y({owner:r.displayName,list:r.list,order:r.order,scheme:r.scheme}):m("/")}setTimeout(()=>b(!0),150),setTimeout(()=>u(!1),400)}return o.useEffect(()=>{if(Object.keys(c).length===0)N();else{const t={};(c.order||d).forEach(l=>{const n=Object.entries(c.list).filter(([r])=>a[r]?.type===l);if(n.length>0){const r={};n.forEach(([p,v])=>r[p]={...v,...a[p]}),t[l]=r}}),j(t)}},[c]),e.jsxs("div",{className:"p-6 max-w-5xl mx-auto bg-gray-900 min-h-screen text-gray-100",children:[e.jsx("h1",{className:"text-3xl font-bold mb-6 text-blue-400",children:c?.scheme?.title?c.scheme.title:c?.owner?`${c.owner}'s Price List`:"Price List"}),e.jsxs("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-3 relative",children:[h&&e.jsx("div",{className:`absolute inset-0 grid gap-4 sm:grid-cols-2 lg:grid-cols-3 transition-opacity duration-300 ${f?"opacity-0 pointer-events-none":"opacity-100"}`,children:[...Array(6)].map((t,l)=>e.jsx(A,{},l))}),!h&&(Object.keys(x).length>0?Object.keys(x).map(t=>e.jsx(q,{name:t,cat:x[t]},t)):e.jsxs("div",{className:"col-span-full text-center py-12 text-gray-400",children:[e.jsx("p",{className:"text-lg",children:"No items to show."}),e.jsx("p",{className:"text-sm text-gray-500",children:"Try changing your filters or asking this seller to add more items."})]}))]})]})}function M({items:s}){const{hash:a}=T(),[d,m]=o.useState(!1);return o.useEffect(()=>{a&&m(a.split("").splice(1,a.length).join(""))},[a]),d?e.jsx(z,{items:s,hash:d}):e.jsxs("div",{className:"flex flex-col gap-20",children:[e.jsxs("section",{className:"text-center mt-10",children:[e.jsx("h1",{className:"text-4xl md:text-6xl font-bold text-white mb-4",children:"Torn Trade Helper"}),e.jsx("p",{className:"text-lg md:text-xl text-gray-400 max-w-2xl mx-auto mb-8",children:"Your all-in-one assistant for trading in Torn. Get real-time item prices, manage trade templates, and optimize every deal â€” all in one place."}),e.jsxs("div",{className:"flex justify-center gap-4",children:[e.jsxs(g,{to:"/user/list",className:"px-6 py-3 bg-indigo-600 hover:bg-indigo-700 rounded-xl text-white font-semibold flex items-center gap-2 transition",children:["View Price Lists ",e.jsx(k,{className:"w-4 h-4"})]}),e.jsx(g,{to:"/register",className:"px-6 py-3 border border-gray-500 hover:bg-gray-800 rounded-xl text-gray-200 font-semibold transition",children:"Get Started"})]})]}),e.jsxs("section",{className:"grid md:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"p-6 bg-gray-800 rounded-2xl shadow-md hover:shadow-lg transition",children:[e.jsx(C,{className:"w-10 h-10 text-indigo-400 mb-4"}),e.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Live Price Lists"}),e.jsx("p",{className:"text-gray-400",children:"Instantly access updated Torn item prices. Stop guessing and make smarter trades."})]}),e.jsxs("div",{className:"p-6 bg-gray-800 rounded-2xl shadow-md hover:shadow-lg transition",children:[e.jsx(O,{className:"w-10 h-10 text-indigo-400 mb-4"}),e.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Trade Templates"}),e.jsx("p",{className:"text-gray-400",children:"Save and reuse trade offers, ensuring consistency and faster negotiations every time."})]}),e.jsxs("div",{className:"p-6 bg-gray-800 rounded-2xl shadow-md hover:shadow-lg transition",children:[e.jsx(E,{className:"w-10 h-10 text-indigo-400 mb-4"}),e.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Community Chat"}),e.jsx("p",{className:"text-gray-400",children:"Chat with other traders directly in-app. Share deals, tips, and stay updated on market trends."})]})]}),e.jsxs("section",{className:"text-center py-10",children:[e.jsx("h2",{className:"text-2xl md:text-3xl font-bold mb-4",children:"Ready to streamline your trading?"}),e.jsx("p",{className:"text-gray-400 mb-6",children:"Create an account and take control of your Torn trading strategy today."}),e.jsx(g,{to:"/register",className:"px-8 py-3 bg-indigo-600 hover:bg-indigo-700 text-white font-semibold rounded-xl transition",children:"Sign Up Now"})]})]})}const I=Object.freeze(Object.defineProperty({__proto__:null,default:M},Symbol.toStringTag,{value:"Module"}));export{M as H,z as T,I as a};
