import{r as n,j as e}from"./react-CGOmruj2.js";import{u as v}from"./index-aDfJD7Cu.js";import"./vendor-38BQLZWb.js";import"./firebase-BcXptfJc.js";function w({currentPage:s,totalPages:a,onPageChange:x,maxVisible:i=9}){if(a<=1)return null;n.useEffect(()=>{const t=u=>{u.key==="ArrowLeft"&&s>1?x(s-1):u.key==="ArrowRight"&&s<a&&x(s+1)};return window.addEventListener("keydown",t),()=>window.removeEventListener("keydown",t)},[s,a,x]);const h=t=>{t<1||t>a||x(t)},l=[],m=Math.floor(i/2);let o=Math.max(1,s-m),d=Math.min(a,s+m);s<=m?d=Math.min(a,i):s+m>=a&&(o=Math.max(1,a-i+1)),o>1&&(l.push(1),o>2&&l.push("..."));for(let t=o;t<=d;t++)l.push(t);return d<a&&(d<a-1&&l.push("..."),l.push(a)),e.jsxs("div",{className:"flex flex-wrap justify-center mt-6 gap-2",role:"navigation","aria-label":"Pagination Navigation",children:[e.jsx("button",{onClick:()=>h(s-1),disabled:s===1,"aria-label":"Previous Page",className:`px-3 py-1 rounded border border-gray-700 transition ${s===1?"bg-gray-700 text-gray-400 cursor-not-allowed":"bg-gray-800 hover:bg-gray-700 text-gray-100"}`,children:"Prev"}),l.map((t,u)=>t==="..."?e.jsx("span",{className:"px-2 py-1 text-gray-500 select-none",children:"..."},`ellipsis-${u}`):e.jsx("button",{onClick:()=>h(t),"aria-label":`Go to page ${t}`,className:`px-3 py-1 rounded border border-gray-700 transition ${s===t?"bg-blue-600 text-white font-semibold":"bg-gray-800 hover:bg-gray-700 text-gray-100"}`,children:t},t)),e.jsx("button",{onClick:()=>h(s+1),disabled:s===a,"aria-label":"Next Page",className:`px-3 py-1 rounded border border-gray-700 transition ${s===a?"bg-gray-700 text-gray-400 cursor-not-allowed":"bg-gray-800 hover:bg-gray-700 text-gray-100"}`,children:"Next"})]})}function N({item:s}){return e.jsxs("div",{className:"relative border border-gray-700 rounded-lg p-4 shadow hover:shadow-lg transition duration-200 bg-gray-800 text-gray-100",children:[e.jsx("button",{className:"absolute top-2 right-2 bg-blue-600 hover:bg-blue-700 text-white rounded-full w-8 h-8 flex items-center justify-center",children:"+"}),e.jsx("h2",{className:"text-xl font-bold mb-2",children:s.name}),e.jsx("p",{className:"text-gray-400 mb-2",children:s.type}),e.jsx("p",{className:"mb-2",children:s.description}),e.jsxs("div",{className:"flex justify-between text-sm text-gray-300",children:[e.jsxs("span",{children:["Buy: $",s.buy_price]}),e.jsxs("span",{children:["Sell: $",s.sell_price]}),e.jsxs("span",{children:["Market: $",s.market_price]})]}),e.jsxs("p",{className:"text-gray-500 text-sm mt-2",children:["Circulation: ",s.circulation.toLocaleString()]})]})}function C(){return e.jsxs("div",{className:"border border-gray-700 rounded-lg p-4 shadow animate-pulse space-y-2 bg-gray-800",children:[e.jsx("div",{className:"h-6 bg-gray-600 rounded w-1/2"}),e.jsx("div",{className:"h-4 bg-gray-600 rounded w-1/4"}),e.jsx("div",{className:"h-3 bg-gray-600 rounded w-full"}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("div",{className:"h-3 bg-gray-600 rounded w-1/5"}),e.jsx("div",{className:"h-3 bg-gray-600 rounded w-1/5"}),e.jsx("div",{className:"h-3 bg-gray-600 rounded w-1/5"})]}),e.jsx("div",{className:"h-3 bg-gray-600 rounded w-1/3 mt-2"})]})}function L(){const{items:s}=v(),[a,x]=n.useState([]),[i,h]=n.useState(""),[l,m]=n.useState(""),[o,d]=n.useState(1),[t,u]=n.useState(10);n.useEffect(()=>{if(s?.items?.length){const r=[...new Set(s.items.map(c=>c.type))];x(r)}},[s]);const p=n.useMemo(()=>{if(!s?.items)return[];let r=s.items;return i&&(r=r.filter(c=>c.type.toLowerCase()===i.toLowerCase())),l&&(r=r.filter(c=>c.name.toLowerCase().includes(l.toLowerCase()))),r},[s,i,l]);n.useEffect(()=>{d(1)},[i,l]);const y=Math.ceil(p.length/t),g=o*t,f=g-t,b=p.slice(f,g),j=r=>{r<1||r>y||d(r)};return e.jsxs("div",{className:"p-6 max-w-5xl mx-auto bg-gray-900 min-h-screen text-gray-100",children:[e.jsx("h1",{className:"text-3xl font-bold mb-6",children:"Items"}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[e.jsx("input",{type:"text",placeholder:"Search by name",disabled:!s,value:l,onChange:r=>m(r.target.value),className:`border border-gray-700 rounded px-3 py-2 w-full sm:w-1/2 bg-gray-800 text-gray-100 placeholder-gray-400 transition ${s?"":"opacity-50 cursor-not-allowed"}`}),e.jsxs("select",{value:i,disabled:!s,onChange:r=>h(r.target.value),className:`border border-gray-700 rounded px-3 py-2 w-full sm:w-1/2 bg-gray-800 text-gray-100 transition ${s?"":"opacity-50 cursor-not-allowed"}`,children:[e.jsx("option",{value:"",children:"All Types"}),a.map(r=>e.jsx("option",{value:r,children:r},r))]}),e.jsxs("select",{title:"Items per page",value:t,onChange:r=>u(Number(r.target.value)),className:"border border-gray-700 rounded px-3 py-2 w-full sm:w-1/4 bg-gray-800 text-gray-100",children:[e.jsx("option",{value:5,children:"5pp"}),e.jsx("option",{value:10,children:"10pp"}),e.jsx("option",{value:25,children:"25pp"}),e.jsx("option",{value:50,children:"50pp"})]})]}),e.jsx("div",{className:"grid gap-4 sm:grid-cols-2",children:s?b.length>0?b.map(r=>e.jsx(N,{item:r},r.id)):e.jsxs("div",{className:"col-span-full text-center py-12 text-gray-400",children:[e.jsx("p",{className:"text-lg",children:"No items found."}),e.jsx("p",{className:"text-sm text-gray-500",children:"Try changing your filters or search query."})]}):Array.from({length:4}).map((r,c)=>e.jsx(C,{},c))}),s&&p.length>t&&e.jsx(w,{currentPage:o,totalPages:y,onPageChange:j,maxVisible:9})]})}export{L as default};
