(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function uT(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var Sm={exports:{}},Hl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tE;function a1(){if(tE)return Hl;tE=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var h=null;if(u!==void 0&&(h=""+u),o.key!==void 0&&(h=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:i,type:s,key:h,ref:o!==void 0?o:null,props:u}}return Hl.Fragment=e,Hl.jsx=n,Hl.jsxs=n,Hl}var nE;function o1(){return nE||(nE=1,Sm.exports=a1()),Sm.exports}var R=o1(),wm={exports:{}},Ee={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iE;function l1(){if(iE)return Ee;iE=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),S=Symbol.iterator;function P(M){return M===null||typeof M!="object"?null:(M=S&&M[S]||M["@@iterator"],typeof M=="function"?M:null)}var H={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Q=Object.assign,G={};function X(M,ee,se){this.props=M,this.context=ee,this.refs=G,this.updater=se||H}X.prototype.isReactComponent={},X.prototype.setState=function(M,ee){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,ee,"setState")},X.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function ne(){}ne.prototype=X.prototype;function ae(M,ee,se){this.props=M,this.context=ee,this.refs=G,this.updater=se||H}var Re=ae.prototype=new ne;Re.constructor=ae,Q(Re,X.prototype),Re.isPureReactComponent=!0;var Ce=Array.isArray;function Ie(){}var x={H:null,A:null,T:null,S:null},w=Object.prototype.hasOwnProperty;function I(M,ee,se){var ue=se.ref;return{$$typeof:i,type:M,key:ee,ref:ue!==void 0?ue:null,props:se}}function V(M,ee){return I(M.type,ee,M.props)}function D(M){return typeof M=="object"&&M!==null&&M.$$typeof===i}function k(M){var ee={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(se){return ee[se]})}var C=/\/+/g;function rt(M,ee){return typeof M=="object"&&M!==null&&M.key!=null?k(""+M.key):ee.toString(36)}function Dt(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(Ie,Ie):(M.status="pending",M.then(function(ee){M.status==="pending"&&(M.status="fulfilled",M.value=ee)},function(ee){M.status==="pending"&&(M.status="rejected",M.reason=ee)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function $(M,ee,se,ue,_e){var Se=typeof M;(Se==="undefined"||Se==="boolean")&&(M=null);var ke=!1;if(M===null)ke=!0;else switch(Se){case"bigint":case"string":case"number":ke=!0;break;case"object":switch(M.$$typeof){case i:case e:ke=!0;break;case E:return ke=M._init,$(ke(M._payload),ee,se,ue,_e)}}if(ke)return _e=_e(M),ke=ue===""?"."+rt(M,0):ue,Ce(_e)?(se="",ke!=null&&(se=ke.replace(C,"$&/")+"/"),$(_e,ee,se,"",function(Ts){return Ts})):_e!=null&&(D(_e)&&(_e=V(_e,se+(_e.key==null||M&&M.key===_e.key?"":(""+_e.key).replace(C,"$&/")+"/")+ke)),ee.push(_e)),1;ke=0;var Ot=ue===""?".":ue+":";if(Ce(M))for(var st=0;st<M.length;st++)ue=M[st],Se=Ot+rt(ue,st),ke+=$(ue,ee,se,Se,_e);else if(st=P(M),typeof st=="function")for(M=st.call(M),st=0;!(ue=M.next()).done;)ue=ue.value,Se=Ot+rt(ue,st++),ke+=$(ue,ee,se,Se,_e);else if(Se==="object"){if(typeof M.then=="function")return $(Dt(M),ee,se,ue,_e);throw ee=String(M),Error("Objects are not valid as a React child (found: "+(ee==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":ee)+"). If you meant to render a collection of children, use an array instead.")}return ke}function re(M,ee,se){if(M==null)return M;var ue=[],_e=0;return $(M,ue,"","",function(Se){return ee.call(se,Se,_e++)}),ue}function me(M){if(M._status===-1){var ee=M._result;ee=ee(),ee.then(function(se){(M._status===0||M._status===-1)&&(M._status=1,M._result=se)},function(se){(M._status===0||M._status===-1)&&(M._status=2,M._result=se)}),M._status===-1&&(M._status=0,M._result=ee)}if(M._status===1)return M._result.default;throw M._result}var je=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ee=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(ee))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)},Ge={map:re,forEach:function(M,ee,se){re(M,function(){ee.apply(this,arguments)},se)},count:function(M){var ee=0;return re(M,function(){ee++}),ee},toArray:function(M){return re(M,function(ee){return ee})||[]},only:function(M){if(!D(M))throw Error("React.Children.only expected to receive a single React element child.");return M}};return Ee.Activity=b,Ee.Children=Ge,Ee.Component=X,Ee.Fragment=n,Ee.Profiler=o,Ee.PureComponent=ae,Ee.StrictMode=s,Ee.Suspense=g,Ee.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=x,Ee.__COMPILER_RUNTIME={__proto__:null,c:function(M){return x.H.useMemoCache(M)}},Ee.cache=function(M){return function(){return M.apply(null,arguments)}},Ee.cacheSignal=function(){return null},Ee.cloneElement=function(M,ee,se){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var ue=Q({},M.props),_e=M.key;if(ee!=null)for(Se in ee.key!==void 0&&(_e=""+ee.key),ee)!w.call(ee,Se)||Se==="key"||Se==="__self"||Se==="__source"||Se==="ref"&&ee.ref===void 0||(ue[Se]=ee[Se]);var Se=arguments.length-2;if(Se===1)ue.children=se;else if(1<Se){for(var ke=Array(Se),Ot=0;Ot<Se;Ot++)ke[Ot]=arguments[Ot+2];ue.children=ke}return I(M.type,_e,ue)},Ee.createContext=function(M){return M={$$typeof:h,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:u,_context:M},M},Ee.createElement=function(M,ee,se){var ue,_e={},Se=null;if(ee!=null)for(ue in ee.key!==void 0&&(Se=""+ee.key),ee)w.call(ee,ue)&&ue!=="key"&&ue!=="__self"&&ue!=="__source"&&(_e[ue]=ee[ue]);var ke=arguments.length-2;if(ke===1)_e.children=se;else if(1<ke){for(var Ot=Array(ke),st=0;st<ke;st++)Ot[st]=arguments[st+2];_e.children=Ot}if(M&&M.defaultProps)for(ue in ke=M.defaultProps,ke)_e[ue]===void 0&&(_e[ue]=ke[ue]);return I(M,Se,_e)},Ee.createRef=function(){return{current:null}},Ee.forwardRef=function(M){return{$$typeof:m,render:M}},Ee.isValidElement=D,Ee.lazy=function(M){return{$$typeof:E,_payload:{_status:-1,_result:M},_init:me}},Ee.memo=function(M,ee){return{$$typeof:p,type:M,compare:ee===void 0?null:ee}},Ee.startTransition=function(M){var ee=x.T,se={};x.T=se;try{var ue=M(),_e=x.S;_e!==null&&_e(se,ue),typeof ue=="object"&&ue!==null&&typeof ue.then=="function"&&ue.then(Ie,je)}catch(Se){je(Se)}finally{ee!==null&&se.types!==null&&(ee.types=se.types),x.T=ee}},Ee.unstable_useCacheRefresh=function(){return x.H.useCacheRefresh()},Ee.use=function(M){return x.H.use(M)},Ee.useActionState=function(M,ee,se){return x.H.useActionState(M,ee,se)},Ee.useCallback=function(M,ee){return x.H.useCallback(M,ee)},Ee.useContext=function(M){return x.H.useContext(M)},Ee.useDebugValue=function(){},Ee.useDeferredValue=function(M,ee){return x.H.useDeferredValue(M,ee)},Ee.useEffect=function(M,ee){return x.H.useEffect(M,ee)},Ee.useEffectEvent=function(M){return x.H.useEffectEvent(M)},Ee.useId=function(){return x.H.useId()},Ee.useImperativeHandle=function(M,ee,se){return x.H.useImperativeHandle(M,ee,se)},Ee.useInsertionEffect=function(M,ee){return x.H.useInsertionEffect(M,ee)},Ee.useLayoutEffect=function(M,ee){return x.H.useLayoutEffect(M,ee)},Ee.useMemo=function(M,ee){return x.H.useMemo(M,ee)},Ee.useOptimistic=function(M,ee){return x.H.useOptimistic(M,ee)},Ee.useReducer=function(M,ee,se){return x.H.useReducer(M,ee,se)},Ee.useRef=function(M){return x.H.useRef(M)},Ee.useState=function(M){return x.H.useState(M)},Ee.useSyncExternalStore=function(M,ee,se){return x.H.useSyncExternalStore(M,ee,se)},Ee.useTransition=function(){return x.H.useTransition()},Ee.version="19.2.0",Ee}var rE;function Ap(){return rE||(rE=1,wm.exports=l1()),wm.exports}var U=Ap();const hr=uT(U);var Rm={exports:{}},Fl={},Im={exports:{}},Cm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sE;function u1(){return sE||(sE=1,(function(i){function e($,re){var me=$.length;$.push(re);e:for(;0<me;){var je=me-1>>>1,Ge=$[je];if(0<o(Ge,re))$[je]=re,$[me]=Ge,me=je;else break e}}function n($){return $.length===0?null:$[0]}function s($){if($.length===0)return null;var re=$[0],me=$.pop();if(me!==re){$[0]=me;e:for(var je=0,Ge=$.length,M=Ge>>>1;je<M;){var ee=2*(je+1)-1,se=$[ee],ue=ee+1,_e=$[ue];if(0>o(se,me))ue<Ge&&0>o(_e,se)?($[je]=_e,$[ue]=me,je=ue):($[je]=se,$[ee]=me,je=ee);else if(ue<Ge&&0>o(_e,me))$[je]=_e,$[ue]=me,je=ue;else break e}}return re}function o($,re){var me=$.sortIndex-re.sortIndex;return me!==0?me:$.id-re.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var h=Date,m=h.now();i.unstable_now=function(){return h.now()-m}}var g=[],p=[],E=1,b=null,S=3,P=!1,H=!1,Q=!1,G=!1,X=typeof setTimeout=="function"?setTimeout:null,ne=typeof clearTimeout=="function"?clearTimeout:null,ae=typeof setImmediate<"u"?setImmediate:null;function Re($){for(var re=n(p);re!==null;){if(re.callback===null)s(p);else if(re.startTime<=$)s(p),re.sortIndex=re.expirationTime,e(g,re);else break;re=n(p)}}function Ce($){if(Q=!1,Re($),!H)if(n(g)!==null)H=!0,Ie||(Ie=!0,k());else{var re=n(p);re!==null&&Dt(Ce,re.startTime-$)}}var Ie=!1,x=-1,w=5,I=-1;function V(){return G?!0:!(i.unstable_now()-I<w)}function D(){if(G=!1,Ie){var $=i.unstable_now();I=$;var re=!0;try{e:{H=!1,Q&&(Q=!1,ne(x),x=-1),P=!0;var me=S;try{t:{for(Re($),b=n(g);b!==null&&!(b.expirationTime>$&&V());){var je=b.callback;if(typeof je=="function"){b.callback=null,S=b.priorityLevel;var Ge=je(b.expirationTime<=$);if($=i.unstable_now(),typeof Ge=="function"){b.callback=Ge,Re($),re=!0;break t}b===n(g)&&s(g),Re($)}else s(g);b=n(g)}if(b!==null)re=!0;else{var M=n(p);M!==null&&Dt(Ce,M.startTime-$),re=!1}}break e}finally{b=null,S=me,P=!1}re=void 0}}finally{re?k():Ie=!1}}}var k;if(typeof ae=="function")k=function(){ae(D)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,rt=C.port2;C.port1.onmessage=D,k=function(){rt.postMessage(null)}}else k=function(){X(D,0)};function Dt($,re){x=X(function(){$(i.unstable_now())},re)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function($){$.callback=null},i.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<$?Math.floor(1e3/$):5},i.unstable_getCurrentPriorityLevel=function(){return S},i.unstable_next=function($){switch(S){case 1:case 2:case 3:var re=3;break;default:re=S}var me=S;S=re;try{return $()}finally{S=me}},i.unstable_requestPaint=function(){G=!0},i.unstable_runWithPriority=function($,re){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var me=S;S=$;try{return re()}finally{S=me}},i.unstable_scheduleCallback=function($,re,me){var je=i.unstable_now();switch(typeof me=="object"&&me!==null?(me=me.delay,me=typeof me=="number"&&0<me?je+me:je):me=je,$){case 1:var Ge=-1;break;case 2:Ge=250;break;case 5:Ge=1073741823;break;case 4:Ge=1e4;break;default:Ge=5e3}return Ge=me+Ge,$={id:E++,callback:re,priorityLevel:$,startTime:me,expirationTime:Ge,sortIndex:-1},me>je?($.sortIndex=me,e(p,$),n(g)===null&&$===n(p)&&(Q?(ne(x),x=-1):Q=!0,Dt(Ce,me-je))):($.sortIndex=Ge,e(g,$),H||P||(H=!0,Ie||(Ie=!0,k()))),$},i.unstable_shouldYield=V,i.unstable_wrapCallback=function($){var re=S;return function(){var me=S;S=re;try{return $.apply(this,arguments)}finally{S=me}}}})(Cm)),Cm}var aE;function c1(){return aE||(aE=1,Im.exports=u1()),Im.exports}var Nm={exports:{}},$t={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oE;function h1(){if(oE)return $t;oE=1;var i=Ap();function e(g){var p="https://react.dev/errors/"+g;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)p+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+g+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(g,p,E){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:b==null?null:""+b,children:g,containerInfo:p,implementation:E}}var h=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(g,p){if(g==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return $t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,$t.createPortal=function(g,p){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return u(g,p,null,E)},$t.flushSync=function(g){var p=h.T,E=s.p;try{if(h.T=null,s.p=2,g)return g()}finally{h.T=p,s.p=E,s.d.f()}},$t.preconnect=function(g,p){typeof g=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,s.d.C(g,p))},$t.prefetchDNS=function(g){typeof g=="string"&&s.d.D(g)},$t.preinit=function(g,p){if(typeof g=="string"&&p&&typeof p.as=="string"){var E=p.as,b=m(E,p.crossOrigin),S=typeof p.integrity=="string"?p.integrity:void 0,P=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;E==="style"?s.d.S(g,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:b,integrity:S,fetchPriority:P}):E==="script"&&s.d.X(g,{crossOrigin:b,integrity:S,fetchPriority:P,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},$t.preinitModule=function(g,p){if(typeof g=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var E=m(p.as,p.crossOrigin);s.d.M(g,{crossOrigin:E,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&s.d.M(g)},$t.preload=function(g,p){if(typeof g=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var E=p.as,b=m(E,p.crossOrigin);s.d.L(g,E,{crossOrigin:b,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},$t.preloadModule=function(g,p){if(typeof g=="string")if(p){var E=m(p.as,p.crossOrigin);s.d.m(g,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:E,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else s.d.m(g)},$t.requestFormReset=function(g){s.d.r(g)},$t.unstable_batchedUpdates=function(g,p){return g(p)},$t.useFormState=function(g,p,E){return h.H.useFormState(g,p,E)},$t.useFormStatus=function(){return h.H.useHostTransitionStatus()},$t.version="19.2.0",$t}var lE;function f1(){if(lE)return Nm.exports;lE=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Nm.exports=h1(),Nm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uE;function d1(){if(uE)return Fl;uE=1;var i=c1(),e=Ap(),n=f1();function s(t){var r="https://react.dev/errors/"+t;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var r=t,a=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,(r.flags&4098)!==0&&(a=r.return),t=r.return;while(t)}return r.tag===3?a:null}function h(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function m(t){if(t.tag===31){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function g(t){if(u(t)!==t)throw Error(s(188))}function p(t){var r=t.alternate;if(!r){if(r=u(t),r===null)throw Error(s(188));return r!==t?null:t}for(var a=t,l=r;;){var f=a.return;if(f===null)break;var d=f.alternate;if(d===null){if(l=f.return,l!==null){a=l;continue}break}if(f.child===d.child){for(d=f.child;d;){if(d===a)return g(f),t;if(d===l)return g(f),r;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=f,l=d;else{for(var _=!1,T=f.child;T;){if(T===a){_=!0,a=f,l=d;break}if(T===l){_=!0,l=f,a=d;break}T=T.sibling}if(!_){for(T=d.child;T;){if(T===a){_=!0,a=d,l=f;break}if(T===l){_=!0,l=d,a=f;break}T=T.sibling}if(!_)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:r}function E(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t;for(t=t.child;t!==null;){if(r=E(t),r!==null)return r;t=t.sibling}return null}var b=Object.assign,S=Symbol.for("react.element"),P=Symbol.for("react.transitional.element"),H=Symbol.for("react.portal"),Q=Symbol.for("react.fragment"),G=Symbol.for("react.strict_mode"),X=Symbol.for("react.profiler"),ne=Symbol.for("react.consumer"),ae=Symbol.for("react.context"),Re=Symbol.for("react.forward_ref"),Ce=Symbol.for("react.suspense"),Ie=Symbol.for("react.suspense_list"),x=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function k(t){return t===null||typeof t!="object"?null:(t=D&&t[D]||t["@@iterator"],typeof t=="function"?t:null)}var C=Symbol.for("react.client.reference");function rt(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===C?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Q:return"Fragment";case X:return"Profiler";case G:return"StrictMode";case Ce:return"Suspense";case Ie:return"SuspenseList";case I:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case H:return"Portal";case ae:return t.displayName||"Context";case ne:return(t._context.displayName||"Context")+".Consumer";case Re:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case x:return r=t.displayName||null,r!==null?r:rt(t.type)||"Memo";case w:r=t._payload,t=t._init;try{return rt(t(r))}catch{}}return null}var Dt=Array.isArray,$=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,me={pending:!1,data:null,method:null,action:null},je=[],Ge=-1;function M(t){return{current:t}}function ee(t){0>Ge||(t.current=je[Ge],je[Ge]=null,Ge--)}function se(t,r){Ge++,je[Ge]=t.current,t.current=r}var ue=M(null),_e=M(null),Se=M(null),ke=M(null);function Ot(t,r){switch(se(Se,r),se(_e,t),se(ue,null),r.nodeType){case 9:case 11:t=(t=r.documentElement)&&(t=t.namespaceURI)?Sv(t):0;break;default:if(t=r.tagName,r=r.namespaceURI)r=Sv(r),t=wv(r,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}ee(ue),se(ue,t)}function st(){ee(ue),ee(_e),ee(Se)}function Ts(t){t.memoizedState!==null&&se(ke,t);var r=ue.current,a=wv(r,t.type);r!==a&&(se(_e,t),se(ue,a))}function va(t){_e.current===t&&(ee(ue),ee(_e)),ke.current===t&&(ee(ke),jl._currentValue=me)}var Ea,Ta;function ci(t){if(Ea===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);Ea=r&&r[1]||"",Ta=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ea+t+Ta}var jo=!1;function bs(t,r){if(!t||jo)return"";jo=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(r){var Z=function(){throw Error()};if(Object.defineProperty(Z.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Z,[])}catch(K){var q=K}Reflect.construct(t,[],Z)}else{try{Z.call()}catch(K){q=K}t.call(Z.prototype)}}else{try{throw Error()}catch(K){q=K}(Z=t())&&typeof Z.catch=="function"&&Z.catch(function(){})}}catch(K){if(K&&q&&typeof K.stack=="string")return[K.stack,q.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),_=d[0],T=d[1];if(_&&T){var N=_.split(`
`),B=T.split(`
`);for(f=l=0;l<N.length&&!N[l].includes("DetermineComponentFrameRoot");)l++;for(;f<B.length&&!B[f].includes("DetermineComponentFrameRoot");)f++;if(l===N.length||f===B.length)for(l=N.length-1,f=B.length-1;1<=l&&0<=f&&N[l]!==B[f];)f--;for(;1<=l&&0<=f;l--,f--)if(N[l]!==B[f]){if(l!==1||f!==1)do if(l--,f--,0>f||N[l]!==B[f]){var Y=`
`+N[l].replace(" at new "," at ");return t.displayName&&Y.includes("<anonymous>")&&(Y=Y.replace("<anonymous>",t.displayName)),Y}while(1<=l&&0<=f);break}}}finally{jo=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?ci(a):""}function zo(t,r){switch(t.tag){case 26:case 27:case 5:return ci(t.type);case 16:return ci("Lazy");case 13:return t.child!==r&&r!==null?ci("Suspense Fallback"):ci("Suspense");case 19:return ci("SuspenseList");case 0:case 15:return bs(t.type,!1);case 11:return bs(t.type.render,!1);case 1:return bs(t.type,!0);case 31:return ci("Activity");default:return""}}function Bo(t){try{var r="",a=null;do r+=zo(t,a),a=t,t=t.return;while(t);return r}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var vt=Object.prototype.hasOwnProperty,Mt=i.unstable_scheduleCallback,br=i.unstable_cancelCallback,Rf=i.unstable_shouldYield,Vu=i.unstable_requestPaint,en=i.unstable_now,As=i.unstable_getCurrentPriorityLevel,qo=i.unstable_ImmediatePriority,Ho=i.unstable_UserBlockingPriority,Ar=i.unstable_NormalPriority,If=i.unstable_LowPriority,Pu=i.unstable_IdlePriority,Lu=i.log,ku=i.unstable_setDisableYieldValue,qn=null,zt=null;function wn(t){if(typeof Lu=="function"&&ku(t),zt&&typeof zt.setStrictMode=="function")try{zt.setStrictMode(qn,t)}catch{}}var ft=Math.clz32?Math.clz32:ju,Uu=Math.log,ba=Math.LN2;function ju(t){return t>>>=0,t===0?32:31-(Uu(t)/ba|0)|0}var hi=256,Ss=262144,Et=4194304;function fi(t){var r=t&42;if(r!==0)return r;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function di(t,r,a){var l=t.pendingLanes;if(l===0)return 0;var f=0,d=t.suspendedLanes,_=t.pingedLanes;t=t.warmLanes;var T=l&134217727;return T!==0?(l=T&~d,l!==0?f=fi(l):(_&=T,_!==0?f=fi(_):a||(a=T&~t,a!==0&&(f=fi(a))))):(T=l&~d,T!==0?f=fi(T):_!==0?f=fi(_):a||(a=l&~t,a!==0&&(f=fi(a)))),f===0?0:r!==0&&r!==f&&(r&d)===0&&(d=f&-f,a=r&-r,d>=a||d===32&&(a&4194048)!==0)?r:f}function Hn(t,r){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&r)===0}function Cf(t,r){switch(t){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function zu(){var t=Et;return Et<<=1,(Et&62914560)===0&&(Et=4194304),t}function mi(t){for(var r=[],a=0;31>a;a++)r.push(t);return r}function ws(t,r){t.pendingLanes|=r,r!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Nf(t,r,a,l,f,d){var _=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var T=t.entanglements,N=t.expirationTimes,B=t.hiddenUpdates;for(a=_&~a;0<a;){var Y=31-ft(a),Z=1<<Y;T[Y]=0,N[Y]=-1;var q=B[Y];if(q!==null)for(B[Y]=null,Y=0;Y<q.length;Y++){var K=q[Y];K!==null&&(K.lane&=-536870913)}a&=~Z}l!==0&&Rs(t,l,0),d!==0&&f===0&&t.tag!==0&&(t.suspendedLanes|=d&~(_&~r))}function Rs(t,r,a){t.pendingLanes|=r,t.suspendedLanes&=~r;var l=31-ft(r);t.entangledLanes|=r,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function Fo(t,r){var a=t.entangledLanes|=r;for(t=t.entanglements;a;){var l=31-ft(a),f=1<<l;f&r|t[l]&r&&(t[l]|=r),a&=~f}}function Go(t,r){var a=r&-r;return a=(a&42)!==0?1:Is(a),(a&(t.suspendedLanes|r))!==0?0:a}function Is(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Fi(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Bu(){var t=re.p;return t!==0?t:(t=window.event,t===void 0?32:Yv(t.type))}function Fn(t,r){var a=re.p;try{return re.p=t,r()}finally{re.p=a}}var Gn=Math.random().toString(36).slice(2),Tt="__reactFiber$"+Gn,Lt="__reactProps$"+Gn,pi="__reactContainer$"+Gn,Aa="__reactEvents$"+Gn,xf="__reactListeners$"+Gn,qu="__reactHandles$"+Gn,Hu="__reactResources$"+Gn,gi="__reactMarker$"+Gn;function Sa(t){delete t[Tt],delete t[Lt],delete t[Aa],delete t[xf],delete t[qu]}function yi(t){var r=t[Tt];if(r)return r;for(var a=t.parentNode;a;){if(r=a[pi]||a[Tt]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(t=Ov(t);t!==null;){if(a=t[Tt])return a;t=Ov(t)}return r}t=a,a=t.parentNode}return null}function Rn(t){if(t=t[Tt]||t[pi]){var r=t.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return t}return null}function dn(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t.stateNode;throw Error(s(33))}function _i(t){var r=t[Hu];return r||(r=t[Hu]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function bt(t){t[gi]=!0}var Ko=new Set,Qo={};function vi(t,r){Ei(t,r),Ei(t+"Capture",r)}function Ei(t,r){for(Qo[t]=r,t=0;t<r.length;t++)Ko.add(r[t])}var Yo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),$o={},Xo={};function Fu(t){return vt.call(Xo,t)?!0:vt.call($o,t)?!1:Yo.test(t)?Xo[t]=!0:($o[t]=!0,!1)}function wa(t,r,a){if(Fu(r))if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(r);return;case"boolean":var l=r.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(r);return}}t.setAttribute(r,""+a)}}function mn(t,r,a){if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttribute(r,""+a)}}function At(t,r,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(r,a,""+l)}}function kt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Sr(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Jo(t,r,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,r);if(!t.hasOwnProperty(r)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var f=l.get,d=l.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return f.call(this)},set:function(_){a=""+_,d.call(this,_)}}),Object.defineProperty(t,r,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function Ke(t){if(!t._valueTracker){var r=Sr(t)?"checked":"value";t._valueTracker=Jo(t,r,""+t[r])}}function Cs(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var a=r.getValue(),l="";return t&&(l=Sr(t)?t.checked?"true":"false":t.value),t=l,t!==a?(r.setValue(t),!0):!1}function Ti(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Ns=/[\n"\\]/g;function sn(t){return t.replace(Ns,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Ra(t,r,a,l,f,d,_,T){t.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.type=_:t.removeAttribute("type"),r!=null?_==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+kt(r)):t.value!==""+kt(r)&&(t.value=""+kt(r)):_!=="submit"&&_!=="reset"||t.removeAttribute("value"),r!=null?Wo(t,_,kt(r)):a!=null?Wo(t,_,kt(a)):l!=null&&t.removeAttribute("value"),f==null&&d!=null&&(t.defaultChecked=!!d),f!=null&&(t.checked=f&&typeof f!="function"&&typeof f!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+kt(T):t.removeAttribute("name")}function Gu(t,r,a,l,f,d,_,T){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),r!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||r!=null)){Ke(t);return}a=a!=null?""+kt(a):"",r=r!=null?""+kt(r):a,T||r===t.value||(t.value=r),t.defaultValue=r}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=T?t.checked:!!l,t.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.name=_),Ke(t)}function Wo(t,r,a){r==="number"&&Ti(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function wr(t,r,a,l){if(t=t.options,r){r={};for(var f=0;f<a.length;f++)r["$"+a[f]]=!0;for(a=0;a<t.length;a++)f=r.hasOwnProperty("$"+t[a].value),t[a].selected!==f&&(t[a].selected=f),f&&l&&(t[a].defaultSelected=!0)}else{for(a=""+kt(a),r=null,f=0;f<t.length;f++){if(t[f].value===a){t[f].selected=!0,l&&(t[f].defaultSelected=!0);return}r!==null||t[f].disabled||(r=t[f])}r!==null&&(r.selected=!0)}}function Ku(t,r,a){if(r!=null&&(r=""+kt(r),r!==t.value&&(t.value=r),a==null)){t.defaultValue!==r&&(t.defaultValue=r);return}t.defaultValue=a!=null?""+kt(a):""}function Rr(t,r,a,l){if(r==null){if(l!=null){if(a!=null)throw Error(s(92));if(Dt(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),r=a}a=kt(r),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),Ke(t)}function an(t,r){if(r){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=r;return}}t.textContent=r}var Qu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Zo(t,r,a){var l=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="":l?t.setProperty(r,a):typeof a!="number"||a===0||Qu.has(r)?r==="float"?t.cssFloat=a:t[r]=(""+a).trim():t[r]=a+"px"}function el(t,r,a){if(r!=null&&typeof r!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||r!=null&&r.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var f in r)l=r[f],r.hasOwnProperty(f)&&a[f]!==l&&Zo(t,f,l)}else for(var d in r)r.hasOwnProperty(d)&&Zo(t,d,r[d])}function Ia(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Yu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ir=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ca(t){return Ir.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Kn(){}var tl=null;function In(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Cr=null,bi=null;function xs(t){var r=Rn(t);if(r&&(t=r.stateNode)){var a=t[Lt]||null;e:switch(t=r.stateNode,r.type){case"input":if(Ra(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+sn(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var l=a[r];if(l!==t&&l.form===t.form){var f=l[Lt]||null;if(!f)throw Error(s(90));Ra(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(r=0;r<a.length;r++)l=a[r],l.form===t.form&&Cs(l)}break e;case"textarea":Ku(t,a.value,a.defaultValue);break e;case"select":r=a.value,r!=null&&wr(t,!!a.multiple,r,!1)}}}var Na=!1;function Nr(t,r,a){if(Na)return t(r,a);Na=!0;try{var l=t(r);return l}finally{if(Na=!1,(Cr!==null||bi!==null)&&(Bc(),Cr&&(r=Cr,t=bi,bi=Cr=null,xs(r),t)))for(r=0;r<t.length;r++)xs(t[r])}}function Qn(t,r){var a=t.stateNode;if(a===null)return null;var l=a[Lt]||null;if(l===null)return null;a=l[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,r,typeof a));return a}var Cn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ds=!1;if(Cn)try{var $e={};Object.defineProperty($e,"passive",{get:function(){Ds=!0}}),window.addEventListener("test",$e,$e),window.removeEventListener("test",$e,$e)}catch{Ds=!1}var Ai=null,nl=null,Os=null;function il(){if(Os)return Os;var t,r=nl,a=r.length,l,f="value"in Ai?Ai.value:Ai.textContent,d=f.length;for(t=0;t<a&&r[t]===f[t];t++);var _=a-t;for(l=1;l<=_&&r[a-l]===f[d-l];l++);return Os=f.slice(t,1<l?1-l:void 0)}function Ms(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function Gi(){return!0}function Yn(){return!1}function Bt(t){function r(a,l,f,d,_){this._reactName=a,this._targetInst=f,this.type=l,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(a=t[T],this[T]=a?a(d):d[T]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Gi:Yn,this.isPropagationStopped=Yn,this}return b(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Gi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Gi)},persist:function(){},isPersistent:Gi}),r}var Ki={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Si=Bt(Ki),xr=b({},Ki,{view:0,detail:0}),rl=Bt(xr),Dr,xa,wi,Da=b({},xr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Or,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==wi&&(wi&&t.type==="mousemove"?(Dr=t.screenX-wi.screenX,xa=t.screenY-wi.screenY):xa=Dr=0,wi=t),Dr)},movementY:function(t){return"movementY"in t?t.movementY:xa}}),sl=Bt(Da),Vs=b({},Da,{dataTransfer:0}),$u=Bt(Vs),Xu=b({},xr,{relatedTarget:0}),Ps=Bt(Xu),al=b({},Ki,{animationName:0,elapsedTime:0,pseudoElement:0}),Ju=Bt(al),Oa=b({},Ki,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Wu=Bt(Oa),Zu=b({},Ki,{data:0}),Ri=Bt(Zu),ec={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},tc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},nc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ic(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=nc[t])?!!r[t]:!1}function Or(){return ic}var tn=b({},xr,{key:function(t){if(t.key){var r=ec[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=Ms(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?tc[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Or,charCode:function(t){return t.type==="keypress"?Ms(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ms(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),rc=Bt(tn),sc=b({},Da,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Qi=Bt(sc),c=b({},xr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Or}),y=Bt(c),v=b({},Ki,{propertyName:0,elapsedTime:0,pseudoElement:0}),A=Bt(v),j=b({},Da,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),F=Bt(j),ie=b({},Ki,{newState:0,oldState:0}),be=Bt(ie),dt=[9,13,27,32],qe=Cn&&"CompositionEvent"in window,at=null;Cn&&"documentMode"in document&&(at=document.documentMode);var Nn=Cn&&"TextEvent"in window&&!at,Ii=Cn&&(!qe||at&&8<at&&11>=at),$n=" ",Xn=!1;function Ls(t,r){switch(t){case"keyup":return dt.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ma(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Va=!1;function xS(t,r){switch(t){case"compositionend":return Ma(r);case"keypress":return r.which!==32?null:(Xn=!0,$n);case"textInput":return t=r.data,t===$n&&Xn?null:t;default:return null}}function DS(t,r){if(Va)return t==="compositionend"||!qe&&Ls(t,r)?(t=il(),Os=nl=Ai=null,Va=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Ii&&r.locale!=="ko"?null:r.data;default:return null}}var OS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Pg(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!OS[t.type]:r==="textarea"}function Lg(t,r,a,l){Cr?bi?bi.push(l):bi=[l]:Cr=l,r=Yc(r,"onChange"),0<r.length&&(a=new Si("onChange","change",null,a,l),t.push({event:a,listeners:r}))}var ol=null,ll=null;function MS(t){_v(t,0)}function ac(t){var r=dn(t);if(Cs(r))return t}function kg(t,r){if(t==="change")return r}var Ug=!1;if(Cn){var Df;if(Cn){var Of="oninput"in document;if(!Of){var jg=document.createElement("div");jg.setAttribute("oninput","return;"),Of=typeof jg.oninput=="function"}Df=Of}else Df=!1;Ug=Df&&(!document.documentMode||9<document.documentMode)}function zg(){ol&&(ol.detachEvent("onpropertychange",Bg),ll=ol=null)}function Bg(t){if(t.propertyName==="value"&&ac(ll)){var r=[];Lg(r,ll,t,In(t)),Nr(MS,r)}}function VS(t,r,a){t==="focusin"?(zg(),ol=r,ll=a,ol.attachEvent("onpropertychange",Bg)):t==="focusout"&&zg()}function PS(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ac(ll)}function LS(t,r){if(t==="click")return ac(r)}function kS(t,r){if(t==="input"||t==="change")return ac(r)}function US(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var pn=typeof Object.is=="function"?Object.is:US;function ul(t,r){if(pn(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var a=Object.keys(t),l=Object.keys(r);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var f=a[l];if(!vt.call(r,f)||!pn(t[f],r[f]))return!1}return!0}function qg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Hg(t,r){var a=qg(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=r&&l>=r)return{node:a,offset:r-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=qg(a)}}function Fg(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?Fg(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function Gg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var r=Ti(t.document);r instanceof t.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)t=r.contentWindow;else break;r=Ti(t.document)}return r}function Mf(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}var jS=Cn&&"documentMode"in document&&11>=document.documentMode,Pa=null,Vf=null,cl=null,Pf=!1;function Kg(t,r,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Pf||Pa==null||Pa!==Ti(l)||(l=Pa,"selectionStart"in l&&Mf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),cl&&ul(cl,l)||(cl=l,l=Yc(Vf,"onSelect"),0<l.length&&(r=new Si("onSelect","select",null,r,a),t.push({event:r,listeners:l}),r.target=Pa)))}function ks(t,r){var a={};return a[t.toLowerCase()]=r.toLowerCase(),a["Webkit"+t]="webkit"+r,a["Moz"+t]="moz"+r,a}var La={animationend:ks("Animation","AnimationEnd"),animationiteration:ks("Animation","AnimationIteration"),animationstart:ks("Animation","AnimationStart"),transitionrun:ks("Transition","TransitionRun"),transitionstart:ks("Transition","TransitionStart"),transitioncancel:ks("Transition","TransitionCancel"),transitionend:ks("Transition","TransitionEnd")},Lf={},Qg={};Cn&&(Qg=document.createElement("div").style,"AnimationEvent"in window||(delete La.animationend.animation,delete La.animationiteration.animation,delete La.animationstart.animation),"TransitionEvent"in window||delete La.transitionend.transition);function Us(t){if(Lf[t])return Lf[t];if(!La[t])return t;var r=La[t],a;for(a in r)if(r.hasOwnProperty(a)&&a in Qg)return Lf[t]=r[a];return t}var Yg=Us("animationend"),$g=Us("animationiteration"),Xg=Us("animationstart"),zS=Us("transitionrun"),BS=Us("transitionstart"),qS=Us("transitioncancel"),Jg=Us("transitionend"),Wg=new Map,kf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");kf.push("scrollEnd");function Jn(t,r){Wg.set(t,r),vi(r,[t])}var oc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},xn=[],ka=0,Uf=0;function lc(){for(var t=ka,r=Uf=ka=0;r<t;){var a=xn[r];xn[r++]=null;var l=xn[r];xn[r++]=null;var f=xn[r];xn[r++]=null;var d=xn[r];if(xn[r++]=null,l!==null&&f!==null){var _=l.pending;_===null?f.next=f:(f.next=_.next,_.next=f),l.pending=f}d!==0&&Zg(a,f,d)}}function uc(t,r,a,l){xn[ka++]=t,xn[ka++]=r,xn[ka++]=a,xn[ka++]=l,Uf|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function jf(t,r,a,l){return uc(t,r,a,l),cc(t)}function js(t,r){return uc(t,null,null,r),cc(t)}function Zg(t,r,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var f=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(f=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,f&&r!==null&&(f=31-ft(a),t=d.hiddenUpdates,l=t[f],l===null?t[f]=[r]:l.push(r),r.lane=a|536870912),d):null}function cc(t){if(50<Ol)throw Ol=0,Yd=null,Error(s(185));for(var r=t.return;r!==null;)t=r,r=t.return;return t.tag===3?t.stateNode:null}var Ua={};function HS(t,r,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gn(t,r,a,l){return new HS(t,r,a,l)}function zf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Yi(t,r){var a=t.alternate;return a===null?(a=gn(t.tag,r,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=r,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,r=t.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function ey(t,r){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=r,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,r=a.dependencies,t.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),t}function hc(t,r,a,l,f,d){var _=0;if(l=t,typeof t=="function")zf(t)&&(_=1);else if(typeof t=="string")_=Yw(t,a,ue.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case I:return t=gn(31,a,r,f),t.elementType=I,t.lanes=d,t;case Q:return zs(a.children,f,d,r);case G:_=8,f|=24;break;case X:return t=gn(12,a,r,f|2),t.elementType=X,t.lanes=d,t;case Ce:return t=gn(13,a,r,f),t.elementType=Ce,t.lanes=d,t;case Ie:return t=gn(19,a,r,f),t.elementType=Ie,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ae:_=10;break e;case ne:_=9;break e;case Re:_=11;break e;case x:_=14;break e;case w:_=16,l=null;break e}_=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return r=gn(_,a,r,f),r.elementType=t,r.type=l,r.lanes=d,r}function zs(t,r,a,l){return t=gn(7,t,l,r),t.lanes=a,t}function Bf(t,r,a){return t=gn(6,t,null,r),t.lanes=a,t}function ty(t){var r=gn(18,null,null,0);return r.stateNode=t,r}function qf(t,r,a){return r=gn(4,t.children!==null?t.children:[],t.key,r),r.lanes=a,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}var ny=new WeakMap;function Dn(t,r){if(typeof t=="object"&&t!==null){var a=ny.get(t);return a!==void 0?a:(r={value:t,source:r,stack:Bo(r)},ny.set(t,r),r)}return{value:t,source:r,stack:Bo(r)}}var ja=[],za=0,fc=null,hl=0,On=[],Mn=0,Mr=null,Ci=1,Ni="";function $i(t,r){ja[za++]=hl,ja[za++]=fc,fc=t,hl=r}function iy(t,r,a){On[Mn++]=Ci,On[Mn++]=Ni,On[Mn++]=Mr,Mr=t;var l=Ci;t=Ni;var f=32-ft(l)-1;l&=~(1<<f),a+=1;var d=32-ft(r)+f;if(30<d){var _=f-f%5;d=(l&(1<<_)-1).toString(32),l>>=_,f-=_,Ci=1<<32-ft(r)+f|a<<f|l,Ni=d+t}else Ci=1<<d|a<<f|l,Ni=t}function Hf(t){t.return!==null&&($i(t,1),iy(t,1,0))}function Ff(t){for(;t===fc;)fc=ja[--za],ja[za]=null,hl=ja[--za],ja[za]=null;for(;t===Mr;)Mr=On[--Mn],On[Mn]=null,Ni=On[--Mn],On[Mn]=null,Ci=On[--Mn],On[Mn]=null}function ry(t,r){On[Mn++]=Ci,On[Mn++]=Ni,On[Mn++]=Mr,Ci=r.id,Ni=r.overflow,Mr=t}var qt=null,tt=null,Le=!1,Vr=null,Vn=!1,Gf=Error(s(519));function Pr(t){var r=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw fl(Dn(r,t)),Gf}function sy(t){var r=t.stateNode,a=t.type,l=t.memoizedProps;switch(r[Tt]=t,r[Lt]=l,a){case"dialog":xe("cancel",r),xe("close",r);break;case"iframe":case"object":case"embed":xe("load",r);break;case"video":case"audio":for(a=0;a<Vl.length;a++)xe(Vl[a],r);break;case"source":xe("error",r);break;case"img":case"image":case"link":xe("error",r),xe("load",r);break;case"details":xe("toggle",r);break;case"input":xe("invalid",r),Gu(r,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":xe("invalid",r);break;case"textarea":xe("invalid",r),Rr(r,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||l.suppressHydrationWarning===!0||bv(r.textContent,a)?(l.popover!=null&&(xe("beforetoggle",r),xe("toggle",r)),l.onScroll!=null&&xe("scroll",r),l.onScrollEnd!=null&&xe("scrollend",r),l.onClick!=null&&(r.onclick=Kn),r=!0):r=!1,r||Pr(t,!0)}function ay(t){for(qt=t.return;qt;)switch(qt.tag){case 5:case 31:case 13:Vn=!1;return;case 27:case 3:Vn=!0;return;default:qt=qt.return}}function Ba(t){if(t!==qt)return!1;if(!Le)return ay(t),Le=!0,!1;var r=t.tag,a;if((a=r!==3&&r!==27)&&((a=r===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||um(t.type,t.memoizedProps)),a=!a),a&&tt&&Pr(t),ay(t),r===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));tt=Dv(t)}else if(r===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));tt=Dv(t)}else r===27?(r=tt,$r(t.type)?(t=mm,mm=null,tt=t):tt=r):tt=qt?Ln(t.stateNode.nextSibling):null;return!0}function Bs(){tt=qt=null,Le=!1}function Kf(){var t=Vr;return t!==null&&(cn===null?cn=t:cn.push.apply(cn,t),Vr=null),t}function fl(t){Vr===null?Vr=[t]:Vr.push(t)}var Qf=M(null),qs=null,Xi=null;function Lr(t,r,a){se(Qf,r._currentValue),r._currentValue=a}function Ji(t){t._currentValue=Qf.current,ee(Qf)}function Yf(t,r,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,l!==null&&(l.childLanes|=r)):l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r),t===a)break;t=t.return}}function $f(t,r,a,l){var f=t.child;for(f!==null&&(f.return=t);f!==null;){var d=f.dependencies;if(d!==null){var _=f.child;d=d.firstContext;e:for(;d!==null;){var T=d;d=f;for(var N=0;N<r.length;N++)if(T.context===r[N]){d.lanes|=a,T=d.alternate,T!==null&&(T.lanes|=a),Yf(d.return,a,t),l||(_=null);break e}d=T.next}}else if(f.tag===18){if(_=f.return,_===null)throw Error(s(341));_.lanes|=a,d=_.alternate,d!==null&&(d.lanes|=a),Yf(_,a,t),_=null}else _=f.child;if(_!==null)_.return=f;else for(_=f;_!==null;){if(_===t){_=null;break}if(f=_.sibling,f!==null){f.return=_.return,_=f;break}_=_.return}f=_}}function qa(t,r,a,l){t=null;for(var f=r,d=!1;f!==null;){if(!d){if((f.flags&524288)!==0)d=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var _=f.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var T=f.type;pn(f.pendingProps.value,_.value)||(t!==null?t.push(T):t=[T])}}else if(f===ke.current){if(_=f.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(t!==null?t.push(jl):t=[jl])}f=f.return}t!==null&&$f(r,t,a,l),r.flags|=262144}function dc(t){for(t=t.firstContext;t!==null;){if(!pn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Hs(t){qs=t,Xi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Ht(t){return oy(qs,t)}function mc(t,r){return qs===null&&Hs(t),oy(t,r)}function oy(t,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},Xi===null){if(t===null)throw Error(s(308));Xi=r,t.dependencies={lanes:0,firstContext:r},t.flags|=524288}else Xi=Xi.next=r;return a}var FS=typeof AbortController<"u"?AbortController:function(){var t=[],r=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){r.aborted=!0,t.forEach(function(a){return a()})}},GS=i.unstable_scheduleCallback,KS=i.unstable_NormalPriority,St={$$typeof:ae,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Xf(){return{controller:new FS,data:new Map,refCount:0}}function dl(t){t.refCount--,t.refCount===0&&GS(KS,function(){t.controller.abort()})}var ml=null,Jf=0,Ha=0,Fa=null;function QS(t,r){if(ml===null){var a=ml=[];Jf=0,Ha=em(),Fa={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Jf++,r.then(ly,ly),r}function ly(){if(--Jf===0&&ml!==null){Fa!==null&&(Fa.status="fulfilled");var t=ml;ml=null,Ha=0,Fa=null;for(var r=0;r<t.length;r++)(0,t[r])()}}function YS(t,r){var a=[],l={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return t.then(function(){l.status="fulfilled",l.value=r;for(var f=0;f<a.length;f++)(0,a[f])(r)},function(f){for(l.status="rejected",l.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),l}var uy=$.S;$.S=function(t,r){K_=en(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&QS(t,r),uy!==null&&uy(t,r)};var Fs=M(null);function Wf(){var t=Fs.current;return t!==null?t:Ze.pooledCache}function pc(t,r){r===null?se(Fs,Fs.current):se(Fs,r.pool)}function cy(){var t=Wf();return t===null?null:{parent:St._currentValue,pool:t}}var Ga=Error(s(460)),Zf=Error(s(474)),gc=Error(s(542)),yc={then:function(){}};function hy(t){return t=t.status,t==="fulfilled"||t==="rejected"}function fy(t,r,a){switch(a=t[a],a===void 0?t.push(r):a!==r&&(r.then(Kn,Kn),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,my(t),t;default:if(typeof r.status=="string")r.then(Kn,Kn);else{if(t=Ze,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=r,t.status="pending",t.then(function(l){if(r.status==="pending"){var f=r;f.status="fulfilled",f.value=l}},function(l){if(r.status==="pending"){var f=r;f.status="rejected",f.reason=l}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,my(t),t}throw Ks=r,Ga}}function Gs(t){try{var r=t._init;return r(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Ks=a,Ga):a}}var Ks=null;function dy(){if(Ks===null)throw Error(s(459));var t=Ks;return Ks=null,t}function my(t){if(t===Ga||t===gc)throw Error(s(483))}var Ka=null,pl=0;function _c(t){var r=pl;return pl+=1,Ka===null&&(Ka=[]),fy(Ka,t,r)}function gl(t,r){r=r.props.ref,t.ref=r!==void 0?r:null}function vc(t,r){throw r.$$typeof===S?Error(s(525)):(t=Object.prototype.toString.call(r),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t)))}function py(t){function r(L,O){if(t){var z=L.deletions;z===null?(L.deletions=[O],L.flags|=16):z.push(O)}}function a(L,O){if(!t)return null;for(;O!==null;)r(L,O),O=O.sibling;return null}function l(L){for(var O=new Map;L!==null;)L.key!==null?O.set(L.key,L):O.set(L.index,L),L=L.sibling;return O}function f(L,O){return L=Yi(L,O),L.index=0,L.sibling=null,L}function d(L,O,z){return L.index=z,t?(z=L.alternate,z!==null?(z=z.index,z<O?(L.flags|=67108866,O):z):(L.flags|=67108866,O)):(L.flags|=1048576,O)}function _(L){return t&&L.alternate===null&&(L.flags|=67108866),L}function T(L,O,z,J){return O===null||O.tag!==6?(O=Bf(z,L.mode,J),O.return=L,O):(O=f(O,z),O.return=L,O)}function N(L,O,z,J){var fe=z.type;return fe===Q?Y(L,O,z.props.children,J,z.key):O!==null&&(O.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===w&&Gs(fe)===O.type)?(O=f(O,z.props),gl(O,z),O.return=L,O):(O=hc(z.type,z.key,z.props,null,L.mode,J),gl(O,z),O.return=L,O)}function B(L,O,z,J){return O===null||O.tag!==4||O.stateNode.containerInfo!==z.containerInfo||O.stateNode.implementation!==z.implementation?(O=qf(z,L.mode,J),O.return=L,O):(O=f(O,z.children||[]),O.return=L,O)}function Y(L,O,z,J,fe){return O===null||O.tag!==7?(O=zs(z,L.mode,J,fe),O.return=L,O):(O=f(O,z),O.return=L,O)}function Z(L,O,z){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=Bf(""+O,L.mode,z),O.return=L,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case P:return z=hc(O.type,O.key,O.props,null,L.mode,z),gl(z,O),z.return=L,z;case H:return O=qf(O,L.mode,z),O.return=L,O;case w:return O=Gs(O),Z(L,O,z)}if(Dt(O)||k(O))return O=zs(O,L.mode,z,null),O.return=L,O;if(typeof O.then=="function")return Z(L,_c(O),z);if(O.$$typeof===ae)return Z(L,mc(L,O),z);vc(L,O)}return null}function q(L,O,z,J){var fe=O!==null?O.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return fe!==null?null:T(L,O,""+z,J);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case P:return z.key===fe?N(L,O,z,J):null;case H:return z.key===fe?B(L,O,z,J):null;case w:return z=Gs(z),q(L,O,z,J)}if(Dt(z)||k(z))return fe!==null?null:Y(L,O,z,J,null);if(typeof z.then=="function")return q(L,O,_c(z),J);if(z.$$typeof===ae)return q(L,O,mc(L,z),J);vc(L,z)}return null}function K(L,O,z,J,fe){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return L=L.get(z)||null,T(O,L,""+J,fe);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case P:return L=L.get(J.key===null?z:J.key)||null,N(O,L,J,fe);case H:return L=L.get(J.key===null?z:J.key)||null,B(O,L,J,fe);case w:return J=Gs(J),K(L,O,z,J,fe)}if(Dt(J)||k(J))return L=L.get(z)||null,Y(O,L,J,fe,null);if(typeof J.then=="function")return K(L,O,z,_c(J),fe);if(J.$$typeof===ae)return K(L,O,z,mc(O,J),fe);vc(O,J)}return null}function ce(L,O,z,J){for(var fe=null,ze=null,he=O,we=O=0,Oe=null;he!==null&&we<z.length;we++){he.index>we?(Oe=he,he=null):Oe=he.sibling;var Be=q(L,he,z[we],J);if(Be===null){he===null&&(he=Oe);break}t&&he&&Be.alternate===null&&r(L,he),O=d(Be,O,we),ze===null?fe=Be:ze.sibling=Be,ze=Be,he=Oe}if(we===z.length)return a(L,he),Le&&$i(L,we),fe;if(he===null){for(;we<z.length;we++)he=Z(L,z[we],J),he!==null&&(O=d(he,O,we),ze===null?fe=he:ze.sibling=he,ze=he);return Le&&$i(L,we),fe}for(he=l(he);we<z.length;we++)Oe=K(he,L,we,z[we],J),Oe!==null&&(t&&Oe.alternate!==null&&he.delete(Oe.key===null?we:Oe.key),O=d(Oe,O,we),ze===null?fe=Oe:ze.sibling=Oe,ze=Oe);return t&&he.forEach(function(es){return r(L,es)}),Le&&$i(L,we),fe}function pe(L,O,z,J){if(z==null)throw Error(s(151));for(var fe=null,ze=null,he=O,we=O=0,Oe=null,Be=z.next();he!==null&&!Be.done;we++,Be=z.next()){he.index>we?(Oe=he,he=null):Oe=he.sibling;var es=q(L,he,Be.value,J);if(es===null){he===null&&(he=Oe);break}t&&he&&es.alternate===null&&r(L,he),O=d(es,O,we),ze===null?fe=es:ze.sibling=es,ze=es,he=Oe}if(Be.done)return a(L,he),Le&&$i(L,we),fe;if(he===null){for(;!Be.done;we++,Be=z.next())Be=Z(L,Be.value,J),Be!==null&&(O=d(Be,O,we),ze===null?fe=Be:ze.sibling=Be,ze=Be);return Le&&$i(L,we),fe}for(he=l(he);!Be.done;we++,Be=z.next())Be=K(he,L,we,Be.value,J),Be!==null&&(t&&Be.alternate!==null&&he.delete(Be.key===null?we:Be.key),O=d(Be,O,we),ze===null?fe=Be:ze.sibling=Be,ze=Be);return t&&he.forEach(function(s1){return r(L,s1)}),Le&&$i(L,we),fe}function We(L,O,z,J){if(typeof z=="object"&&z!==null&&z.type===Q&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case P:e:{for(var fe=z.key;O!==null;){if(O.key===fe){if(fe=z.type,fe===Q){if(O.tag===7){a(L,O.sibling),J=f(O,z.props.children),J.return=L,L=J;break e}}else if(O.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===w&&Gs(fe)===O.type){a(L,O.sibling),J=f(O,z.props),gl(J,z),J.return=L,L=J;break e}a(L,O);break}else r(L,O);O=O.sibling}z.type===Q?(J=zs(z.props.children,L.mode,J,z.key),J.return=L,L=J):(J=hc(z.type,z.key,z.props,null,L.mode,J),gl(J,z),J.return=L,L=J)}return _(L);case H:e:{for(fe=z.key;O!==null;){if(O.key===fe)if(O.tag===4&&O.stateNode.containerInfo===z.containerInfo&&O.stateNode.implementation===z.implementation){a(L,O.sibling),J=f(O,z.children||[]),J.return=L,L=J;break e}else{a(L,O);break}else r(L,O);O=O.sibling}J=qf(z,L.mode,J),J.return=L,L=J}return _(L);case w:return z=Gs(z),We(L,O,z,J)}if(Dt(z))return ce(L,O,z,J);if(k(z)){if(fe=k(z),typeof fe!="function")throw Error(s(150));return z=fe.call(z),pe(L,O,z,J)}if(typeof z.then=="function")return We(L,O,_c(z),J);if(z.$$typeof===ae)return We(L,O,mc(L,z),J);vc(L,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,O!==null&&O.tag===6?(a(L,O.sibling),J=f(O,z),J.return=L,L=J):(a(L,O),J=Bf(z,L.mode,J),J.return=L,L=J),_(L)):a(L,O)}return function(L,O,z,J){try{pl=0;var fe=We(L,O,z,J);return Ka=null,fe}catch(he){if(he===Ga||he===gc)throw he;var ze=gn(29,he,null,L.mode);return ze.lanes=J,ze.return=L,ze}finally{}}}var Qs=py(!0),gy=py(!1),kr=!1;function ed(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function td(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Ur(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function jr(t,r,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(He&2)!==0){var f=l.pending;return f===null?r.next=r:(r.next=f.next,f.next=r),l.pending=r,r=cc(t),Zg(t,null,a),r}return uc(t,l,r,a),cc(t)}function yl(t,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194048)!==0)){var l=r.lanes;l&=t.pendingLanes,a|=l,r.lanes=a,Fo(t,a)}}function nd(t,r){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var f=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?f=d=_:d=d.next=_,a=a.next}while(a!==null);d===null?f=d=r:d=d.next=r}else f=d=r;a={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=r:t.next=r,a.lastBaseUpdate=r}var id=!1;function _l(){if(id){var t=Fa;if(t!==null)throw t}}function vl(t,r,a,l){id=!1;var f=t.updateQueue;kr=!1;var d=f.firstBaseUpdate,_=f.lastBaseUpdate,T=f.shared.pending;if(T!==null){f.shared.pending=null;var N=T,B=N.next;N.next=null,_===null?d=B:_.next=B,_=N;var Y=t.alternate;Y!==null&&(Y=Y.updateQueue,T=Y.lastBaseUpdate,T!==_&&(T===null?Y.firstBaseUpdate=B:T.next=B,Y.lastBaseUpdate=N))}if(d!==null){var Z=f.baseState;_=0,Y=B=N=null,T=d;do{var q=T.lane&-536870913,K=q!==T.lane;if(K?(De&q)===q:(l&q)===q){q!==0&&q===Ha&&(id=!0),Y!==null&&(Y=Y.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var ce=t,pe=T;q=r;var We=a;switch(pe.tag){case 1:if(ce=pe.payload,typeof ce=="function"){Z=ce.call(We,Z,q);break e}Z=ce;break e;case 3:ce.flags=ce.flags&-65537|128;case 0:if(ce=pe.payload,q=typeof ce=="function"?ce.call(We,Z,q):ce,q==null)break e;Z=b({},Z,q);break e;case 2:kr=!0}}q=T.callback,q!==null&&(t.flags|=64,K&&(t.flags|=8192),K=f.callbacks,K===null?f.callbacks=[q]:K.push(q))}else K={lane:q,tag:T.tag,payload:T.payload,callback:T.callback,next:null},Y===null?(B=Y=K,N=Z):Y=Y.next=K,_|=q;if(T=T.next,T===null){if(T=f.shared.pending,T===null)break;K=T,T=K.next,K.next=null,f.lastBaseUpdate=K,f.shared.pending=null}}while(!0);Y===null&&(N=Z),f.baseState=N,f.firstBaseUpdate=B,f.lastBaseUpdate=Y,d===null&&(f.shared.lanes=0),Fr|=_,t.lanes=_,t.memoizedState=Z}}function yy(t,r){if(typeof t!="function")throw Error(s(191,t));t.call(r)}function _y(t,r){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)yy(a[t],r)}var Qa=M(null),Ec=M(0);function vy(t,r){t=ar,se(Ec,t),se(Qa,r),ar=t|r.baseLanes}function rd(){se(Ec,ar),se(Qa,Qa.current)}function sd(){ar=Ec.current,ee(Qa),ee(Ec)}var yn=M(null),Pn=null;function zr(t){var r=t.alternate;se(mt,mt.current&1),se(yn,t),Pn===null&&(r===null||Qa.current!==null||r.memoizedState!==null)&&(Pn=t)}function ad(t){se(mt,mt.current),se(yn,t),Pn===null&&(Pn=t)}function Ey(t){t.tag===22?(se(mt,mt.current),se(yn,t),Pn===null&&(Pn=t)):Br()}function Br(){se(mt,mt.current),se(yn,yn.current)}function _n(t){ee(yn),Pn===t&&(Pn=null),ee(mt)}var mt=M(0);function Tc(t){for(var r=t;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||fm(a)||dm(a)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var Wi=0,Ae=null,Xe=null,wt=null,bc=!1,Ya=!1,Ys=!1,Ac=0,El=0,$a=null,$S=0;function ct(){throw Error(s(321))}function od(t,r){if(r===null)return!1;for(var a=0;a<r.length&&a<t.length;a++)if(!pn(t[a],r[a]))return!1;return!0}function ld(t,r,a,l,f,d){return Wi=d,Ae=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,$.H=t===null||t.memoizedState===null?i_:Ad,Ys=!1,d=a(l,f),Ys=!1,Ya&&(d=by(r,a,l,f)),Ty(t),d}function Ty(t){$.H=Al;var r=Xe!==null&&Xe.next!==null;if(Wi=0,wt=Xe=Ae=null,bc=!1,El=0,$a=null,r)throw Error(s(300));t===null||Rt||(t=t.dependencies,t!==null&&dc(t)&&(Rt=!0))}function by(t,r,a,l){Ae=t;var f=0;do{if(Ya&&($a=null),El=0,Ya=!1,25<=f)throw Error(s(301));if(f+=1,wt=Xe=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}$.H=r_,d=r(a,l)}while(Ya);return d}function XS(){var t=$.H,r=t.useState()[0];return r=typeof r.then=="function"?Tl(r):r,t=t.useState()[0],(Xe!==null?Xe.memoizedState:null)!==t&&(Ae.flags|=1024),r}function ud(){var t=Ac!==0;return Ac=0,t}function cd(t,r,a){r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~a}function hd(t){if(bc){for(t=t.memoizedState;t!==null;){var r=t.queue;r!==null&&(r.pending=null),t=t.next}bc=!1}Wi=0,wt=Xe=Ae=null,Ya=!1,El=Ac=0,$a=null}function nn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return wt===null?Ae.memoizedState=wt=t:wt=wt.next=t,wt}function pt(){if(Xe===null){var t=Ae.alternate;t=t!==null?t.memoizedState:null}else t=Xe.next;var r=wt===null?Ae.memoizedState:wt.next;if(r!==null)wt=r,Xe=t;else{if(t===null)throw Ae.alternate===null?Error(s(467)):Error(s(310));Xe=t,t={memoizedState:Xe.memoizedState,baseState:Xe.baseState,baseQueue:Xe.baseQueue,queue:Xe.queue,next:null},wt===null?Ae.memoizedState=wt=t:wt=wt.next=t}return wt}function Sc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Tl(t){var r=El;return El+=1,$a===null&&($a=[]),t=fy($a,t,r),r=Ae,(wt===null?r.memoizedState:wt.next)===null&&(r=r.alternate,$.H=r===null||r.memoizedState===null?i_:Ad),t}function wc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Tl(t);if(t.$$typeof===ae)return Ht(t)}throw Error(s(438,String(t)))}function fd(t){var r=null,a=Ae.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var l=Ae.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(r={data:l.data.map(function(f){return f.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=Sc(),Ae.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(t),l=0;l<t;l++)a[l]=V;return r.index++,a}function Zi(t,r){return typeof r=="function"?r(t):r}function Rc(t){var r=pt();return dd(r,Xe,t)}function dd(t,r,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var f=t.baseQueue,d=l.pending;if(d!==null){if(f!==null){var _=f.next;f.next=d.next,d.next=_}r.baseQueue=f=d,l.pending=null}if(d=t.baseState,f===null)t.memoizedState=d;else{r=f.next;var T=_=null,N=null,B=r,Y=!1;do{var Z=B.lane&-536870913;if(Z!==B.lane?(De&Z)===Z:(Wi&Z)===Z){var q=B.revertLane;if(q===0)N!==null&&(N=N.next={lane:0,revertLane:0,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),Z===Ha&&(Y=!0);else if((Wi&q)===q){B=B.next,q===Ha&&(Y=!0);continue}else Z={lane:0,revertLane:B.revertLane,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},N===null?(T=N=Z,_=d):N=N.next=Z,Ae.lanes|=q,Fr|=q;Z=B.action,Ys&&a(d,Z),d=B.hasEagerState?B.eagerState:a(d,Z)}else q={lane:Z,revertLane:B.revertLane,gesture:B.gesture,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},N===null?(T=N=q,_=d):N=N.next=q,Ae.lanes|=Z,Fr|=Z;B=B.next}while(B!==null&&B!==r);if(N===null?_=d:N.next=T,!pn(d,t.memoizedState)&&(Rt=!0,Y&&(a=Fa,a!==null)))throw a;t.memoizedState=d,t.baseState=_,t.baseQueue=N,l.lastRenderedState=d}return f===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function md(t){var r=pt(),a=r.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,f=a.pending,d=r.memoizedState;if(f!==null){a.pending=null;var _=f=f.next;do d=t(d,_.action),_=_.next;while(_!==f);pn(d,r.memoizedState)||(Rt=!0),r.memoizedState=d,r.baseQueue===null&&(r.baseState=d),a.lastRenderedState=d}return[d,l]}function Ay(t,r,a){var l=Ae,f=pt(),d=Le;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=r();var _=!pn((Xe||f).memoizedState,a);if(_&&(f.memoizedState=a,Rt=!0),f=f.queue,yd(Ry.bind(null,l,f,t),[t]),f.getSnapshot!==r||_||wt!==null&&wt.memoizedState.tag&1){if(l.flags|=2048,Xa(9,{destroy:void 0},wy.bind(null,l,f,a,r),null),Ze===null)throw Error(s(349));d||(Wi&127)!==0||Sy(l,r,a)}return a}function Sy(t,r,a){t.flags|=16384,t={getSnapshot:r,value:a},r=Ae.updateQueue,r===null?(r=Sc(),Ae.updateQueue=r,r.stores=[t]):(a=r.stores,a===null?r.stores=[t]:a.push(t))}function wy(t,r,a,l){r.value=a,r.getSnapshot=l,Iy(r)&&Cy(t)}function Ry(t,r,a){return a(function(){Iy(r)&&Cy(t)})}function Iy(t){var r=t.getSnapshot;t=t.value;try{var a=r();return!pn(t,a)}catch{return!0}}function Cy(t){var r=js(t,2);r!==null&&hn(r,t,2)}function pd(t){var r=nn();if(typeof t=="function"){var a=t;if(t=a(),Ys){wn(!0);try{a()}finally{wn(!1)}}}return r.memoizedState=r.baseState=t,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zi,lastRenderedState:t},r}function Ny(t,r,a,l){return t.baseState=a,dd(t,Xe,typeof l=="function"?l:Zi)}function JS(t,r,a,l,f){if(Nc(t))throw Error(s(485));if(t=r.action,t!==null){var d={payload:f,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};$.T!==null?a(!0):d.isTransition=!1,l(d),a=r.pending,a===null?(d.next=r.pending=d,xy(r,d)):(d.next=a.next,r.pending=a.next=d)}}function xy(t,r){var a=r.action,l=r.payload,f=t.state;if(r.isTransition){var d=$.T,_={};$.T=_;try{var T=a(f,l),N=$.S;N!==null&&N(_,T),Dy(t,r,T)}catch(B){gd(t,r,B)}finally{d!==null&&_.types!==null&&(d.types=_.types),$.T=d}}else try{d=a(f,l),Dy(t,r,d)}catch(B){gd(t,r,B)}}function Dy(t,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Oy(t,r,l)},function(l){return gd(t,r,l)}):Oy(t,r,a)}function Oy(t,r,a){r.status="fulfilled",r.value=a,My(r),t.state=a,r=t.pending,r!==null&&(a=r.next,a===r?t.pending=null:(a=a.next,r.next=a,xy(t,a)))}function gd(t,r,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do r.status="rejected",r.reason=a,My(r),r=r.next;while(r!==l)}t.action=null}function My(t){t=t.listeners;for(var r=0;r<t.length;r++)(0,t[r])()}function Vy(t,r){return r}function Py(t,r){if(Le){var a=Ze.formState;if(a!==null){e:{var l=Ae;if(Le){if(tt){t:{for(var f=tt,d=Vn;f.nodeType!==8;){if(!d){f=null;break t}if(f=Ln(f.nextSibling),f===null){f=null;break t}}d=f.data,f=d==="F!"||d==="F"?f:null}if(f){tt=Ln(f.nextSibling),l=f.data==="F!";break e}}Pr(l)}l=!1}l&&(r=a[0])}}return a=nn(),a.memoizedState=a.baseState=r,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vy,lastRenderedState:r},a.queue=l,a=e_.bind(null,Ae,l),l.dispatch=a,l=pd(!1),d=bd.bind(null,Ae,!1,l.queue),l=nn(),f={state:r,dispatch:null,action:t,pending:null},l.queue=f,a=JS.bind(null,Ae,f,d,a),f.dispatch=a,l.memoizedState=t,[r,a,!1]}function Ly(t){var r=pt();return ky(r,Xe,t)}function ky(t,r,a){if(r=dd(t,r,Vy)[0],t=Rc(Zi)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var l=Tl(r)}catch(_){throw _===Ga?gc:_}else l=r;r=pt();var f=r.queue,d=f.dispatch;return a!==r.memoizedState&&(Ae.flags|=2048,Xa(9,{destroy:void 0},WS.bind(null,f,a),null)),[l,d,t]}function WS(t,r){t.action=r}function Uy(t){var r=pt(),a=Xe;if(a!==null)return ky(r,a,t);pt(),r=r.memoizedState,a=pt();var l=a.queue.dispatch;return a.memoizedState=t,[r,l,!1]}function Xa(t,r,a,l){return t={tag:t,create:a,deps:l,inst:r,next:null},r=Ae.updateQueue,r===null&&(r=Sc(),Ae.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,r.lastEffect=t),t}function jy(){return pt().memoizedState}function Ic(t,r,a,l){var f=nn();Ae.flags|=t,f.memoizedState=Xa(1|r,{destroy:void 0},a,l===void 0?null:l)}function Cc(t,r,a,l){var f=pt();l=l===void 0?null:l;var d=f.memoizedState.inst;Xe!==null&&l!==null&&od(l,Xe.memoizedState.deps)?f.memoizedState=Xa(r,d,a,l):(Ae.flags|=t,f.memoizedState=Xa(1|r,d,a,l))}function zy(t,r){Ic(8390656,8,t,r)}function yd(t,r){Cc(2048,8,t,r)}function ZS(t){Ae.flags|=4;var r=Ae.updateQueue;if(r===null)r=Sc(),Ae.updateQueue=r,r.events=[t];else{var a=r.events;a===null?r.events=[t]:a.push(t)}}function By(t){var r=pt().memoizedState;return ZS({ref:r,nextImpl:t}),function(){if((He&2)!==0)throw Error(s(440));return r.impl.apply(void 0,arguments)}}function qy(t,r){return Cc(4,2,t,r)}function Hy(t,r){return Cc(4,4,t,r)}function Fy(t,r){if(typeof r=="function"){t=t();var a=r(t);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function Gy(t,r,a){a=a!=null?a.concat([t]):null,Cc(4,4,Fy.bind(null,r,t),a)}function _d(){}function Ky(t,r){var a=pt();r=r===void 0?null:r;var l=a.memoizedState;return r!==null&&od(r,l[1])?l[0]:(a.memoizedState=[t,r],t)}function Qy(t,r){var a=pt();r=r===void 0?null:r;var l=a.memoizedState;if(r!==null&&od(r,l[1]))return l[0];if(l=t(),Ys){wn(!0);try{t()}finally{wn(!1)}}return a.memoizedState=[l,r],l}function vd(t,r,a){return a===void 0||(Wi&1073741824)!==0&&(De&261930)===0?t.memoizedState=r:(t.memoizedState=a,t=Y_(),Ae.lanes|=t,Fr|=t,a)}function Yy(t,r,a,l){return pn(a,r)?a:Qa.current!==null?(t=vd(t,a,l),pn(t,r)||(Rt=!0),t):(Wi&42)===0||(Wi&1073741824)!==0&&(De&261930)===0?(Rt=!0,t.memoizedState=a):(t=Y_(),Ae.lanes|=t,Fr|=t,r)}function $y(t,r,a,l,f){var d=re.p;re.p=d!==0&&8>d?d:8;var _=$.T,T={};$.T=T,bd(t,!1,r,a);try{var N=f(),B=$.S;if(B!==null&&B(T,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var Y=YS(N,l);bl(t,r,Y,Tn(t))}else bl(t,r,l,Tn(t))}catch(Z){bl(t,r,{then:function(){},status:"rejected",reason:Z},Tn())}finally{re.p=d,_!==null&&T.types!==null&&(_.types=T.types),$.T=_}}function ew(){}function Ed(t,r,a,l){if(t.tag!==5)throw Error(s(476));var f=Xy(t).queue;$y(t,f,r,me,a===null?ew:function(){return Jy(t),a(l)})}function Xy(t){var r=t.memoizedState;if(r!==null)return r;r={memoizedState:me,baseState:me,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zi,lastRenderedState:me},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zi,lastRenderedState:a},next:null},t.memoizedState=r,t=t.alternate,t!==null&&(t.memoizedState=r),r}function Jy(t){var r=Xy(t);r.next===null&&(r=t.alternate.memoizedState),bl(t,r.next.queue,{},Tn())}function Td(){return Ht(jl)}function Wy(){return pt().memoizedState}function Zy(){return pt().memoizedState}function tw(t){for(var r=t.return;r!==null;){switch(r.tag){case 24:case 3:var a=Tn();t=Ur(a);var l=jr(r,t,a);l!==null&&(hn(l,r,a),yl(l,r,a)),r={cache:Xf()},t.payload=r;return}r=r.return}}function nw(t,r,a){var l=Tn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Nc(t)?t_(r,a):(a=jf(t,r,a,l),a!==null&&(hn(a,t,l),n_(a,r,l)))}function e_(t,r,a){var l=Tn();bl(t,r,a,l)}function bl(t,r,a,l){var f={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Nc(t))t_(r,f);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=r.lastRenderedReducer,d!==null))try{var _=r.lastRenderedState,T=d(_,a);if(f.hasEagerState=!0,f.eagerState=T,pn(T,_))return uc(t,r,f,0),Ze===null&&lc(),!1}catch{}finally{}if(a=jf(t,r,f,l),a!==null)return hn(a,t,l),n_(a,r,l),!0}return!1}function bd(t,r,a,l){if(l={lane:2,revertLane:em(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Nc(t)){if(r)throw Error(s(479))}else r=jf(t,a,l,2),r!==null&&hn(r,t,2)}function Nc(t){var r=t.alternate;return t===Ae||r!==null&&r===Ae}function t_(t,r){Ya=bc=!0;var a=t.pending;a===null?r.next=r:(r.next=a.next,a.next=r),t.pending=r}function n_(t,r,a){if((a&4194048)!==0){var l=r.lanes;l&=t.pendingLanes,a|=l,r.lanes=a,Fo(t,a)}}var Al={readContext:Ht,use:wc,useCallback:ct,useContext:ct,useEffect:ct,useImperativeHandle:ct,useLayoutEffect:ct,useInsertionEffect:ct,useMemo:ct,useReducer:ct,useRef:ct,useState:ct,useDebugValue:ct,useDeferredValue:ct,useTransition:ct,useSyncExternalStore:ct,useId:ct,useHostTransitionStatus:ct,useFormState:ct,useActionState:ct,useOptimistic:ct,useMemoCache:ct,useCacheRefresh:ct};Al.useEffectEvent=ct;var i_={readContext:Ht,use:wc,useCallback:function(t,r){return nn().memoizedState=[t,r===void 0?null:r],t},useContext:Ht,useEffect:zy,useImperativeHandle:function(t,r,a){a=a!=null?a.concat([t]):null,Ic(4194308,4,Fy.bind(null,r,t),a)},useLayoutEffect:function(t,r){return Ic(4194308,4,t,r)},useInsertionEffect:function(t,r){Ic(4,2,t,r)},useMemo:function(t,r){var a=nn();r=r===void 0?null:r;var l=t();if(Ys){wn(!0);try{t()}finally{wn(!1)}}return a.memoizedState=[l,r],l},useReducer:function(t,r,a){var l=nn();if(a!==void 0){var f=a(r);if(Ys){wn(!0);try{a(r)}finally{wn(!1)}}}else f=r;return l.memoizedState=l.baseState=f,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:f},l.queue=t,t=t.dispatch=nw.bind(null,Ae,t),[l.memoizedState,t]},useRef:function(t){var r=nn();return t={current:t},r.memoizedState=t},useState:function(t){t=pd(t);var r=t.queue,a=e_.bind(null,Ae,r);return r.dispatch=a,[t.memoizedState,a]},useDebugValue:_d,useDeferredValue:function(t,r){var a=nn();return vd(a,t,r)},useTransition:function(){var t=pd(!1);return t=$y.bind(null,Ae,t.queue,!0,!1),nn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,r,a){var l=Ae,f=nn();if(Le){if(a===void 0)throw Error(s(407));a=a()}else{if(a=r(),Ze===null)throw Error(s(349));(De&127)!==0||Sy(l,r,a)}f.memoizedState=a;var d={value:a,getSnapshot:r};return f.queue=d,zy(Ry.bind(null,l,d,t),[t]),l.flags|=2048,Xa(9,{destroy:void 0},wy.bind(null,l,d,a,r),null),a},useId:function(){var t=nn(),r=Ze.identifierPrefix;if(Le){var a=Ni,l=Ci;a=(l&~(1<<32-ft(l)-1)).toString(32)+a,r="_"+r+"R_"+a,a=Ac++,0<a&&(r+="H"+a.toString(32)),r+="_"}else a=$S++,r="_"+r+"r_"+a.toString(32)+"_";return t.memoizedState=r},useHostTransitionStatus:Td,useFormState:Py,useActionState:Py,useOptimistic:function(t){var r=nn();r.memoizedState=r.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=bd.bind(null,Ae,!0,a),a.dispatch=r,[t,r]},useMemoCache:fd,useCacheRefresh:function(){return nn().memoizedState=tw.bind(null,Ae)},useEffectEvent:function(t){var r=nn(),a={impl:t};return r.memoizedState=a,function(){if((He&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},Ad={readContext:Ht,use:wc,useCallback:Ky,useContext:Ht,useEffect:yd,useImperativeHandle:Gy,useInsertionEffect:qy,useLayoutEffect:Hy,useMemo:Qy,useReducer:Rc,useRef:jy,useState:function(){return Rc(Zi)},useDebugValue:_d,useDeferredValue:function(t,r){var a=pt();return Yy(a,Xe.memoizedState,t,r)},useTransition:function(){var t=Rc(Zi)[0],r=pt().memoizedState;return[typeof t=="boolean"?t:Tl(t),r]},useSyncExternalStore:Ay,useId:Wy,useHostTransitionStatus:Td,useFormState:Ly,useActionState:Ly,useOptimistic:function(t,r){var a=pt();return Ny(a,Xe,t,r)},useMemoCache:fd,useCacheRefresh:Zy};Ad.useEffectEvent=By;var r_={readContext:Ht,use:wc,useCallback:Ky,useContext:Ht,useEffect:yd,useImperativeHandle:Gy,useInsertionEffect:qy,useLayoutEffect:Hy,useMemo:Qy,useReducer:md,useRef:jy,useState:function(){return md(Zi)},useDebugValue:_d,useDeferredValue:function(t,r){var a=pt();return Xe===null?vd(a,t,r):Yy(a,Xe.memoizedState,t,r)},useTransition:function(){var t=md(Zi)[0],r=pt().memoizedState;return[typeof t=="boolean"?t:Tl(t),r]},useSyncExternalStore:Ay,useId:Wy,useHostTransitionStatus:Td,useFormState:Uy,useActionState:Uy,useOptimistic:function(t,r){var a=pt();return Xe!==null?Ny(a,Xe,t,r):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:fd,useCacheRefresh:Zy};r_.useEffectEvent=By;function Sd(t,r,a,l){r=t.memoizedState,a=a(l,r),a=a==null?r:b({},r,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var wd={enqueueSetState:function(t,r,a){t=t._reactInternals;var l=Tn(),f=Ur(l);f.payload=r,a!=null&&(f.callback=a),r=jr(t,f,l),r!==null&&(hn(r,t,l),yl(r,t,l))},enqueueReplaceState:function(t,r,a){t=t._reactInternals;var l=Tn(),f=Ur(l);f.tag=1,f.payload=r,a!=null&&(f.callback=a),r=jr(t,f,l),r!==null&&(hn(r,t,l),yl(r,t,l))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var a=Tn(),l=Ur(a);l.tag=2,r!=null&&(l.callback=r),r=jr(t,l,a),r!==null&&(hn(r,t,a),yl(r,t,a))}};function s_(t,r,a,l,f,d,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,_):r.prototype&&r.prototype.isPureReactComponent?!ul(a,l)||!ul(f,d):!0}function a_(t,r,a,l){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,l),r.state!==t&&wd.enqueueReplaceState(r,r.state,null)}function $s(t,r){var a=r;if("ref"in r){a={};for(var l in r)l!=="ref"&&(a[l]=r[l])}if(t=t.defaultProps){a===r&&(a=b({},a));for(var f in t)a[f]===void 0&&(a[f]=t[f])}return a}function o_(t){oc(t)}function l_(t){console.error(t)}function u_(t){oc(t)}function xc(t,r){try{var a=t.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(l){setTimeout(function(){throw l})}}function c_(t,r,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Rd(t,r,a){return a=Ur(a),a.tag=3,a.payload={element:null},a.callback=function(){xc(t,r)},a}function h_(t){return t=Ur(t),t.tag=3,t}function f_(t,r,a,l){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var d=l.value;t.payload=function(){return f(d)},t.callback=function(){c_(r,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(t.callback=function(){c_(r,a,l),typeof f!="function"&&(Gr===null?Gr=new Set([this]):Gr.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function iw(t,r,a,l,f){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(r=a.alternate,r!==null&&qa(r,a,f,!0),a=yn.current,a!==null){switch(a.tag){case 31:case 13:return Pn===null?qc():a.alternate===null&&ht===0&&(ht=3),a.flags&=-257,a.flags|=65536,a.lanes=f,l===yc?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([l]):r.add(l),Jd(t,l,f)),!1;case 22:return a.flags|=65536,l===yc?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([l]):a.add(l)),Jd(t,l,f)),!1}throw Error(s(435,a.tag))}return Jd(t,l,f),qc(),!1}if(Le)return r=yn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=f,l!==Gf&&(t=Error(s(422),{cause:l}),fl(Dn(t,a)))):(l!==Gf&&(r=Error(s(423),{cause:l}),fl(Dn(r,a))),t=t.current.alternate,t.flags|=65536,f&=-f,t.lanes|=f,l=Dn(l,a),f=Rd(t.stateNode,l,f),nd(t,f),ht!==4&&(ht=2)),!1;var d=Error(s(520),{cause:l});if(d=Dn(d,a),Dl===null?Dl=[d]:Dl.push(d),ht!==4&&(ht=2),r===null)return!0;l=Dn(l,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,t=f&-f,a.lanes|=t,t=Rd(a.stateNode,l,t),nd(a,t),!1;case 1:if(r=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Gr===null||!Gr.has(d))))return a.flags|=65536,f&=-f,a.lanes|=f,f=h_(f),f_(f,t,a,l),nd(a,f),!1}a=a.return}while(a!==null);return!1}var Id=Error(s(461)),Rt=!1;function Ft(t,r,a,l){r.child=t===null?gy(r,null,a,l):Qs(r,t.child,a,l)}function d_(t,r,a,l,f){a=a.render;var d=r.ref;if("ref"in l){var _={};for(var T in l)T!=="ref"&&(_[T]=l[T])}else _=l;return Hs(r),l=ld(t,r,a,_,d,f),T=ud(),t!==null&&!Rt?(cd(t,r,f),er(t,r,f)):(Le&&T&&Hf(r),r.flags|=1,Ft(t,r,l,f),r.child)}function m_(t,r,a,l,f){if(t===null){var d=a.type;return typeof d=="function"&&!zf(d)&&d.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=d,p_(t,r,d,l,f)):(t=hc(a.type,null,l,r,r.mode,f),t.ref=r.ref,t.return=r,r.child=t)}if(d=t.child,!Pd(t,f)){var _=d.memoizedProps;if(a=a.compare,a=a!==null?a:ul,a(_,l)&&t.ref===r.ref)return er(t,r,f)}return r.flags|=1,t=Yi(d,l),t.ref=r.ref,t.return=r,r.child=t}function p_(t,r,a,l,f){if(t!==null){var d=t.memoizedProps;if(ul(d,l)&&t.ref===r.ref)if(Rt=!1,r.pendingProps=l=d,Pd(t,f))(t.flags&131072)!==0&&(Rt=!0);else return r.lanes=t.lanes,er(t,r,f)}return Cd(t,r,a,l,f)}function g_(t,r,a,l){var f=l.children,d=t!==null?t.memoizedState:null;if(t===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((r.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,t!==null){for(l=r.child=t.child,f=0;l!==null;)f=f|l.lanes|l.childLanes,l=l.sibling;l=f&~d}else l=0,r.child=null;return y_(t,r,d,a,l)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},t!==null&&pc(r,d!==null?d.cachePool:null),d!==null?vy(r,d):rd(),Ey(r);else return l=r.lanes=536870912,y_(t,r,d!==null?d.baseLanes|a:a,a,l)}else d!==null?(pc(r,d.cachePool),vy(r,d),Br(),r.memoizedState=null):(t!==null&&pc(r,null),rd(),Br());return Ft(t,r,f,a),r.child}function Sl(t,r){return t!==null&&t.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function y_(t,r,a,l,f){var d=Wf();return d=d===null?null:{parent:St._currentValue,pool:d},r.memoizedState={baseLanes:a,cachePool:d},t!==null&&pc(r,null),rd(),Ey(r),t!==null&&qa(t,r,l,!0),r.childLanes=f,null}function Dc(t,r){return r=Mc({mode:r.mode,children:r.children},t.mode),r.ref=t.ref,t.child=r,r.return=t,r}function __(t,r,a){return Qs(r,t.child,null,a),t=Dc(r,r.pendingProps),t.flags|=2,_n(r),r.memoizedState=null,t}function rw(t,r,a){var l=r.pendingProps,f=(r.flags&128)!==0;if(r.flags&=-129,t===null){if(Le){if(l.mode==="hidden")return t=Dc(r,l),r.lanes=536870912,Sl(null,t);if(ad(r),(t=tt)?(t=xv(t,Vn),t=t!==null&&t.data==="&"?t:null,t!==null&&(r.memoizedState={dehydrated:t,treeContext:Mr!==null?{id:Ci,overflow:Ni}:null,retryLane:536870912,hydrationErrors:null},a=ty(t),a.return=r,r.child=a,qt=r,tt=null)):t=null,t===null)throw Pr(r);return r.lanes=536870912,null}return Dc(r,l)}var d=t.memoizedState;if(d!==null){var _=d.dehydrated;if(ad(r),f)if(r.flags&256)r.flags&=-257,r=__(t,r,a);else if(r.memoizedState!==null)r.child=t.child,r.flags|=128,r=null;else throw Error(s(558));else if(Rt||qa(t,r,a,!1),f=(a&t.childLanes)!==0,Rt||f){if(l=Ze,l!==null&&(_=Go(l,a),_!==0&&_!==d.retryLane))throw d.retryLane=_,js(t,_),hn(l,t,_),Id;qc(),r=__(t,r,a)}else t=d.treeContext,tt=Ln(_.nextSibling),qt=r,Le=!0,Vr=null,Vn=!1,t!==null&&ry(r,t),r=Dc(r,l),r.flags|=4096;return r}return t=Yi(t.child,{mode:l.mode,children:l.children}),t.ref=r.ref,r.child=t,t.return=r,t}function Oc(t,r){var a=r.ref;if(a===null)t!==null&&t.ref!==null&&(r.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(r.flags|=4194816)}}function Cd(t,r,a,l,f){return Hs(r),a=ld(t,r,a,l,void 0,f),l=ud(),t!==null&&!Rt?(cd(t,r,f),er(t,r,f)):(Le&&l&&Hf(r),r.flags|=1,Ft(t,r,a,f),r.child)}function v_(t,r,a,l,f,d){return Hs(r),r.updateQueue=null,a=by(r,l,a,f),Ty(t),l=ud(),t!==null&&!Rt?(cd(t,r,d),er(t,r,d)):(Le&&l&&Hf(r),r.flags|=1,Ft(t,r,a,d),r.child)}function E_(t,r,a,l,f){if(Hs(r),r.stateNode===null){var d=Ua,_=a.contextType;typeof _=="object"&&_!==null&&(d=Ht(_)),d=new a(l,d),r.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=wd,r.stateNode=d,d._reactInternals=r,d=r.stateNode,d.props=l,d.state=r.memoizedState,d.refs={},ed(r),_=a.contextType,d.context=typeof _=="object"&&_!==null?Ht(_):Ua,d.state=r.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(Sd(r,a,_,l),d.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&wd.enqueueReplaceState(d,d.state,null),vl(r,l,d,f),_l(),d.state=r.memoizedState),typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!0}else if(t===null){d=r.stateNode;var T=r.memoizedProps,N=$s(a,T);d.props=N;var B=d.context,Y=a.contextType;_=Ua,typeof Y=="object"&&Y!==null&&(_=Ht(Y));var Z=a.getDerivedStateFromProps;Y=typeof Z=="function"||typeof d.getSnapshotBeforeUpdate=="function",T=r.pendingProps!==T,Y||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T||B!==_)&&a_(r,d,l,_),kr=!1;var q=r.memoizedState;d.state=q,vl(r,l,d,f),_l(),B=r.memoizedState,T||q!==B||kr?(typeof Z=="function"&&(Sd(r,a,Z,l),B=r.memoizedState),(N=kr||s_(r,a,N,l,q,B,_))?(Y||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(r.flags|=4194308)):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=B),d.props=l,d.state=B,d.context=_,l=N):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{d=r.stateNode,td(t,r),_=r.memoizedProps,Y=$s(a,_),d.props=Y,Z=r.pendingProps,q=d.context,B=a.contextType,N=Ua,typeof B=="object"&&B!==null&&(N=Ht(B)),T=a.getDerivedStateFromProps,(B=typeof T=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==Z||q!==N)&&a_(r,d,l,N),kr=!1,q=r.memoizedState,d.state=q,vl(r,l,d,f),_l();var K=r.memoizedState;_!==Z||q!==K||kr||t!==null&&t.dependencies!==null&&dc(t.dependencies)?(typeof T=="function"&&(Sd(r,a,T,l),K=r.memoizedState),(Y=kr||s_(r,a,Y,l,q,K,N)||t!==null&&t.dependencies!==null&&dc(t.dependencies))?(B||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,K,N),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,K,N)),typeof d.componentDidUpdate=="function"&&(r.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&q===t.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&q===t.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=K),d.props=l,d.state=K,d.context=N,l=Y):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&q===t.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&q===t.memoizedState||(r.flags|=1024),l=!1)}return d=l,Oc(t,r),l=(r.flags&128)!==0,d||l?(d=r.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),r.flags|=1,t!==null&&l?(r.child=Qs(r,t.child,null,f),r.child=Qs(r,null,a,f)):Ft(t,r,a,f),r.memoizedState=d.state,t=r.child):t=er(t,r,f),t}function T_(t,r,a,l){return Bs(),r.flags|=256,Ft(t,r,a,l),r.child}var Nd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function xd(t){return{baseLanes:t,cachePool:cy()}}function Dd(t,r,a){return t=t!==null?t.childLanes&~a:0,r&&(t|=En),t}function b_(t,r,a){var l=r.pendingProps,f=!1,d=(r.flags&128)!==0,_;if((_=d)||(_=t!==null&&t.memoizedState===null?!1:(mt.current&2)!==0),_&&(f=!0,r.flags&=-129),_=(r.flags&32)!==0,r.flags&=-33,t===null){if(Le){if(f?zr(r):Br(),(t=tt)?(t=xv(t,Vn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(r.memoizedState={dehydrated:t,treeContext:Mr!==null?{id:Ci,overflow:Ni}:null,retryLane:536870912,hydrationErrors:null},a=ty(t),a.return=r,r.child=a,qt=r,tt=null)):t=null,t===null)throw Pr(r);return dm(t)?r.lanes=32:r.lanes=536870912,null}var T=l.children;return l=l.fallback,f?(Br(),f=r.mode,T=Mc({mode:"hidden",children:T},f),l=zs(l,f,a,null),T.return=r,l.return=r,T.sibling=l,r.child=T,l=r.child,l.memoizedState=xd(a),l.childLanes=Dd(t,_,a),r.memoizedState=Nd,Sl(null,l)):(zr(r),Od(r,T))}var N=t.memoizedState;if(N!==null&&(T=N.dehydrated,T!==null)){if(d)r.flags&256?(zr(r),r.flags&=-257,r=Md(t,r,a)):r.memoizedState!==null?(Br(),r.child=t.child,r.flags|=128,r=null):(Br(),T=l.fallback,f=r.mode,l=Mc({mode:"visible",children:l.children},f),T=zs(T,f,a,null),T.flags|=2,l.return=r,T.return=r,l.sibling=T,r.child=l,Qs(r,t.child,null,a),l=r.child,l.memoizedState=xd(a),l.childLanes=Dd(t,_,a),r.memoizedState=Nd,r=Sl(null,l));else if(zr(r),dm(T)){if(_=T.nextSibling&&T.nextSibling.dataset,_)var B=_.dgst;_=B,l=Error(s(419)),l.stack="",l.digest=_,fl({value:l,source:null,stack:null}),r=Md(t,r,a)}else if(Rt||qa(t,r,a,!1),_=(a&t.childLanes)!==0,Rt||_){if(_=Ze,_!==null&&(l=Go(_,a),l!==0&&l!==N.retryLane))throw N.retryLane=l,js(t,l),hn(_,t,l),Id;fm(T)||qc(),r=Md(t,r,a)}else fm(T)?(r.flags|=192,r.child=t.child,r=null):(t=N.treeContext,tt=Ln(T.nextSibling),qt=r,Le=!0,Vr=null,Vn=!1,t!==null&&ry(r,t),r=Od(r,l.children),r.flags|=4096);return r}return f?(Br(),T=l.fallback,f=r.mode,N=t.child,B=N.sibling,l=Yi(N,{mode:"hidden",children:l.children}),l.subtreeFlags=N.subtreeFlags&65011712,B!==null?T=Yi(B,T):(T=zs(T,f,a,null),T.flags|=2),T.return=r,l.return=r,l.sibling=T,r.child=l,Sl(null,l),l=r.child,T=t.child.memoizedState,T===null?T=xd(a):(f=T.cachePool,f!==null?(N=St._currentValue,f=f.parent!==N?{parent:N,pool:N}:f):f=cy(),T={baseLanes:T.baseLanes|a,cachePool:f}),l.memoizedState=T,l.childLanes=Dd(t,_,a),r.memoizedState=Nd,Sl(t.child,l)):(zr(r),a=t.child,t=a.sibling,a=Yi(a,{mode:"visible",children:l.children}),a.return=r,a.sibling=null,t!==null&&(_=r.deletions,_===null?(r.deletions=[t],r.flags|=16):_.push(t)),r.child=a,r.memoizedState=null,a)}function Od(t,r){return r=Mc({mode:"visible",children:r},t.mode),r.return=t,t.child=r}function Mc(t,r){return t=gn(22,t,null,r),t.lanes=0,t}function Md(t,r,a){return Qs(r,t.child,null,a),t=Od(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function A_(t,r,a){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r),Yf(t.return,r,a)}function Vd(t,r,a,l,f,d){var _=t.memoizedState;_===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:f,treeForkCount:d}:(_.isBackwards=r,_.rendering=null,_.renderingStartTime=0,_.last=l,_.tail=a,_.tailMode=f,_.treeForkCount=d)}function S_(t,r,a){var l=r.pendingProps,f=l.revealOrder,d=l.tail;l=l.children;var _=mt.current,T=(_&2)!==0;if(T?(_=_&1|2,r.flags|=128):_&=1,se(mt,_),Ft(t,r,l,a),l=Le?hl:0,!T&&t!==null&&(t.flags&128)!==0)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&A_(t,a,r);else if(t.tag===19)A_(t,a,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(f){case"forwards":for(a=r.child,f=null;a!==null;)t=a.alternate,t!==null&&Tc(t)===null&&(f=a),a=a.sibling;a=f,a===null?(f=r.child,r.child=null):(f=a.sibling,a.sibling=null),Vd(r,!1,f,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,f=r.child,r.child=null;f!==null;){if(t=f.alternate,t!==null&&Tc(t)===null){r.child=f;break}t=f.sibling,f.sibling=a,a=f,f=t}Vd(r,!0,a,null,d,l);break;case"together":Vd(r,!1,null,null,void 0,l);break;default:r.memoizedState=null}return r.child}function er(t,r,a){if(t!==null&&(r.dependencies=t.dependencies),Fr|=r.lanes,(a&r.childLanes)===0)if(t!==null){if(qa(t,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(t!==null&&r.child!==t.child)throw Error(s(153));if(r.child!==null){for(t=r.child,a=Yi(t,t.pendingProps),r.child=a,a.return=r;t.sibling!==null;)t=t.sibling,a=a.sibling=Yi(t,t.pendingProps),a.return=r;a.sibling=null}return r.child}function Pd(t,r){return(t.lanes&r)!==0?!0:(t=t.dependencies,!!(t!==null&&dc(t)))}function sw(t,r,a){switch(r.tag){case 3:Ot(r,r.stateNode.containerInfo),Lr(r,St,t.memoizedState.cache),Bs();break;case 27:case 5:Ts(r);break;case 4:Ot(r,r.stateNode.containerInfo);break;case 10:Lr(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,ad(r),null;break;case 13:var l=r.memoizedState;if(l!==null)return l.dehydrated!==null?(zr(r),r.flags|=128,null):(a&r.child.childLanes)!==0?b_(t,r,a):(zr(r),t=er(t,r,a),t!==null?t.sibling:null);zr(r);break;case 19:var f=(t.flags&128)!==0;if(l=(a&r.childLanes)!==0,l||(qa(t,r,a,!1),l=(a&r.childLanes)!==0),f){if(l)return S_(t,r,a);r.flags|=128}if(f=r.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),se(mt,mt.current),l)break;return null;case 22:return r.lanes=0,g_(t,r,a,r.pendingProps);case 24:Lr(r,St,t.memoizedState.cache)}return er(t,r,a)}function w_(t,r,a){if(t!==null)if(t.memoizedProps!==r.pendingProps)Rt=!0;else{if(!Pd(t,a)&&(r.flags&128)===0)return Rt=!1,sw(t,r,a);Rt=(t.flags&131072)!==0}else Rt=!1,Le&&(r.flags&1048576)!==0&&iy(r,hl,r.index);switch(r.lanes=0,r.tag){case 16:e:{var l=r.pendingProps;if(t=Gs(r.elementType),r.type=t,typeof t=="function")zf(t)?(l=$s(t,l),r.tag=1,r=E_(null,r,t,l,a)):(r.tag=0,r=Cd(null,r,t,l,a));else{if(t!=null){var f=t.$$typeof;if(f===Re){r.tag=11,r=d_(null,r,t,l,a);break e}else if(f===x){r.tag=14,r=m_(null,r,t,l,a);break e}}throw r=rt(t)||t,Error(s(306,r,""))}}return r;case 0:return Cd(t,r,r.type,r.pendingProps,a);case 1:return l=r.type,f=$s(l,r.pendingProps),E_(t,r,l,f,a);case 3:e:{if(Ot(r,r.stateNode.containerInfo),t===null)throw Error(s(387));l=r.pendingProps;var d=r.memoizedState;f=d.element,td(t,r),vl(r,l,null,a);var _=r.memoizedState;if(l=_.cache,Lr(r,St,l),l!==d.cache&&$f(r,[St],a,!0),_l(),l=_.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:_.cache},r.updateQueue.baseState=d,r.memoizedState=d,r.flags&256){r=T_(t,r,l,a);break e}else if(l!==f){f=Dn(Error(s(424)),r),fl(f),r=T_(t,r,l,a);break e}else{switch(t=r.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(tt=Ln(t.firstChild),qt=r,Le=!0,Vr=null,Vn=!0,a=gy(r,null,l,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Bs(),l===f){r=er(t,r,a);break e}Ft(t,r,l,a)}r=r.child}return r;case 26:return Oc(t,r),t===null?(a=Lv(r.type,null,r.pendingProps,null))?r.memoizedState=a:Le||(a=r.type,t=r.pendingProps,l=$c(Se.current).createElement(a),l[Tt]=r,l[Lt]=t,Gt(l,a,t),bt(l),r.stateNode=l):r.memoizedState=Lv(r.type,t.memoizedProps,r.pendingProps,t.memoizedState),null;case 27:return Ts(r),t===null&&Le&&(l=r.stateNode=Mv(r.type,r.pendingProps,Se.current),qt=r,Vn=!0,f=tt,$r(r.type)?(mm=f,tt=Ln(l.firstChild)):tt=f),Ft(t,r,r.pendingProps.children,a),Oc(t,r),t===null&&(r.flags|=4194304),r.child;case 5:return t===null&&Le&&((f=l=tt)&&(l=Pw(l,r.type,r.pendingProps,Vn),l!==null?(r.stateNode=l,qt=r,tt=Ln(l.firstChild),Vn=!1,f=!0):f=!1),f||Pr(r)),Ts(r),f=r.type,d=r.pendingProps,_=t!==null?t.memoizedProps:null,l=d.children,um(f,d)?l=null:_!==null&&um(f,_)&&(r.flags|=32),r.memoizedState!==null&&(f=ld(t,r,XS,null,null,a),jl._currentValue=f),Oc(t,r),Ft(t,r,l,a),r.child;case 6:return t===null&&Le&&((t=a=tt)&&(a=Lw(a,r.pendingProps,Vn),a!==null?(r.stateNode=a,qt=r,tt=null,t=!0):t=!1),t||Pr(r)),null;case 13:return b_(t,r,a);case 4:return Ot(r,r.stateNode.containerInfo),l=r.pendingProps,t===null?r.child=Qs(r,null,l,a):Ft(t,r,l,a),r.child;case 11:return d_(t,r,r.type,r.pendingProps,a);case 7:return Ft(t,r,r.pendingProps,a),r.child;case 8:return Ft(t,r,r.pendingProps.children,a),r.child;case 12:return Ft(t,r,r.pendingProps.children,a),r.child;case 10:return l=r.pendingProps,Lr(r,r.type,l.value),Ft(t,r,l.children,a),r.child;case 9:return f=r.type._context,l=r.pendingProps.children,Hs(r),f=Ht(f),l=l(f),r.flags|=1,Ft(t,r,l,a),r.child;case 14:return m_(t,r,r.type,r.pendingProps,a);case 15:return p_(t,r,r.type,r.pendingProps,a);case 19:return S_(t,r,a);case 31:return rw(t,r,a);case 22:return g_(t,r,a,r.pendingProps);case 24:return Hs(r),l=Ht(St),t===null?(f=Wf(),f===null&&(f=Ze,d=Xf(),f.pooledCache=d,d.refCount++,d!==null&&(f.pooledCacheLanes|=a),f=d),r.memoizedState={parent:l,cache:f},ed(r),Lr(r,St,f)):((t.lanes&a)!==0&&(td(t,r),vl(r,null,null,a),_l()),f=t.memoizedState,d=r.memoizedState,f.parent!==l?(f={parent:l,cache:l},r.memoizedState=f,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=f),Lr(r,St,l)):(l=d.cache,Lr(r,St,l),l!==f.cache&&$f(r,[St],a,!0))),Ft(t,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function tr(t){t.flags|=4}function Ld(t,r,a,l,f){if((r=(t.mode&32)!==0)&&(r=!1),r){if(t.flags|=16777216,(f&335544128)===f)if(t.stateNode.complete)t.flags|=8192;else if(W_())t.flags|=8192;else throw Ks=yc,Zf}else t.flags&=-16777217}function R_(t,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Bv(r))if(W_())t.flags|=8192;else throw Ks=yc,Zf}function Vc(t,r){r!==null&&(t.flags|=4),t.flags&16384&&(r=t.tag!==22?zu():536870912,t.lanes|=r,eo|=r)}function wl(t,r){if(!Le)switch(t.tailMode){case"hidden":r=t.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function nt(t){var r=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(r)for(var f=t.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=t,f=f.sibling;else for(f=t.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=t,f=f.sibling;return t.subtreeFlags|=l,t.childLanes=a,r}function aw(t,r,a){var l=r.pendingProps;switch(Ff(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return nt(r),null;case 1:return nt(r),null;case 3:return a=r.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),Ji(St),st(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Ba(r)?tr(r):t===null||t.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Kf())),nt(r),null;case 26:var f=r.type,d=r.memoizedState;return t===null?(tr(r),d!==null?(nt(r),R_(r,d)):(nt(r),Ld(r,f,null,l,a))):d?d!==t.memoizedState?(tr(r),nt(r),R_(r,d)):(nt(r),r.flags&=-16777217):(t=t.memoizedProps,t!==l&&tr(r),nt(r),Ld(r,f,t,l,a)),null;case 27:if(va(r),a=Se.current,f=r.type,t!==null&&r.stateNode!=null)t.memoizedProps!==l&&tr(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return nt(r),null}t=ue.current,Ba(r)?sy(r):(t=Mv(f,l,a),r.stateNode=t,tr(r))}return nt(r),null;case 5:if(va(r),f=r.type,t!==null&&r.stateNode!=null)t.memoizedProps!==l&&tr(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return nt(r),null}if(d=ue.current,Ba(r))sy(r);else{var _=$c(Se.current);switch(d){case 1:d=_.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:d=_.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":d=_.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":d=_.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":d=_.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?_.createElement("select",{is:l.is}):_.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?_.createElement(f,{is:l.is}):_.createElement(f)}}d[Tt]=r,d[Lt]=l;e:for(_=r.child;_!==null;){if(_.tag===5||_.tag===6)d.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===r)break e;for(;_.sibling===null;){if(_.return===null||_.return===r)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}r.stateNode=d;e:switch(Gt(d,f,l),f){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&tr(r)}}return nt(r),Ld(r,r.type,t===null?null:t.memoizedProps,r.pendingProps,a),null;case 6:if(t&&r.stateNode!=null)t.memoizedProps!==l&&tr(r);else{if(typeof l!="string"&&r.stateNode===null)throw Error(s(166));if(t=Se.current,Ba(r)){if(t=r.stateNode,a=r.memoizedProps,l=null,f=qt,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}t[Tt]=r,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||bv(t.nodeValue,a)),t||Pr(r,!0)}else t=$c(t).createTextNode(l),t[Tt]=r,r.stateNode=t}return nt(r),null;case 31:if(a=r.memoizedState,t===null||t.memoizedState!==null){if(l=Ba(r),a!==null){if(t===null){if(!l)throw Error(s(318));if(t=r.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[Tt]=r}else Bs(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;nt(r),t=!1}else a=Kf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return r.flags&256?(_n(r),r):(_n(r),null);if((r.flags&128)!==0)throw Error(s(558))}return nt(r),null;case 13:if(l=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(f=Ba(r),l!==null&&l.dehydrated!==null){if(t===null){if(!f)throw Error(s(318));if(f=r.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[Tt]=r}else Bs(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;nt(r),f=!1}else f=Kf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=f),f=!0;if(!f)return r.flags&256?(_n(r),r):(_n(r),null)}return _n(r),(r.flags&128)!==0?(r.lanes=a,r):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=r.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==f&&(l.flags|=2048)),a!==t&&a&&(r.child.flags|=8192),Vc(r,r.updateQueue),nt(r),null);case 4:return st(),t===null&&rm(r.stateNode.containerInfo),nt(r),null;case 10:return Ji(r.type),nt(r),null;case 19:if(ee(mt),l=r.memoizedState,l===null)return nt(r),null;if(f=(r.flags&128)!==0,d=l.rendering,d===null)if(f)wl(l,!1);else{if(ht!==0||t!==null&&(t.flags&128)!==0)for(t=r.child;t!==null;){if(d=Tc(t),d!==null){for(r.flags|=128,wl(l,!1),t=d.updateQueue,r.updateQueue=t,Vc(r,t),r.subtreeFlags=0,t=a,a=r.child;a!==null;)ey(a,t),a=a.sibling;return se(mt,mt.current&1|2),Le&&$i(r,l.treeForkCount),r.child}t=t.sibling}l.tail!==null&&en()>jc&&(r.flags|=128,f=!0,wl(l,!1),r.lanes=4194304)}else{if(!f)if(t=Tc(d),t!==null){if(r.flags|=128,f=!0,t=t.updateQueue,r.updateQueue=t,Vc(r,t),wl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!Le)return nt(r),null}else 2*en()-l.renderingStartTime>jc&&a!==536870912&&(r.flags|=128,f=!0,wl(l,!1),r.lanes=4194304);l.isBackwards?(d.sibling=r.child,r.child=d):(t=l.last,t!==null?t.sibling=d:r.child=d,l.last=d)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=en(),t.sibling=null,a=mt.current,se(mt,f?a&1|2:a&1),Le&&$i(r,l.treeForkCount),t):(nt(r),null);case 22:case 23:return _n(r),sd(),l=r.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(r.flags|=8192):l&&(r.flags|=8192),l?(a&536870912)!==0&&(r.flags&128)===0&&(nt(r),r.subtreeFlags&6&&(r.flags|=8192)):nt(r),a=r.updateQueue,a!==null&&Vc(r,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),l!==a&&(r.flags|=2048),t!==null&&ee(Fs),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),Ji(St),nt(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function ow(t,r){switch(Ff(r),r.tag){case 1:return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return Ji(St),st(),t=r.flags,(t&65536)!==0&&(t&128)===0?(r.flags=t&-65537|128,r):null;case 26:case 27:case 5:return va(r),null;case 31:if(r.memoizedState!==null){if(_n(r),r.alternate===null)throw Error(s(340));Bs()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 13:if(_n(r),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(s(340));Bs()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return ee(mt),null;case 4:return st(),null;case 10:return Ji(r.type),null;case 22:case 23:return _n(r),sd(),t!==null&&ee(Fs),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 24:return Ji(St),null;case 25:return null;default:return null}}function I_(t,r){switch(Ff(r),r.tag){case 3:Ji(St),st();break;case 26:case 27:case 5:va(r);break;case 4:st();break;case 31:r.memoizedState!==null&&_n(r);break;case 13:_n(r);break;case 19:ee(mt);break;case 10:Ji(r.type);break;case 22:case 23:_n(r),sd(),t!==null&&ee(Fs);break;case 24:Ji(St)}}function Rl(t,r){try{var a=r.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var f=l.next;a=f;do{if((a.tag&t)===t){l=void 0;var d=a.create,_=a.inst;l=d(),_.destroy=l}a=a.next}while(a!==f)}}catch(T){Ye(r,r.return,T)}}function qr(t,r,a){try{var l=r.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var d=f.next;l=d;do{if((l.tag&t)===t){var _=l.inst,T=_.destroy;if(T!==void 0){_.destroy=void 0,f=r;var N=a,B=T;try{B()}catch(Y){Ye(f,N,Y)}}}l=l.next}while(l!==d)}}catch(Y){Ye(r,r.return,Y)}}function C_(t){var r=t.updateQueue;if(r!==null){var a=t.stateNode;try{_y(r,a)}catch(l){Ye(t,t.return,l)}}}function N_(t,r,a){a.props=$s(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Ye(t,r,l)}}function Il(t,r){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(f){Ye(t,r,f)}}function xi(t,r){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(f){Ye(t,r,f)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){Ye(t,r,f)}else a.current=null}function x_(t){var r=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(f){Ye(t,t.return,f)}}function kd(t,r,a){try{var l=t.stateNode;Nw(l,t.type,a,r),l[Lt]=r}catch(f){Ye(t,t.return,f)}}function D_(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&$r(t.type)||t.tag===4}function Ud(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||D_(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&$r(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function jd(t,r,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,r):(r=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,r.appendChild(t),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=Kn));else if(l!==4&&(l===27&&$r(t.type)&&(a=t.stateNode,r=null),t=t.child,t!==null))for(jd(t,r,a),t=t.sibling;t!==null;)jd(t,r,a),t=t.sibling}function Pc(t,r,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?a.insertBefore(t,r):a.appendChild(t);else if(l!==4&&(l===27&&$r(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Pc(t,r,a),t=t.sibling;t!==null;)Pc(t,r,a),t=t.sibling}function O_(t){var r=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,f=r.attributes;f.length;)r.removeAttributeNode(f[0]);Gt(r,l,a),r[Tt]=t,r[Lt]=a}catch(d){Ye(t,t.return,d)}}var nr=!1,It=!1,zd=!1,M_=typeof WeakSet=="function"?WeakSet:Set,Ut=null;function lw(t,r){if(t=t.containerInfo,om=nh,t=Gg(t),Mf(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var f=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var _=0,T=-1,N=-1,B=0,Y=0,Z=t,q=null;t:for(;;){for(var K;Z!==a||f!==0&&Z.nodeType!==3||(T=_+f),Z!==d||l!==0&&Z.nodeType!==3||(N=_+l),Z.nodeType===3&&(_+=Z.nodeValue.length),(K=Z.firstChild)!==null;)q=Z,Z=K;for(;;){if(Z===t)break t;if(q===a&&++B===f&&(T=_),q===d&&++Y===l&&(N=_),(K=Z.nextSibling)!==null)break;Z=q,q=Z.parentNode}Z=K}a=T===-1||N===-1?null:{start:T,end:N}}else a=null}a=a||{start:0,end:0}}else a=null;for(lm={focusedElem:t,selectionRange:a},nh=!1,Ut=r;Ut!==null;)if(r=Ut,t=r.child,(r.subtreeFlags&1028)!==0&&t!==null)t.return=r,Ut=t;else for(;Ut!==null;){switch(r=Ut,d=r.alternate,t=r.flags,r.tag){case 0:if((t&4)!==0&&(t=r.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)f=t[a],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=r,f=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var ce=$s(a.type,f);t=l.getSnapshotBeforeUpdate(ce,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(pe){Ye(a,a.return,pe)}}break;case 3:if((t&1024)!==0){if(t=r.stateNode.containerInfo,a=t.nodeType,a===9)hm(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":hm(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=r.sibling,t!==null){t.return=r.return,Ut=t;break}Ut=r.return}}function V_(t,r,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:rr(t,a),l&4&&Rl(5,a);break;case 1:if(rr(t,a),l&4)if(t=a.stateNode,r===null)try{t.componentDidMount()}catch(_){Ye(a,a.return,_)}else{var f=$s(a.type,r.memoizedProps);r=r.memoizedState;try{t.componentDidUpdate(f,r,t.__reactInternalSnapshotBeforeUpdate)}catch(_){Ye(a,a.return,_)}}l&64&&C_(a),l&512&&Il(a,a.return);break;case 3:if(rr(t,a),l&64&&(t=a.updateQueue,t!==null)){if(r=null,a.child!==null)switch(a.child.tag){case 27:case 5:r=a.child.stateNode;break;case 1:r=a.child.stateNode}try{_y(t,r)}catch(_){Ye(a,a.return,_)}}break;case 27:r===null&&l&4&&O_(a);case 26:case 5:rr(t,a),r===null&&l&4&&x_(a),l&512&&Il(a,a.return);break;case 12:rr(t,a);break;case 31:rr(t,a),l&4&&k_(t,a);break;case 13:rr(t,a),l&4&&U_(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=yw.bind(null,a),kw(t,a))));break;case 22:if(l=a.memoizedState!==null||nr,!l){r=r!==null&&r.memoizedState!==null||It,f=nr;var d=It;nr=l,(It=r)&&!d?sr(t,a,(a.subtreeFlags&8772)!==0):rr(t,a),nr=f,It=d}break;case 30:break;default:rr(t,a)}}function P_(t){var r=t.alternate;r!==null&&(t.alternate=null,P_(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&Sa(r)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ot=null,on=!1;function ir(t,r,a){for(a=a.child;a!==null;)L_(t,r,a),a=a.sibling}function L_(t,r,a){if(zt&&typeof zt.onCommitFiberUnmount=="function")try{zt.onCommitFiberUnmount(qn,a)}catch{}switch(a.tag){case 26:It||xi(a,r),ir(t,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:It||xi(a,r);var l=ot,f=on;$r(a.type)&&(ot=a.stateNode,on=!1),ir(t,r,a),Ll(a.stateNode),ot=l,on=f;break;case 5:It||xi(a,r);case 6:if(l=ot,f=on,ot=null,ir(t,r,a),ot=l,on=f,ot!==null)if(on)try{(ot.nodeType===9?ot.body:ot.nodeName==="HTML"?ot.ownerDocument.body:ot).removeChild(a.stateNode)}catch(d){Ye(a,r,d)}else try{ot.removeChild(a.stateNode)}catch(d){Ye(a,r,d)}break;case 18:ot!==null&&(on?(t=ot,Cv(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),lo(t)):Cv(ot,a.stateNode));break;case 4:l=ot,f=on,ot=a.stateNode.containerInfo,on=!0,ir(t,r,a),ot=l,on=f;break;case 0:case 11:case 14:case 15:qr(2,a,r),It||qr(4,a,r),ir(t,r,a);break;case 1:It||(xi(a,r),l=a.stateNode,typeof l.componentWillUnmount=="function"&&N_(a,r,l)),ir(t,r,a);break;case 21:ir(t,r,a);break;case 22:It=(l=It)||a.memoizedState!==null,ir(t,r,a),It=l;break;default:ir(t,r,a)}}function k_(t,r){if(r.memoizedState===null&&(t=r.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{lo(t)}catch(a){Ye(r,r.return,a)}}}function U_(t,r){if(r.memoizedState===null&&(t=r.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{lo(t)}catch(a){Ye(r,r.return,a)}}function uw(t){switch(t.tag){case 31:case 13:case 19:var r=t.stateNode;return r===null&&(r=t.stateNode=new M_),r;case 22:return t=t.stateNode,r=t._retryCache,r===null&&(r=t._retryCache=new M_),r;default:throw Error(s(435,t.tag))}}function Lc(t,r){var a=uw(t);r.forEach(function(l){if(!a.has(l)){a.add(l);var f=_w.bind(null,t,l);l.then(f,f)}})}function ln(t,r){var a=r.deletions;if(a!==null)for(var l=0;l<a.length;l++){var f=a[l],d=t,_=r,T=_;e:for(;T!==null;){switch(T.tag){case 27:if($r(T.type)){ot=T.stateNode,on=!1;break e}break;case 5:ot=T.stateNode,on=!1;break e;case 3:case 4:ot=T.stateNode.containerInfo,on=!0;break e}T=T.return}if(ot===null)throw Error(s(160));L_(d,_,f),ot=null,on=!1,d=f.alternate,d!==null&&(d.return=null),f.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)j_(r,t),r=r.sibling}var Wn=null;function j_(t,r){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:ln(r,t),un(t),l&4&&(qr(3,t,t.return),Rl(3,t),qr(5,t,t.return));break;case 1:ln(r,t),un(t),l&512&&(It||a===null||xi(a,a.return)),l&64&&nr&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var f=Wn;if(ln(r,t),un(t),l&512&&(It||a===null||xi(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,f=f.ownerDocument||f;t:switch(l){case"title":d=f.getElementsByTagName("title")[0],(!d||d[gi]||d[Tt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=f.createElement(l),f.head.insertBefore(d,f.querySelector("head > title"))),Gt(d,l,a),d[Tt]=t,bt(d),l=d;break e;case"link":var _=jv("link","href",f).get(l+(a.href||""));if(_){for(var T=0;T<_.length;T++)if(d=_[T],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(T,1);break t}}d=f.createElement(l),Gt(d,l,a),f.head.appendChild(d);break;case"meta":if(_=jv("meta","content",f).get(l+(a.content||""))){for(T=0;T<_.length;T++)if(d=_[T],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(T,1);break t}}d=f.createElement(l),Gt(d,l,a),f.head.appendChild(d);break;default:throw Error(s(468,l))}d[Tt]=t,bt(d),l=d}t.stateNode=l}else zv(f,t.type,t.stateNode);else t.stateNode=Uv(f,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?zv(f,t.type,t.stateNode):Uv(f,l,t.memoizedProps)):l===null&&t.stateNode!==null&&kd(t,t.memoizedProps,a.memoizedProps)}break;case 27:ln(r,t),un(t),l&512&&(It||a===null||xi(a,a.return)),a!==null&&l&4&&kd(t,t.memoizedProps,a.memoizedProps);break;case 5:if(ln(r,t),un(t),l&512&&(It||a===null||xi(a,a.return)),t.flags&32){f=t.stateNode;try{an(f,"")}catch(ce){Ye(t,t.return,ce)}}l&4&&t.stateNode!=null&&(f=t.memoizedProps,kd(t,f,a!==null?a.memoizedProps:f)),l&1024&&(zd=!0);break;case 6:if(ln(r,t),un(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(ce){Ye(t,t.return,ce)}}break;case 3:if(Wc=null,f=Wn,Wn=Xc(r.containerInfo),ln(r,t),Wn=f,un(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{lo(r.containerInfo)}catch(ce){Ye(t,t.return,ce)}zd&&(zd=!1,z_(t));break;case 4:l=Wn,Wn=Xc(t.stateNode.containerInfo),ln(r,t),un(t),Wn=l;break;case 12:ln(r,t),un(t);break;case 31:ln(r,t),un(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Lc(t,l)));break;case 13:ln(r,t),un(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Uc=en()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Lc(t,l)));break;case 22:f=t.memoizedState!==null;var N=a!==null&&a.memoizedState!==null,B=nr,Y=It;if(nr=B||f,It=Y||N,ln(r,t),It=Y,nr=B,un(t),l&8192)e:for(r=t.stateNode,r._visibility=f?r._visibility&-2:r._visibility|1,f&&(a===null||N||nr||It||Xs(t)),a=null,r=t;;){if(r.tag===5||r.tag===26){if(a===null){N=a=r;try{if(d=N.stateNode,f)_=d.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{T=N.stateNode;var Z=N.memoizedProps.style,q=Z!=null&&Z.hasOwnProperty("display")?Z.display:null;T.style.display=q==null||typeof q=="boolean"?"":(""+q).trim()}}catch(ce){Ye(N,N.return,ce)}}}else if(r.tag===6){if(a===null){N=r;try{N.stateNode.nodeValue=f?"":N.memoizedProps}catch(ce){Ye(N,N.return,ce)}}}else if(r.tag===18){if(a===null){N=r;try{var K=N.stateNode;f?Nv(K,!0):Nv(N.stateNode,!1)}catch(ce){Ye(N,N.return,ce)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===t)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break e;for(;r.sibling===null;){if(r.return===null||r.return===t)break e;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Lc(t,a))));break;case 19:ln(r,t),un(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Lc(t,l)));break;case 30:break;case 21:break;default:ln(r,t),un(t)}}function un(t){var r=t.flags;if(r&2){try{for(var a,l=t.return;l!==null;){if(D_(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var f=a.stateNode,d=Ud(t);Pc(t,d,f);break;case 5:var _=a.stateNode;a.flags&32&&(an(_,""),a.flags&=-33);var T=Ud(t);Pc(t,T,_);break;case 3:case 4:var N=a.stateNode.containerInfo,B=Ud(t);jd(t,B,N);break;default:throw Error(s(161))}}catch(Y){Ye(t,t.return,Y)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function z_(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var r=t;z_(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),t=t.sibling}}function rr(t,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)V_(t,r.alternate,r),r=r.sibling}function Xs(t){for(t=t.child;t!==null;){var r=t;switch(r.tag){case 0:case 11:case 14:case 15:qr(4,r,r.return),Xs(r);break;case 1:xi(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&N_(r,r.return,a),Xs(r);break;case 27:Ll(r.stateNode);case 26:case 5:xi(r,r.return),Xs(r);break;case 22:r.memoizedState===null&&Xs(r);break;case 30:Xs(r);break;default:Xs(r)}t=t.sibling}}function sr(t,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var l=r.alternate,f=t,d=r,_=d.flags;switch(d.tag){case 0:case 11:case 15:sr(f,d,a),Rl(4,d);break;case 1:if(sr(f,d,a),l=d,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(B){Ye(l,l.return,B)}if(l=d,f=l.updateQueue,f!==null){var T=l.stateNode;try{var N=f.shared.hiddenCallbacks;if(N!==null)for(f.shared.hiddenCallbacks=null,f=0;f<N.length;f++)yy(N[f],T)}catch(B){Ye(l,l.return,B)}}a&&_&64&&C_(d),Il(d,d.return);break;case 27:O_(d);case 26:case 5:sr(f,d,a),a&&l===null&&_&4&&x_(d),Il(d,d.return);break;case 12:sr(f,d,a);break;case 31:sr(f,d,a),a&&_&4&&k_(f,d);break;case 13:sr(f,d,a),a&&_&4&&U_(f,d);break;case 22:d.memoizedState===null&&sr(f,d,a),Il(d,d.return);break;case 30:break;default:sr(f,d,a)}r=r.sibling}}function Bd(t,r){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(t=r.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&dl(a))}function qd(t,r){t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&dl(t))}function Zn(t,r,a,l){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)B_(t,r,a,l),r=r.sibling}function B_(t,r,a,l){var f=r.flags;switch(r.tag){case 0:case 11:case 15:Zn(t,r,a,l),f&2048&&Rl(9,r);break;case 1:Zn(t,r,a,l);break;case 3:Zn(t,r,a,l),f&2048&&(t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&dl(t)));break;case 12:if(f&2048){Zn(t,r,a,l),t=r.stateNode;try{var d=r.memoizedProps,_=d.id,T=d.onPostCommit;typeof T=="function"&&T(_,r.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(N){Ye(r,r.return,N)}}else Zn(t,r,a,l);break;case 31:Zn(t,r,a,l);break;case 13:Zn(t,r,a,l);break;case 23:break;case 22:d=r.stateNode,_=r.alternate,r.memoizedState!==null?d._visibility&2?Zn(t,r,a,l):Cl(t,r):d._visibility&2?Zn(t,r,a,l):(d._visibility|=2,Ja(t,r,a,l,(r.subtreeFlags&10256)!==0||!1)),f&2048&&Bd(_,r);break;case 24:Zn(t,r,a,l),f&2048&&qd(r.alternate,r);break;default:Zn(t,r,a,l)}}function Ja(t,r,a,l,f){for(f=f&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var d=t,_=r,T=a,N=l,B=_.flags;switch(_.tag){case 0:case 11:case 15:Ja(d,_,T,N,f),Rl(8,_);break;case 23:break;case 22:var Y=_.stateNode;_.memoizedState!==null?Y._visibility&2?Ja(d,_,T,N,f):Cl(d,_):(Y._visibility|=2,Ja(d,_,T,N,f)),f&&B&2048&&Bd(_.alternate,_);break;case 24:Ja(d,_,T,N,f),f&&B&2048&&qd(_.alternate,_);break;default:Ja(d,_,T,N,f)}r=r.sibling}}function Cl(t,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=t,l=r,f=l.flags;switch(l.tag){case 22:Cl(a,l),f&2048&&Bd(l.alternate,l);break;case 24:Cl(a,l),f&2048&&qd(l.alternate,l);break;default:Cl(a,l)}r=r.sibling}}var Nl=8192;function Wa(t,r,a){if(t.subtreeFlags&Nl)for(t=t.child;t!==null;)q_(t,r,a),t=t.sibling}function q_(t,r,a){switch(t.tag){case 26:Wa(t,r,a),t.flags&Nl&&t.memoizedState!==null&&$w(a,Wn,t.memoizedState,t.memoizedProps);break;case 5:Wa(t,r,a);break;case 3:case 4:var l=Wn;Wn=Xc(t.stateNode.containerInfo),Wa(t,r,a),Wn=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=Nl,Nl=16777216,Wa(t,r,a),Nl=l):Wa(t,r,a));break;default:Wa(t,r,a)}}function H_(t){var r=t.alternate;if(r!==null&&(t=r.child,t!==null)){r.child=null;do r=t.sibling,t.sibling=null,t=r;while(t!==null)}}function xl(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];Ut=l,G_(l,t)}H_(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)F_(t),t=t.sibling}function F_(t){switch(t.tag){case 0:case 11:case 15:xl(t),t.flags&2048&&qr(9,t,t.return);break;case 3:xl(t);break;case 12:xl(t);break;case 22:var r=t.stateNode;t.memoizedState!==null&&r._visibility&2&&(t.return===null||t.return.tag!==13)?(r._visibility&=-3,kc(t)):xl(t);break;default:xl(t)}}function kc(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];Ut=l,G_(l,t)}H_(t)}for(t=t.child;t!==null;){switch(r=t,r.tag){case 0:case 11:case 15:qr(8,r,r.return),kc(r);break;case 22:a=r.stateNode,a._visibility&2&&(a._visibility&=-3,kc(r));break;default:kc(r)}t=t.sibling}}function G_(t,r){for(;Ut!==null;){var a=Ut;switch(a.tag){case 0:case 11:case 15:qr(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:dl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Ut=l;else e:for(a=t;Ut!==null;){l=Ut;var f=l.sibling,d=l.return;if(P_(l),l===a){Ut=null;break e}if(f!==null){f.return=d,Ut=f;break e}Ut=d}}}var cw={getCacheForType:function(t){var r=Ht(St),a=r.data.get(t);return a===void 0&&(a=t(),r.data.set(t,a)),a},cacheSignal:function(){return Ht(St).controller.signal}},hw=typeof WeakMap=="function"?WeakMap:Map,He=0,Ze=null,Ne=null,De=0,Qe=0,vn=null,Hr=!1,Za=!1,Hd=!1,ar=0,ht=0,Fr=0,Js=0,Fd=0,En=0,eo=0,Dl=null,cn=null,Gd=!1,Uc=0,K_=0,jc=1/0,zc=null,Gr=null,Vt=0,Kr=null,to=null,or=0,Kd=0,Qd=null,Q_=null,Ol=0,Yd=null;function Tn(){return(He&2)!==0&&De!==0?De&-De:$.T!==null?em():Bu()}function Y_(){if(En===0)if((De&536870912)===0||Le){var t=Ss;Ss<<=1,(Ss&3932160)===0&&(Ss=262144),En=t}else En=536870912;return t=yn.current,t!==null&&(t.flags|=32),En}function hn(t,r,a){(t===Ze&&(Qe===2||Qe===9)||t.cancelPendingCommit!==null)&&(no(t,0),Qr(t,De,En,!1)),ws(t,a),((He&2)===0||t!==Ze)&&(t===Ze&&((He&2)===0&&(Js|=a),ht===4&&Qr(t,De,En,!1)),Di(t))}function $_(t,r,a){if((He&6)!==0)throw Error(s(327));var l=!a&&(r&127)===0&&(r&t.expiredLanes)===0||Hn(t,r),f=l?mw(t,r):Xd(t,r,!0),d=l;do{if(f===0){Za&&!l&&Qr(t,r,0,!1);break}else{if(a=t.current.alternate,d&&!fw(a)){f=Xd(t,r,!1),d=!1;continue}if(f===2){if(d=r,t.errorRecoveryDisabledLanes&d)var _=0;else _=t.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){r=_;e:{var T=t;f=Dl;var N=T.current.memoizedState.isDehydrated;if(N&&(no(T,_).flags|=256),_=Xd(T,_,!1),_!==2){if(Hd&&!N){T.errorRecoveryDisabledLanes|=d,Js|=d,f=4;break e}d=cn,cn=f,d!==null&&(cn===null?cn=d:cn.push.apply(cn,d))}f=_}if(d=!1,f!==2)continue}}if(f===1){no(t,0),Qr(t,r,0,!0);break}e:{switch(l=t,d=f,d){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:Qr(l,r,En,!Hr);break e;case 2:cn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(f=Uc+300-en(),10<f)){if(Qr(l,r,En,!Hr),di(l,0,!0)!==0)break e;or=r,l.timeoutHandle=Rv(X_.bind(null,l,a,cn,zc,Gd,r,En,Js,eo,Hr,d,"Throttled",-0,0),f);break e}X_(l,a,cn,zc,Gd,r,En,Js,eo,Hr,d,null,-0,0)}}break}while(!0);Di(t)}function X_(t,r,a,l,f,d,_,T,N,B,Y,Z,q,K){if(t.timeoutHandle=-1,Z=r.subtreeFlags,Z&8192||(Z&16785408)===16785408){Z={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Kn},q_(r,d,Z);var ce=(d&62914560)===d?Uc-en():(d&4194048)===d?K_-en():0;if(ce=Xw(Z,ce),ce!==null){or=d,t.cancelPendingCommit=ce(rv.bind(null,t,r,d,a,l,f,_,T,N,Y,Z,null,q,K)),Qr(t,d,_,!B);return}}rv(t,r,d,a,l,f,_,T,N)}function fw(t){for(var r=t;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var f=a[l],d=f.getSnapshot;f=f.value;try{if(!pn(d(),f))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Qr(t,r,a,l){r&=~Fd,r&=~Js,t.suspendedLanes|=r,t.pingedLanes&=~r,l&&(t.warmLanes|=r),l=t.expirationTimes;for(var f=r;0<f;){var d=31-ft(f),_=1<<d;l[d]=-1,f&=~_}a!==0&&Rs(t,a,r)}function Bc(){return(He&6)===0?(Ml(0),!1):!0}function $d(){if(Ne!==null){if(Qe===0)var t=Ne.return;else t=Ne,Xi=qs=null,hd(t),Ka=null,pl=0,t=Ne;for(;t!==null;)I_(t.alternate,t),t=t.return;Ne=null}}function no(t,r){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,Ow(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),or=0,$d(),Ze=t,Ne=a=Yi(t.current,null),De=r,Qe=0,vn=null,Hr=!1,Za=Hn(t,r),Hd=!1,eo=En=Fd=Js=Fr=ht=0,cn=Dl=null,Gd=!1,(r&8)!==0&&(r|=r&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=r;0<l;){var f=31-ft(l),d=1<<f;r|=t[f],l&=~d}return ar=r,lc(),a}function J_(t,r){Ae=null,$.H=Al,r===Ga||r===gc?(r=dy(),Qe=3):r===Zf?(r=dy(),Qe=4):Qe=r===Id?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,vn=r,Ne===null&&(ht=1,xc(t,Dn(r,t.current)))}function W_(){var t=yn.current;return t===null?!0:(De&4194048)===De?Pn===null:(De&62914560)===De||(De&536870912)!==0?t===Pn:!1}function Z_(){var t=$.H;return $.H=Al,t===null?Al:t}function ev(){var t=$.A;return $.A=cw,t}function qc(){ht=4,Hr||(De&4194048)!==De&&yn.current!==null||(Za=!0),(Fr&134217727)===0&&(Js&134217727)===0||Ze===null||Qr(Ze,De,En,!1)}function Xd(t,r,a){var l=He;He|=2;var f=Z_(),d=ev();(Ze!==t||De!==r)&&(zc=null,no(t,r)),r=!1;var _=ht;e:do try{if(Qe!==0&&Ne!==null){var T=Ne,N=vn;switch(Qe){case 8:$d(),_=6;break e;case 3:case 2:case 9:case 6:yn.current===null&&(r=!0);var B=Qe;if(Qe=0,vn=null,io(t,T,N,B),a&&Za){_=0;break e}break;default:B=Qe,Qe=0,vn=null,io(t,T,N,B)}}dw(),_=ht;break}catch(Y){J_(t,Y)}while(!0);return r&&t.shellSuspendCounter++,Xi=qs=null,He=l,$.H=f,$.A=d,Ne===null&&(Ze=null,De=0,lc()),_}function dw(){for(;Ne!==null;)tv(Ne)}function mw(t,r){var a=He;He|=2;var l=Z_(),f=ev();Ze!==t||De!==r?(zc=null,jc=en()+500,no(t,r)):Za=Hn(t,r);e:do try{if(Qe!==0&&Ne!==null){r=Ne;var d=vn;t:switch(Qe){case 1:Qe=0,vn=null,io(t,r,d,1);break;case 2:case 9:if(hy(d)){Qe=0,vn=null,nv(r);break}r=function(){Qe!==2&&Qe!==9||Ze!==t||(Qe=7),Di(t)},d.then(r,r);break e;case 3:Qe=7;break e;case 4:Qe=5;break e;case 7:hy(d)?(Qe=0,vn=null,nv(r)):(Qe=0,vn=null,io(t,r,d,7));break;case 5:var _=null;switch(Ne.tag){case 26:_=Ne.memoizedState;case 5:case 27:var T=Ne;if(_?Bv(_):T.stateNode.complete){Qe=0,vn=null;var N=T.sibling;if(N!==null)Ne=N;else{var B=T.return;B!==null?(Ne=B,Hc(B)):Ne=null}break t}}Qe=0,vn=null,io(t,r,d,5);break;case 6:Qe=0,vn=null,io(t,r,d,6);break;case 8:$d(),ht=6;break e;default:throw Error(s(462))}}pw();break}catch(Y){J_(t,Y)}while(!0);return Xi=qs=null,$.H=l,$.A=f,He=a,Ne!==null?0:(Ze=null,De=0,lc(),ht)}function pw(){for(;Ne!==null&&!Rf();)tv(Ne)}function tv(t){var r=w_(t.alternate,t,ar);t.memoizedProps=t.pendingProps,r===null?Hc(t):Ne=r}function nv(t){var r=t,a=r.alternate;switch(r.tag){case 15:case 0:r=v_(a,r,r.pendingProps,r.type,void 0,De);break;case 11:r=v_(a,r,r.pendingProps,r.type.render,r.ref,De);break;case 5:hd(r);default:I_(a,r),r=Ne=ey(r,ar),r=w_(a,r,ar)}t.memoizedProps=t.pendingProps,r===null?Hc(t):Ne=r}function io(t,r,a,l){Xi=qs=null,hd(r),Ka=null,pl=0;var f=r.return;try{if(iw(t,f,r,a,De)){ht=1,xc(t,Dn(a,t.current)),Ne=null;return}}catch(d){if(f!==null)throw Ne=f,d;ht=1,xc(t,Dn(a,t.current)),Ne=null;return}r.flags&32768?(Le||l===1?t=!0:Za||(De&536870912)!==0?t=!1:(Hr=t=!0,(l===2||l===9||l===3||l===6)&&(l=yn.current,l!==null&&l.tag===13&&(l.flags|=16384))),iv(r,t)):Hc(r)}function Hc(t){var r=t;do{if((r.flags&32768)!==0){iv(r,Hr);return}t=r.return;var a=aw(r.alternate,r,ar);if(a!==null){Ne=a;return}if(r=r.sibling,r!==null){Ne=r;return}Ne=r=t}while(r!==null);ht===0&&(ht=5)}function iv(t,r){do{var a=ow(t.alternate,t);if(a!==null){a.flags&=32767,Ne=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(t=t.sibling,t!==null)){Ne=t;return}Ne=t=a}while(t!==null);ht=6,Ne=null}function rv(t,r,a,l,f,d,_,T,N){t.cancelPendingCommit=null;do Fc();while(Vt!==0);if((He&6)!==0)throw Error(s(327));if(r!==null){if(r===t.current)throw Error(s(177));if(d=r.lanes|r.childLanes,d|=Uf,Nf(t,a,d,_,T,N),t===Ze&&(Ne=Ze=null,De=0),to=r,Kr=t,or=a,Kd=d,Qd=f,Q_=l,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,vw(Ar,function(){return uv(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||l){l=$.T,$.T=null,f=re.p,re.p=2,_=He,He|=4;try{lw(t,r,a)}finally{He=_,re.p=f,$.T=l}}Vt=1,sv(),av(),ov()}}function sv(){if(Vt===1){Vt=0;var t=Kr,r=to,a=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||a){a=$.T,$.T=null;var l=re.p;re.p=2;var f=He;He|=4;try{j_(r,t);var d=lm,_=Gg(t.containerInfo),T=d.focusedElem,N=d.selectionRange;if(_!==T&&T&&T.ownerDocument&&Fg(T.ownerDocument.documentElement,T)){if(N!==null&&Mf(T)){var B=N.start,Y=N.end;if(Y===void 0&&(Y=B),"selectionStart"in T)T.selectionStart=B,T.selectionEnd=Math.min(Y,T.value.length);else{var Z=T.ownerDocument||document,q=Z&&Z.defaultView||window;if(q.getSelection){var K=q.getSelection(),ce=T.textContent.length,pe=Math.min(N.start,ce),We=N.end===void 0?pe:Math.min(N.end,ce);!K.extend&&pe>We&&(_=We,We=pe,pe=_);var L=Hg(T,pe),O=Hg(T,We);if(L&&O&&(K.rangeCount!==1||K.anchorNode!==L.node||K.anchorOffset!==L.offset||K.focusNode!==O.node||K.focusOffset!==O.offset)){var z=Z.createRange();z.setStart(L.node,L.offset),K.removeAllRanges(),pe>We?(K.addRange(z),K.extend(O.node,O.offset)):(z.setEnd(O.node,O.offset),K.addRange(z))}}}}for(Z=[],K=T;K=K.parentNode;)K.nodeType===1&&Z.push({element:K,left:K.scrollLeft,top:K.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<Z.length;T++){var J=Z[T];J.element.scrollLeft=J.left,J.element.scrollTop=J.top}}nh=!!om,lm=om=null}finally{He=f,re.p=l,$.T=a}}t.current=r,Vt=2}}function av(){if(Vt===2){Vt=0;var t=Kr,r=to,a=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||a){a=$.T,$.T=null;var l=re.p;re.p=2;var f=He;He|=4;try{V_(t,r.alternate,r)}finally{He=f,re.p=l,$.T=a}}Vt=3}}function ov(){if(Vt===4||Vt===3){Vt=0,Vu();var t=Kr,r=to,a=or,l=Q_;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Vt=5:(Vt=0,to=Kr=null,lv(t,t.pendingLanes));var f=t.pendingLanes;if(f===0&&(Gr=null),Fi(a),r=r.stateNode,zt&&typeof zt.onCommitFiberRoot=="function")try{zt.onCommitFiberRoot(qn,r,void 0,(r.current.flags&128)===128)}catch{}if(l!==null){r=$.T,f=re.p,re.p=2,$.T=null;try{for(var d=t.onRecoverableError,_=0;_<l.length;_++){var T=l[_];d(T.value,{componentStack:T.stack})}}finally{$.T=r,re.p=f}}(or&3)!==0&&Fc(),Di(t),f=t.pendingLanes,(a&261930)!==0&&(f&42)!==0?t===Yd?Ol++:(Ol=0,Yd=t):Ol=0,Ml(0)}}function lv(t,r){(t.pooledCacheLanes&=r)===0&&(r=t.pooledCache,r!=null&&(t.pooledCache=null,dl(r)))}function Fc(){return sv(),av(),ov(),uv()}function uv(){if(Vt!==5)return!1;var t=Kr,r=Kd;Kd=0;var a=Fi(or),l=$.T,f=re.p;try{re.p=32>a?32:a,$.T=null,a=Qd,Qd=null;var d=Kr,_=or;if(Vt=0,to=Kr=null,or=0,(He&6)!==0)throw Error(s(331));var T=He;if(He|=4,F_(d.current),B_(d,d.current,_,a),He=T,Ml(0,!1),zt&&typeof zt.onPostCommitFiberRoot=="function")try{zt.onPostCommitFiberRoot(qn,d)}catch{}return!0}finally{re.p=f,$.T=l,lv(t,r)}}function cv(t,r,a){r=Dn(a,r),r=Rd(t.stateNode,r,2),t=jr(t,r,2),t!==null&&(ws(t,2),Di(t))}function Ye(t,r,a){if(t.tag===3)cv(t,t,a);else for(;r!==null;){if(r.tag===3){cv(r,t,a);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Gr===null||!Gr.has(l))){t=Dn(a,t),a=h_(2),l=jr(r,a,2),l!==null&&(f_(a,l,r,t),ws(l,2),Di(l));break}}r=r.return}}function Jd(t,r,a){var l=t.pingCache;if(l===null){l=t.pingCache=new hw;var f=new Set;l.set(r,f)}else f=l.get(r),f===void 0&&(f=new Set,l.set(r,f));f.has(a)||(Hd=!0,f.add(a),t=gw.bind(null,t,r,a),r.then(t,t))}function gw(t,r,a){var l=t.pingCache;l!==null&&l.delete(r),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,Ze===t&&(De&a)===a&&(ht===4||ht===3&&(De&62914560)===De&&300>en()-Uc?(He&2)===0&&no(t,0):Fd|=a,eo===De&&(eo=0)),Di(t)}function hv(t,r){r===0&&(r=zu()),t=js(t,r),t!==null&&(ws(t,r),Di(t))}function yw(t){var r=t.memoizedState,a=0;r!==null&&(a=r.retryLane),hv(t,a)}function _w(t,r){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,f=t.memoizedState;f!==null&&(a=f.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(r),hv(t,a)}function vw(t,r){return Mt(t,r)}var Gc=null,ro=null,Wd=!1,Kc=!1,Zd=!1,Yr=0;function Di(t){t!==ro&&t.next===null&&(ro===null?Gc=ro=t:ro=ro.next=t),Kc=!0,Wd||(Wd=!0,Tw())}function Ml(t,r){if(!Zd&&Kc){Zd=!0;do for(var a=!1,l=Gc;l!==null;){if(t!==0){var f=l.pendingLanes;if(f===0)var d=0;else{var _=l.suspendedLanes,T=l.pingedLanes;d=(1<<31-ft(42|t)+1)-1,d&=f&~(_&~T),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,pv(l,d))}else d=De,d=di(l,l===Ze?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Hn(l,d)||(a=!0,pv(l,d));l=l.next}while(a);Zd=!1}}function Ew(){fv()}function fv(){Kc=Wd=!1;var t=0;Yr!==0&&Dw()&&(t=Yr);for(var r=en(),a=null,l=Gc;l!==null;){var f=l.next,d=dv(l,r);d===0?(l.next=null,a===null?Gc=f:a.next=f,f===null&&(ro=a)):(a=l,(t!==0||(d&3)!==0)&&(Kc=!0)),l=f}Vt!==0&&Vt!==5||Ml(t),Yr!==0&&(Yr=0)}function dv(t,r){for(var a=t.suspendedLanes,l=t.pingedLanes,f=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var _=31-ft(d),T=1<<_,N=f[_];N===-1?((T&a)===0||(T&l)!==0)&&(f[_]=Cf(T,r)):N<=r&&(t.expiredLanes|=T),d&=~T}if(r=Ze,a=De,a=di(t,t===r?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===r&&(Qe===2||Qe===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&br(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Hn(t,a)){if(r=a&-a,r===t.callbackPriority)return r;switch(l!==null&&br(l),Fi(a)){case 2:case 8:a=Ho;break;case 32:a=Ar;break;case 268435456:a=Pu;break;default:a=Ar}return l=mv.bind(null,t),a=Mt(a,l),t.callbackPriority=r,t.callbackNode=a,r}return l!==null&&l!==null&&br(l),t.callbackPriority=2,t.callbackNode=null,2}function mv(t,r){if(Vt!==0&&Vt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Fc()&&t.callbackNode!==a)return null;var l=De;return l=di(t,t===Ze?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:($_(t,l,r),dv(t,en()),t.callbackNode!=null&&t.callbackNode===a?mv.bind(null,t):null)}function pv(t,r){if(Fc())return null;$_(t,r,!0)}function Tw(){Mw(function(){(He&6)!==0?Mt(qo,Ew):fv()})}function em(){if(Yr===0){var t=Ha;t===0&&(t=hi,hi<<=1,(hi&261888)===0&&(hi=256)),Yr=t}return Yr}function gv(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Ca(""+t)}function yv(t,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,t.id&&a.setAttribute("form",t.id),r.parentNode.insertBefore(a,r),t=new FormData(t),a.parentNode.removeChild(a),t}function bw(t,r,a,l,f){if(r==="submit"&&a&&a.stateNode===f){var d=gv((f[Lt]||null).action),_=l.submitter;_&&(r=(r=_[Lt]||null)?gv(r.formAction):_.getAttribute("formAction"),r!==null&&(d=r,_=null));var T=new Si("action","action",null,l,f);t.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Yr!==0){var N=_?yv(f,_):new FormData(f);Ed(a,{pending:!0,data:N,method:f.method,action:d},null,N)}}else typeof d=="function"&&(T.preventDefault(),N=_?yv(f,_):new FormData(f),Ed(a,{pending:!0,data:N,method:f.method,action:d},d,N))},currentTarget:f}]})}}for(var tm=0;tm<kf.length;tm++){var nm=kf[tm],Aw=nm.toLowerCase(),Sw=nm[0].toUpperCase()+nm.slice(1);Jn(Aw,"on"+Sw)}Jn(Yg,"onAnimationEnd"),Jn($g,"onAnimationIteration"),Jn(Xg,"onAnimationStart"),Jn("dblclick","onDoubleClick"),Jn("focusin","onFocus"),Jn("focusout","onBlur"),Jn(zS,"onTransitionRun"),Jn(BS,"onTransitionStart"),Jn(qS,"onTransitionCancel"),Jn(Jg,"onTransitionEnd"),Ei("onMouseEnter",["mouseout","mouseover"]),Ei("onMouseLeave",["mouseout","mouseover"]),Ei("onPointerEnter",["pointerout","pointerover"]),Ei("onPointerLeave",["pointerout","pointerover"]),vi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),vi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),vi("onBeforeInput",["compositionend","keypress","textInput","paste"]),vi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),vi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),vi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Vl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ww=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Vl));function _v(t,r){r=(r&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],f=l.event;l=l.listeners;e:{var d=void 0;if(r)for(var _=l.length-1;0<=_;_--){var T=l[_],N=T.instance,B=T.currentTarget;if(T=T.listener,N!==d&&f.isPropagationStopped())break e;d=T,f.currentTarget=B;try{d(f)}catch(Y){oc(Y)}f.currentTarget=null,d=N}else for(_=0;_<l.length;_++){if(T=l[_],N=T.instance,B=T.currentTarget,T=T.listener,N!==d&&f.isPropagationStopped())break e;d=T,f.currentTarget=B;try{d(f)}catch(Y){oc(Y)}f.currentTarget=null,d=N}}}}function xe(t,r){var a=r[Aa];a===void 0&&(a=r[Aa]=new Set);var l=t+"__bubble";a.has(l)||(vv(r,t,2,!1),a.add(l))}function im(t,r,a){var l=0;r&&(l|=4),vv(a,t,l,r)}var Qc="_reactListening"+Math.random().toString(36).slice(2);function rm(t){if(!t[Qc]){t[Qc]=!0,Ko.forEach(function(a){a!=="selectionchange"&&(ww.has(a)||im(a,!1,t),im(a,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[Qc]||(r[Qc]=!0,im("selectionchange",!1,r))}}function vv(t,r,a,l){switch(Yv(r)){case 2:var f=Zw;break;case 8:f=e1;break;default:f=vm}a=f.bind(null,r,a,t),f=void 0,!Ds||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(f=!0),l?f!==void 0?t.addEventListener(r,a,{capture:!0,passive:f}):t.addEventListener(r,a,!0):f!==void 0?t.addEventListener(r,a,{passive:f}):t.addEventListener(r,a,!1)}function sm(t,r,a,l,f){var d=l;if((r&1)===0&&(r&2)===0&&l!==null)e:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var T=l.stateNode.containerInfo;if(T===f)break;if(_===4)for(_=l.return;_!==null;){var N=_.tag;if((N===3||N===4)&&_.stateNode.containerInfo===f)return;_=_.return}for(;T!==null;){if(_=yi(T),_===null)return;if(N=_.tag,N===5||N===6||N===26||N===27){l=d=_;continue e}T=T.parentNode}}l=l.return}Nr(function(){var B=d,Y=In(a),Z=[];e:{var q=Wg.get(t);if(q!==void 0){var K=Si,ce=t;switch(t){case"keypress":if(Ms(a)===0)break e;case"keydown":case"keyup":K=rc;break;case"focusin":ce="focus",K=Ps;break;case"focusout":ce="blur",K=Ps;break;case"beforeblur":case"afterblur":K=Ps;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":K=sl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":K=$u;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":K=y;break;case Yg:case $g:case Xg:K=Ju;break;case Jg:K=A;break;case"scroll":case"scrollend":K=rl;break;case"wheel":K=F;break;case"copy":case"cut":case"paste":K=Wu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":K=Qi;break;case"toggle":case"beforetoggle":K=be}var pe=(r&4)!==0,We=!pe&&(t==="scroll"||t==="scrollend"),L=pe?q!==null?q+"Capture":null:q;pe=[];for(var O=B,z;O!==null;){var J=O;if(z=J.stateNode,J=J.tag,J!==5&&J!==26&&J!==27||z===null||L===null||(J=Qn(O,L),J!=null&&pe.push(Pl(O,J,z))),We)break;O=O.return}0<pe.length&&(q=new K(q,ce,null,a,Y),Z.push({event:q,listeners:pe}))}}if((r&7)===0){e:{if(q=t==="mouseover"||t==="pointerover",K=t==="mouseout"||t==="pointerout",q&&a!==tl&&(ce=a.relatedTarget||a.fromElement)&&(yi(ce)||ce[pi]))break e;if((K||q)&&(q=Y.window===Y?Y:(q=Y.ownerDocument)?q.defaultView||q.parentWindow:window,K?(ce=a.relatedTarget||a.toElement,K=B,ce=ce?yi(ce):null,ce!==null&&(We=u(ce),pe=ce.tag,ce!==We||pe!==5&&pe!==27&&pe!==6)&&(ce=null)):(K=null,ce=B),K!==ce)){if(pe=sl,J="onMouseLeave",L="onMouseEnter",O="mouse",(t==="pointerout"||t==="pointerover")&&(pe=Qi,J="onPointerLeave",L="onPointerEnter",O="pointer"),We=K==null?q:dn(K),z=ce==null?q:dn(ce),q=new pe(J,O+"leave",K,a,Y),q.target=We,q.relatedTarget=z,J=null,yi(Y)===B&&(pe=new pe(L,O+"enter",ce,a,Y),pe.target=z,pe.relatedTarget=We,J=pe),We=J,K&&ce)t:{for(pe=Rw,L=K,O=ce,z=0,J=L;J;J=pe(J))z++;J=0;for(var fe=O;fe;fe=pe(fe))J++;for(;0<z-J;)L=pe(L),z--;for(;0<J-z;)O=pe(O),J--;for(;z--;){if(L===O||O!==null&&L===O.alternate){pe=L;break t}L=pe(L),O=pe(O)}pe=null}else pe=null;K!==null&&Ev(Z,q,K,pe,!1),ce!==null&&We!==null&&Ev(Z,We,ce,pe,!0)}}e:{if(q=B?dn(B):window,K=q.nodeName&&q.nodeName.toLowerCase(),K==="select"||K==="input"&&q.type==="file")var ze=kg;else if(Pg(q))if(Ug)ze=kS;else{ze=PS;var he=VS}else K=q.nodeName,!K||K.toLowerCase()!=="input"||q.type!=="checkbox"&&q.type!=="radio"?B&&Ia(B.elementType)&&(ze=kg):ze=LS;if(ze&&(ze=ze(t,B))){Lg(Z,ze,a,Y);break e}he&&he(t,q,B),t==="focusout"&&B&&q.type==="number"&&B.memoizedProps.value!=null&&Wo(q,"number",q.value)}switch(he=B?dn(B):window,t){case"focusin":(Pg(he)||he.contentEditable==="true")&&(Pa=he,Vf=B,cl=null);break;case"focusout":cl=Vf=Pa=null;break;case"mousedown":Pf=!0;break;case"contextmenu":case"mouseup":case"dragend":Pf=!1,Kg(Z,a,Y);break;case"selectionchange":if(jS)break;case"keydown":case"keyup":Kg(Z,a,Y)}var we;if(qe)e:{switch(t){case"compositionstart":var Oe="onCompositionStart";break e;case"compositionend":Oe="onCompositionEnd";break e;case"compositionupdate":Oe="onCompositionUpdate";break e}Oe=void 0}else Va?Ls(t,a)&&(Oe="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Oe="onCompositionStart");Oe&&(Ii&&a.locale!=="ko"&&(Va||Oe!=="onCompositionStart"?Oe==="onCompositionEnd"&&Va&&(we=il()):(Ai=Y,nl="value"in Ai?Ai.value:Ai.textContent,Va=!0)),he=Yc(B,Oe),0<he.length&&(Oe=new Ri(Oe,t,null,a,Y),Z.push({event:Oe,listeners:he}),we?Oe.data=we:(we=Ma(a),we!==null&&(Oe.data=we)))),(we=Nn?xS(t,a):DS(t,a))&&(Oe=Yc(B,"onBeforeInput"),0<Oe.length&&(he=new Ri("onBeforeInput","beforeinput",null,a,Y),Z.push({event:he,listeners:Oe}),he.data=we)),bw(Z,t,B,a,Y)}_v(Z,r)})}function Pl(t,r,a){return{instance:t,listener:r,currentTarget:a}}function Yc(t,r){for(var a=r+"Capture",l=[];t!==null;){var f=t,d=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||d===null||(f=Qn(t,a),f!=null&&l.unshift(Pl(t,f,d)),f=Qn(t,r),f!=null&&l.push(Pl(t,f,d))),t.tag===3)return l;t=t.return}return[]}function Rw(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Ev(t,r,a,l,f){for(var d=r._reactName,_=[];a!==null&&a!==l;){var T=a,N=T.alternate,B=T.stateNode;if(T=T.tag,N!==null&&N===l)break;T!==5&&T!==26&&T!==27||B===null||(N=B,f?(B=Qn(a,d),B!=null&&_.unshift(Pl(a,B,N))):f||(B=Qn(a,d),B!=null&&_.push(Pl(a,B,N)))),a=a.return}_.length!==0&&t.push({event:r,listeners:_})}var Iw=/\r\n?/g,Cw=/\u0000|\uFFFD/g;function Tv(t){return(typeof t=="string"?t:""+t).replace(Iw,`
`).replace(Cw,"")}function bv(t,r){return r=Tv(r),Tv(t)===r}function Je(t,r,a,l,f,d){switch(a){case"children":typeof l=="string"?r==="body"||r==="textarea"&&l===""||an(t,l):(typeof l=="number"||typeof l=="bigint")&&r!=="body"&&an(t,""+l);break;case"className":mn(t,"class",l);break;case"tabIndex":mn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":mn(t,a,l);break;case"style":el(t,l,d);break;case"data":if(r!=="object"){mn(t,"data",l);break}case"src":case"href":if(l===""&&(r!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Ca(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(r!=="input"&&Je(t,r,"name",f.name,f,null),Je(t,r,"formEncType",f.formEncType,f,null),Je(t,r,"formMethod",f.formMethod,f,null),Je(t,r,"formTarget",f.formTarget,f,null)):(Je(t,r,"encType",f.encType,f,null),Je(t,r,"method",f.method,f,null),Je(t,r,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Ca(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Kn);break;case"onScroll":l!=null&&xe("scroll",t);break;case"onScrollEnd":l!=null&&xe("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=Ca(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":xe("beforetoggle",t),xe("toggle",t),wa(t,"popover",l);break;case"xlinkActuate":At(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":At(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":At(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":At(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":At(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":At(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":At(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":At(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":At(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":wa(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Yu.get(a)||a,wa(t,a,l))}}function am(t,r,a,l,f,d){switch(a){case"style":el(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?an(t,l):(typeof l=="number"||typeof l=="bigint")&&an(t,""+l);break;case"onScroll":l!=null&&xe("scroll",t);break;case"onScrollEnd":l!=null&&xe("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Kn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Qo.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),r=a.slice(2,f?a.length-7:void 0),d=t[Lt]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(r,d,f),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(r,l,f);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):wa(t,a,l)}}}function Gt(t,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":xe("error",t),xe("load",t);var l=!1,f=!1,d;for(d in a)if(a.hasOwnProperty(d)){var _=a[d];if(_!=null)switch(d){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Je(t,r,d,_,a,null)}}f&&Je(t,r,"srcSet",a.srcSet,a,null),l&&Je(t,r,"src",a.src,a,null);return;case"input":xe("invalid",t);var T=d=_=f=null,N=null,B=null;for(l in a)if(a.hasOwnProperty(l)){var Y=a[l];if(Y!=null)switch(l){case"name":f=Y;break;case"type":_=Y;break;case"checked":N=Y;break;case"defaultChecked":B=Y;break;case"value":d=Y;break;case"defaultValue":T=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(s(137,r));break;default:Je(t,r,l,Y,a,null)}}Gu(t,d,T,N,B,_,f,!1);return;case"select":xe("invalid",t),l=_=d=null;for(f in a)if(a.hasOwnProperty(f)&&(T=a[f],T!=null))switch(f){case"value":d=T;break;case"defaultValue":_=T;break;case"multiple":l=T;default:Je(t,r,f,T,a,null)}r=d,a=_,t.multiple=!!l,r!=null?wr(t,!!l,r,!1):a!=null&&wr(t,!!l,a,!0);return;case"textarea":xe("invalid",t),d=f=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(T=a[_],T!=null))switch(_){case"value":l=T;break;case"defaultValue":f=T;break;case"children":d=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:Je(t,r,_,T,a,null)}Rr(t,l,f,d);return;case"option":for(N in a)if(a.hasOwnProperty(N)&&(l=a[N],l!=null))switch(N){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Je(t,r,N,l,a,null)}return;case"dialog":xe("beforetoggle",t),xe("toggle",t),xe("cancel",t),xe("close",t);break;case"iframe":case"object":xe("load",t);break;case"video":case"audio":for(l=0;l<Vl.length;l++)xe(Vl[l],t);break;case"image":xe("error",t),xe("load",t);break;case"details":xe("toggle",t);break;case"embed":case"source":case"link":xe("error",t),xe("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(B in a)if(a.hasOwnProperty(B)&&(l=a[B],l!=null))switch(B){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Je(t,r,B,l,a,null)}return;default:if(Ia(r)){for(Y in a)a.hasOwnProperty(Y)&&(l=a[Y],l!==void 0&&am(t,r,Y,l,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(l=a[T],l!=null&&Je(t,r,T,l,a,null))}function Nw(t,r,a,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,d=null,_=null,T=null,N=null,B=null,Y=null;for(K in a){var Z=a[K];if(a.hasOwnProperty(K)&&Z!=null)switch(K){case"checked":break;case"value":break;case"defaultValue":N=Z;default:l.hasOwnProperty(K)||Je(t,r,K,null,l,Z)}}for(var q in l){var K=l[q];if(Z=a[q],l.hasOwnProperty(q)&&(K!=null||Z!=null))switch(q){case"type":d=K;break;case"name":f=K;break;case"checked":B=K;break;case"defaultChecked":Y=K;break;case"value":_=K;break;case"defaultValue":T=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(s(137,r));break;default:K!==Z&&Je(t,r,q,K,l,Z)}}Ra(t,_,T,N,B,Y,d,f);return;case"select":K=_=T=q=null;for(d in a)if(N=a[d],a.hasOwnProperty(d)&&N!=null)switch(d){case"value":break;case"multiple":K=N;default:l.hasOwnProperty(d)||Je(t,r,d,null,l,N)}for(f in l)if(d=l[f],N=a[f],l.hasOwnProperty(f)&&(d!=null||N!=null))switch(f){case"value":q=d;break;case"defaultValue":T=d;break;case"multiple":_=d;default:d!==N&&Je(t,r,f,d,l,N)}r=T,a=_,l=K,q!=null?wr(t,!!a,q,!1):!!l!=!!a&&(r!=null?wr(t,!!a,r,!0):wr(t,!!a,a?[]:"",!1));return;case"textarea":K=q=null;for(T in a)if(f=a[T],a.hasOwnProperty(T)&&f!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:Je(t,r,T,null,l,f)}for(_ in l)if(f=l[_],d=a[_],l.hasOwnProperty(_)&&(f!=null||d!=null))switch(_){case"value":q=f;break;case"defaultValue":K=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==d&&Je(t,r,_,f,l,d)}Ku(t,q,K);return;case"option":for(var ce in a)if(q=a[ce],a.hasOwnProperty(ce)&&q!=null&&!l.hasOwnProperty(ce))switch(ce){case"selected":t.selected=!1;break;default:Je(t,r,ce,null,l,q)}for(N in l)if(q=l[N],K=a[N],l.hasOwnProperty(N)&&q!==K&&(q!=null||K!=null))switch(N){case"selected":t.selected=q&&typeof q!="function"&&typeof q!="symbol";break;default:Je(t,r,N,q,l,K)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var pe in a)q=a[pe],a.hasOwnProperty(pe)&&q!=null&&!l.hasOwnProperty(pe)&&Je(t,r,pe,null,l,q);for(B in l)if(q=l[B],K=a[B],l.hasOwnProperty(B)&&q!==K&&(q!=null||K!=null))switch(B){case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(s(137,r));break;default:Je(t,r,B,q,l,K)}return;default:if(Ia(r)){for(var We in a)q=a[We],a.hasOwnProperty(We)&&q!==void 0&&!l.hasOwnProperty(We)&&am(t,r,We,void 0,l,q);for(Y in l)q=l[Y],K=a[Y],!l.hasOwnProperty(Y)||q===K||q===void 0&&K===void 0||am(t,r,Y,q,l,K);return}}for(var L in a)q=a[L],a.hasOwnProperty(L)&&q!=null&&!l.hasOwnProperty(L)&&Je(t,r,L,null,l,q);for(Z in l)q=l[Z],K=a[Z],!l.hasOwnProperty(Z)||q===K||q==null&&K==null||Je(t,r,Z,q,l,K)}function Av(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function xw(){if(typeof performance.getEntriesByType=="function"){for(var t=0,r=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var f=a[l],d=f.transferSize,_=f.initiatorType,T=f.duration;if(d&&T&&Av(_)){for(_=0,T=f.responseEnd,l+=1;l<a.length;l++){var N=a[l],B=N.startTime;if(B>T)break;var Y=N.transferSize,Z=N.initiatorType;Y&&Av(Z)&&(N=N.responseEnd,_+=Y*(N<T?1:(T-B)/(N-B)))}if(--l,r+=8*(d+_)/(f.duration/1e3),t++,10<t)break}}if(0<t)return r/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var om=null,lm=null;function $c(t){return t.nodeType===9?t:t.ownerDocument}function Sv(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function wv(t,r){if(t===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&r==="foreignObject"?0:t}function um(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var cm=null;function Dw(){var t=window.event;return t&&t.type==="popstate"?t===cm?!1:(cm=t,!0):(cm=null,!1)}var Rv=typeof setTimeout=="function"?setTimeout:void 0,Ow=typeof clearTimeout=="function"?clearTimeout:void 0,Iv=typeof Promise=="function"?Promise:void 0,Mw=typeof queueMicrotask=="function"?queueMicrotask:typeof Iv<"u"?function(t){return Iv.resolve(null).then(t).catch(Vw)}:Rv;function Vw(t){setTimeout(function(){throw t})}function $r(t){return t==="head"}function Cv(t,r){var a=r,l=0;do{var f=a.nextSibling;if(t.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(f),lo(r);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Ll(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,Ll(a);for(var d=a.firstChild;d;){var _=d.nextSibling,T=d.nodeName;d[gi]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=_}}else a==="body"&&Ll(t.ownerDocument.body);a=f}while(a);lo(r)}function Nv(t,r){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?r?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(r?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function hm(t){var r=t.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":hm(a),Sa(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function Pw(t,r,a,l){for(;t.nodeType===1;){var f=a;if(t.nodeName.toLowerCase()!==r.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[gi])switch(r){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==f.rel||t.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||t.getAttribute("title")!==(f.title==null?null:f.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(f.src==null?null:f.src)||t.getAttribute("type")!==(f.type==null?null:f.type)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(r==="input"&&t.type==="hidden"){var d=f.name==null?null:""+f.name;if(f.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=Ln(t.nextSibling),t===null)break}return null}function Lw(t,r,a){if(r==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Ln(t.nextSibling),t===null))return null;return t}function xv(t,r){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=Ln(t.nextSibling),t===null))return null;return t}function fm(t){return t.data==="$?"||t.data==="$~"}function dm(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function kw(t,r){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=r;else if(t.data!=="$?"||a.readyState!=="loading")r();else{var l=function(){r(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Ln(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return t}var mm=null;function Dv(t){t=t.nextSibling;for(var r=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(r===0)return Ln(t.nextSibling);r--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||r++}t=t.nextSibling}return null}function Ov(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(r===0)return t;r--}else a!=="/$"&&a!=="/&"||r++}t=t.previousSibling}return null}function Mv(t,r,a){switch(r=$c(a),t){case"html":if(t=r.documentElement,!t)throw Error(s(452));return t;case"head":if(t=r.head,!t)throw Error(s(453));return t;case"body":if(t=r.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Ll(t){for(var r=t.attributes;r.length;)t.removeAttributeNode(r[0]);Sa(t)}var kn=new Map,Vv=new Set;function Xc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var lr=re.d;re.d={f:Uw,r:jw,D:zw,C:Bw,L:qw,m:Hw,X:Gw,S:Fw,M:Kw};function Uw(){var t=lr.f(),r=Bc();return t||r}function jw(t){var r=Rn(t);r!==null&&r.tag===5&&r.type==="form"?Jy(r):lr.r(t)}var so=typeof document>"u"?null:document;function Pv(t,r,a){var l=so;if(l&&typeof r=="string"&&r){var f=sn(r);f='link[rel="'+t+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),Vv.has(f)||(Vv.add(f),t={rel:t,crossOrigin:a,href:r},l.querySelector(f)===null&&(r=l.createElement("link"),Gt(r,"link",t),bt(r),l.head.appendChild(r)))}}function zw(t){lr.D(t),Pv("dns-prefetch",t,null)}function Bw(t,r){lr.C(t,r),Pv("preconnect",t,r)}function qw(t,r,a){lr.L(t,r,a);var l=so;if(l&&t&&r){var f='link[rel="preload"][as="'+sn(r)+'"]';r==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+sn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+sn(a.imageSizes)+'"]')):f+='[href="'+sn(t)+'"]';var d=f;switch(r){case"style":d=ao(t);break;case"script":d=oo(t)}kn.has(d)||(t=b({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:t,as:r},a),kn.set(d,t),l.querySelector(f)!==null||r==="style"&&l.querySelector(kl(d))||r==="script"&&l.querySelector(Ul(d))||(r=l.createElement("link"),Gt(r,"link",t),bt(r),l.head.appendChild(r)))}}function Hw(t,r){lr.m(t,r);var a=so;if(a&&t){var l=r&&typeof r.as=="string"?r.as:"script",f='link[rel="modulepreload"][as="'+sn(l)+'"][href="'+sn(t)+'"]',d=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=oo(t)}if(!kn.has(d)&&(t=b({rel:"modulepreload",href:t},r),kn.set(d,t),a.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Ul(d)))return}l=a.createElement("link"),Gt(l,"link",t),bt(l),a.head.appendChild(l)}}}function Fw(t,r,a){lr.S(t,r,a);var l=so;if(l&&t){var f=_i(l).hoistableStyles,d=ao(t);r=r||"default";var _=f.get(d);if(!_){var T={loading:0,preload:null};if(_=l.querySelector(kl(d)))T.loading=5;else{t=b({rel:"stylesheet",href:t,"data-precedence":r},a),(a=kn.get(d))&&pm(t,a);var N=_=l.createElement("link");bt(N),Gt(N,"link",t),N._p=new Promise(function(B,Y){N.onload=B,N.onerror=Y}),N.addEventListener("load",function(){T.loading|=1}),N.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Jc(_,r,l)}_={type:"stylesheet",instance:_,count:1,state:T},f.set(d,_)}}}function Gw(t,r){lr.X(t,r);var a=so;if(a&&t){var l=_i(a).hoistableScripts,f=oo(t),d=l.get(f);d||(d=a.querySelector(Ul(f)),d||(t=b({src:t,async:!0},r),(r=kn.get(f))&&gm(t,r),d=a.createElement("script"),bt(d),Gt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function Kw(t,r){lr.M(t,r);var a=so;if(a&&t){var l=_i(a).hoistableScripts,f=oo(t),d=l.get(f);d||(d=a.querySelector(Ul(f)),d||(t=b({src:t,async:!0,type:"module"},r),(r=kn.get(f))&&gm(t,r),d=a.createElement("script"),bt(d),Gt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function Lv(t,r,a,l){var f=(f=Se.current)?Xc(f):null;if(!f)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=ao(a.href),a=_i(f).hoistableStyles,l=a.get(r),l||(l={type:"style",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=ao(a.href);var d=_i(f).hoistableStyles,_=d.get(t);if(_||(f=f.ownerDocument||f,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,_),(d=f.querySelector(kl(t)))&&!d._p&&(_.instance=d,_.state.loading=5),kn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},kn.set(t,a),d||Qw(f,t,a,_.state))),r&&l===null)throw Error(s(528,""));return _}if(r&&l!==null)throw Error(s(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=oo(a),a=_i(f).hoistableScripts,l=a.get(r),l||(l={type:"script",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function ao(t){return'href="'+sn(t)+'"'}function kl(t){return'link[rel="stylesheet"]['+t+"]"}function kv(t){return b({},t,{"data-precedence":t.precedence,precedence:null})}function Qw(t,r,a,l){t.querySelector('link[rel="preload"][as="style"]['+r+"]")?l.loading=1:(r=t.createElement("link"),l.preload=r,r.addEventListener("load",function(){return l.loading|=1}),r.addEventListener("error",function(){return l.loading|=2}),Gt(r,"link",a),bt(r),t.head.appendChild(r))}function oo(t){return'[src="'+sn(t)+'"]'}function Ul(t){return"script[async]"+t}function Uv(t,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var l=t.querySelector('style[data-href~="'+sn(a.href)+'"]');if(l)return r.instance=l,bt(l),l;var f=b({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),bt(l),Gt(l,"style",f),Jc(l,a.precedence,t),r.instance=l;case"stylesheet":f=ao(a.href);var d=t.querySelector(kl(f));if(d)return r.state.loading|=4,r.instance=d,bt(d),d;l=kv(a),(f=kn.get(f))&&pm(l,f),d=(t.ownerDocument||t).createElement("link"),bt(d);var _=d;return _._p=new Promise(function(T,N){_.onload=T,_.onerror=N}),Gt(d,"link",l),r.state.loading|=4,Jc(d,a.precedence,t),r.instance=d;case"script":return d=oo(a.src),(f=t.querySelector(Ul(d)))?(r.instance=f,bt(f),f):(l=a,(f=kn.get(d))&&(l=b({},a),gm(l,f)),t=t.ownerDocument||t,f=t.createElement("script"),bt(f),Gt(f,"link",l),t.head.appendChild(f),r.instance=f);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(l=r.instance,r.state.loading|=4,Jc(l,a.precedence,t));return r.instance}function Jc(t,r,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,d=f,_=0;_<l.length;_++){var T=l[_];if(T.dataset.precedence===r)d=T;else if(d!==f)break}d?d.parentNode.insertBefore(t,d.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(t,r.firstChild))}function pm(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.title==null&&(t.title=r.title)}function gm(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.integrity==null&&(t.integrity=r.integrity)}var Wc=null;function jv(t,r,a){if(Wc===null){var l=new Map,f=Wc=new Map;f.set(a,l)}else f=Wc,l=f.get(a),l||(l=new Map,f.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),f=0;f<a.length;f++){var d=a[f];if(!(d[gi]||d[Tt]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(r)||"";_=t+_;var T=l.get(_);T?T.push(d):l.set(_,[d])}}return l}function zv(t,r,a){t=t.ownerDocument||t,t.head.insertBefore(a,r==="title"?t.querySelector("head > title"):null)}function Yw(t,r,a){if(a===1||r.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return t=r.disabled,typeof r.precedence=="string"&&t==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function Bv(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function $w(t,r,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var f=ao(l.href),d=r.querySelector(kl(f));if(d){r=d._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(t.count++,t=Zc.bind(t),r.then(t,t)),a.state.loading|=4,a.instance=d,bt(d);return}d=r.ownerDocument||r,l=kv(l),(f=kn.get(f))&&pm(l,f),d=d.createElement("link"),bt(d);var _=d;_._p=new Promise(function(T,N){_.onload=T,_.onerror=N}),Gt(d,"link",l),a.instance=d}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,r),(r=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=Zc.bind(t),r.addEventListener("load",a),r.addEventListener("error",a))}}var ym=0;function Xw(t,r){return t.stylesheets&&t.count===0&&th(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&th(t,t.stylesheets),t.unsuspend){var d=t.unsuspend;t.unsuspend=null,d()}},6e4+r);0<t.imgBytes&&ym===0&&(ym=62500*xw());var f=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&th(t,t.stylesheets),t.unsuspend)){var d=t.unsuspend;t.unsuspend=null,d()}},(t.imgBytes>ym?50:800)+r);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(f)}}:null}function Zc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)th(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var eh=null;function th(t,r){t.stylesheets=null,t.unsuspend!==null&&(t.count++,eh=new Map,r.forEach(Jw,t),eh=null,Zc.call(t))}function Jw(t,r){if(!(r.state.loading&4)){var a=eh.get(t);if(a)var l=a.get(null);else{a=new Map,eh.set(t,a);for(var f=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<f.length;d++){var _=f[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}f=r.instance,_=f.getAttribute("data-precedence"),d=a.get(_)||l,d===l&&a.set(null,f),a.set(_,f),this.count++,l=Zc.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),d?d.parentNode.insertBefore(f,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(f,t.firstChild)),r.state.loading|=4}}var jl={$$typeof:ae,Provider:null,Consumer:null,_currentValue:me,_currentValue2:me,_threadCount:0};function Ww(t,r,a,l,f,d,_,T,N){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=mi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mi(0),this.hiddenUpdates=mi(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=N,this.incompleteTransitions=new Map}function qv(t,r,a,l,f,d,_,T,N,B,Y,Z){return t=new Ww(t,r,a,_,N,B,Y,Z,T),r=1,d===!0&&(r|=24),d=gn(3,null,null,r),t.current=d,d.stateNode=t,r=Xf(),r.refCount++,t.pooledCache=r,r.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:r},ed(d),t}function Hv(t){return t?(t=Ua,t):Ua}function Fv(t,r,a,l,f,d){f=Hv(f),l.context===null?l.context=f:l.pendingContext=f,l=Ur(r),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=jr(t,l,r),a!==null&&(hn(a,t,r),yl(a,t,r))}function Gv(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<r?a:r}}function _m(t,r){Gv(t,r),(t=t.alternate)&&Gv(t,r)}function Kv(t){if(t.tag===13||t.tag===31){var r=js(t,67108864);r!==null&&hn(r,t,67108864),_m(t,67108864)}}function Qv(t){if(t.tag===13||t.tag===31){var r=Tn();r=Is(r);var a=js(t,r);a!==null&&hn(a,t,r),_m(t,r)}}var nh=!0;function Zw(t,r,a,l){var f=$.T;$.T=null;var d=re.p;try{re.p=2,vm(t,r,a,l)}finally{re.p=d,$.T=f}}function e1(t,r,a,l){var f=$.T;$.T=null;var d=re.p;try{re.p=8,vm(t,r,a,l)}finally{re.p=d,$.T=f}}function vm(t,r,a,l){if(nh){var f=Em(l);if(f===null)sm(t,r,l,ih,a),$v(t,l);else if(n1(f,t,r,a,l))l.stopPropagation();else if($v(t,l),r&4&&-1<t1.indexOf(t)){for(;f!==null;){var d=Rn(f);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=fi(d.pendingLanes);if(_!==0){var T=d;for(T.pendingLanes|=2,T.entangledLanes|=2;_;){var N=1<<31-ft(_);T.entanglements[1]|=N,_&=~N}Di(d),(He&6)===0&&(jc=en()+500,Ml(0))}}break;case 31:case 13:T=js(d,2),T!==null&&hn(T,d,2),Bc(),_m(d,2)}if(d=Em(l),d===null&&sm(t,r,l,ih,a),d===f)break;f=d}f!==null&&l.stopPropagation()}else sm(t,r,l,null,a)}}function Em(t){return t=In(t),Tm(t)}var ih=null;function Tm(t){if(ih=null,t=yi(t),t!==null){var r=u(t);if(r===null)t=null;else{var a=r.tag;if(a===13){if(t=h(r),t!==null)return t;t=null}else if(a===31){if(t=m(r),t!==null)return t;t=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null)}}return ih=t,null}function Yv(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(As()){case qo:return 2;case Ho:return 8;case Ar:case If:return 32;case Pu:return 268435456;default:return 32}default:return 32}}var bm=!1,Xr=null,Jr=null,Wr=null,zl=new Map,Bl=new Map,Zr=[],t1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function $v(t,r){switch(t){case"focusin":case"focusout":Xr=null;break;case"dragenter":case"dragleave":Jr=null;break;case"mouseover":case"mouseout":Wr=null;break;case"pointerover":case"pointerout":zl.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Bl.delete(r.pointerId)}}function ql(t,r,a,l,f,d){return t===null||t.nativeEvent!==d?(t={blockedOn:r,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[f]},r!==null&&(r=Rn(r),r!==null&&Kv(r)),t):(t.eventSystemFlags|=l,r=t.targetContainers,f!==null&&r.indexOf(f)===-1&&r.push(f),t)}function n1(t,r,a,l,f){switch(r){case"focusin":return Xr=ql(Xr,t,r,a,l,f),!0;case"dragenter":return Jr=ql(Jr,t,r,a,l,f),!0;case"mouseover":return Wr=ql(Wr,t,r,a,l,f),!0;case"pointerover":var d=f.pointerId;return zl.set(d,ql(zl.get(d)||null,t,r,a,l,f)),!0;case"gotpointercapture":return d=f.pointerId,Bl.set(d,ql(Bl.get(d)||null,t,r,a,l,f)),!0}return!1}function Xv(t){var r=yi(t.target);if(r!==null){var a=u(r);if(a!==null){if(r=a.tag,r===13){if(r=h(a),r!==null){t.blockedOn=r,Fn(t.priority,function(){Qv(a)});return}}else if(r===31){if(r=m(a),r!==null){t.blockedOn=r,Fn(t.priority,function(){Qv(a)});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function rh(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var a=Em(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);tl=l,a.target.dispatchEvent(l),tl=null}else return r=Rn(a),r!==null&&Kv(r),t.blockedOn=a,!1;r.shift()}return!0}function Jv(t,r,a){rh(t)&&a.delete(r)}function i1(){bm=!1,Xr!==null&&rh(Xr)&&(Xr=null),Jr!==null&&rh(Jr)&&(Jr=null),Wr!==null&&rh(Wr)&&(Wr=null),zl.forEach(Jv),Bl.forEach(Jv)}function sh(t,r){t.blockedOn===r&&(t.blockedOn=null,bm||(bm=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,i1)))}var ah=null;function Wv(t){ah!==t&&(ah=t,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){ah===t&&(ah=null);for(var r=0;r<t.length;r+=3){var a=t[r],l=t[r+1],f=t[r+2];if(typeof l!="function"){if(Tm(l||a)===null)continue;break}var d=Rn(a);d!==null&&(t.splice(r,3),r-=3,Ed(d,{pending:!0,data:f,method:a.method,action:l},l,f))}}))}function lo(t){function r(N){return sh(N,t)}Xr!==null&&sh(Xr,t),Jr!==null&&sh(Jr,t),Wr!==null&&sh(Wr,t),zl.forEach(r),Bl.forEach(r);for(var a=0;a<Zr.length;a++){var l=Zr[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Zr.length&&(a=Zr[0],a.blockedOn===null);)Xv(a),a.blockedOn===null&&Zr.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var f=a[l],d=a[l+1],_=f[Lt]||null;if(typeof d=="function")_||Wv(a);else if(_){var T=null;if(d&&d.hasAttribute("formAction")){if(f=d,_=d[Lt]||null)T=_.formAction;else if(Tm(f)!==null)continue}else T=_.action;typeof T=="function"?a[l+1]=T:(a.splice(l,3),l-=3),Wv(a)}}}function Zv(){function t(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(_){return f=_})},focusReset:"manual",scroll:"manual"})}function r(){f!==null&&(f(),f=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,f=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),f!==null&&(f(),f=null)}}}function Am(t){this._internalRoot=t}oh.prototype.render=Am.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(s(409));var a=r.current,l=Tn();Fv(a,l,t,r,null,null)},oh.prototype.unmount=Am.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;Fv(t.current,2,null,t,null,null),Bc(),r[pi]=null}};function oh(t){this._internalRoot=t}oh.prototype.unstable_scheduleHydration=function(t){if(t){var r=Bu();t={blockedOn:null,target:t,priority:r};for(var a=0;a<Zr.length&&r!==0&&r<Zr[a].priority;a++);Zr.splice(a,0,t),a===0&&Xv(t)}};var eE=e.version;if(eE!=="19.2.0")throw Error(s(527,eE,"19.2.0"));re.findDOMNode=function(t){var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=p(r),t=t!==null?E(t):null,t=t===null?null:t.stateNode,t};var r1={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:$,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var lh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!lh.isDisabled&&lh.supportsFiber)try{qn=lh.inject(r1),zt=lh}catch{}}return Fl.createRoot=function(t,r){if(!o(t))throw Error(s(299));var a=!1,l="",f=o_,d=l_,_=u_;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(d=r.onCaughtError),r.onRecoverableError!==void 0&&(_=r.onRecoverableError)),r=qv(t,1,!1,null,null,a,l,null,f,d,_,Zv),t[pi]=r.current,rm(t),new Am(r)},Fl.hydrateRoot=function(t,r,a){if(!o(t))throw Error(s(299));var l=!1,f="",d=o_,_=l_,T=u_,N=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.formState!==void 0&&(N=a.formState)),r=qv(t,1,!0,r,a??null,l,f,N,d,_,T,Zv),r.context=Hv(null),a=r.current,l=Tn(),l=Is(l),f=Ur(l),f.callback=null,jr(a,f,l),a=l,r.current.lanes=a,ws(r,a),Di(r),t[pi]=r.current,rm(t),new oh(r)},Fl.version="19.2.0",Fl}var cE;function m1(){if(cE)return Rm.exports;cE=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Rm.exports=d1(),Rm.exports}var p1=m1();const g1=uT(p1);/**
 * react-router v7.9.4
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var hE="popstate";function y1(i={}){function e(s,o){let{pathname:u,search:h,hash:m}=s.location;return Qm("",{pathname:u,search:h,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){return typeof o=="string"?o:au(o)}return v1(e,n,null,i)}function lt(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function ri(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function _1(){return Math.random().toString(36).substring(2,10)}function fE(i,e){return{usr:i.state,key:i.key,idx:e}}function Qm(i,e,n=null,s){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?Io(e):e,state:n,key:e&&e.key||s||_1()}}function au({pathname:i="/",search:e="",hash:n=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(i+=n.charAt(0)==="#"?n:"#"+n),i}function Io(i){let e={};if(i){let n=i.indexOf("#");n>=0&&(e.hash=i.substring(n),i=i.substring(0,n));let s=i.indexOf("?");s>=0&&(e.search=i.substring(s),i=i.substring(0,s)),i&&(e.pathname=i)}return e}function v1(i,e,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,h=o.history,m="POP",g=null,p=E();p==null&&(p=0,h.replaceState({...h.state,idx:p},""));function E(){return(h.state||{idx:null}).idx}function b(){m="POP";let G=E(),X=G==null?null:G-p;p=G,g&&g({action:m,location:Q.location,delta:X})}function S(G,X){m="PUSH";let ne=Qm(Q.location,G,X);p=E()+1;let ae=fE(ne,p),Re=Q.createHref(ne);try{h.pushState(ae,"",Re)}catch(Ce){if(Ce instanceof DOMException&&Ce.name==="DataCloneError")throw Ce;o.location.assign(Re)}u&&g&&g({action:m,location:Q.location,delta:1})}function P(G,X){m="REPLACE";let ne=Qm(Q.location,G,X);p=E();let ae=fE(ne,p),Re=Q.createHref(ne);h.replaceState(ae,"",Re),u&&g&&g({action:m,location:Q.location,delta:0})}function H(G){return E1(G)}let Q={get action(){return m},get location(){return i(o,h)},listen(G){if(g)throw new Error("A history only accepts one active listener");return o.addEventListener(hE,b),g=G,()=>{o.removeEventListener(hE,b),g=null}},createHref(G){return e(o,G)},createURL:H,encodeLocation(G){let X=H(G);return{pathname:X.pathname,search:X.search,hash:X.hash}},push:S,replace:P,go(G){return h.go(G)}};return Q}function E1(i,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),lt(n,"No window.location.(origin|href) available to create URL");let s=typeof i=="string"?i:au(i);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function cT(i,e,n="/"){return T1(i,e,n,!1)}function T1(i,e,n,s){let o=typeof e=="string"?Io(e):e,u=pr(o.pathname||"/",n);if(u==null)return null;let h=hT(i);b1(h);let m=null;for(let g=0;m==null&&g<h.length;++g){let p=M1(u);m=D1(h[g],p,s)}return m}function hT(i,e=[],n=[],s="",o=!1){let u=(h,m,g=o,p)=>{let E={relativePath:p===void 0?h.path||"":p,caseSensitive:h.caseSensitive===!0,childrenIndex:m,route:h};if(E.relativePath.startsWith("/")){if(!E.relativePath.startsWith(s)&&g)return;lt(E.relativePath.startsWith(s),`Absolute route path "${E.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),E.relativePath=E.relativePath.slice(s.length)}let b=fr([s,E.relativePath]),S=n.concat(E);h.children&&h.children.length>0&&(lt(h.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${b}".`),hT(h.children,e,S,b,g)),!(h.path==null&&!h.index)&&e.push({path:b,score:N1(b,h.index),routesMeta:S})};return i.forEach((h,m)=>{if(h.path===""||!h.path?.includes("?"))u(h,m);else for(let g of fT(h.path))u(h,m,!0,g)}),e}function fT(i){let e=i.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let h=fT(s.join("/")),m=[];return m.push(...h.map(g=>g===""?u:[u,g].join("/"))),o&&m.push(...h),m.map(g=>i.startsWith("/")&&g===""?"/":g)}function b1(i){i.sort((e,n)=>e.score!==n.score?n.score-e.score:x1(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var A1=/^:[\w-]+$/,S1=3,w1=2,R1=1,I1=10,C1=-2,dE=i=>i==="*";function N1(i,e){let n=i.split("/"),s=n.length;return n.some(dE)&&(s+=C1),e&&(s+=w1),n.filter(o=>!dE(o)).reduce((o,u)=>o+(A1.test(u)?S1:u===""?R1:I1),s)}function x1(i,e){return i.length===e.length&&i.slice(0,-1).every((s,o)=>s===e[o])?i[i.length-1]-e[e.length-1]:0}function D1(i,e,n=!1){let{routesMeta:s}=i,o={},u="/",h=[];for(let m=0;m<s.length;++m){let g=s[m],p=m===s.length-1,E=u==="/"?e:e.slice(u.length)||"/",b=Ch({path:g.relativePath,caseSensitive:g.caseSensitive,end:p},E),S=g.route;if(!b&&p&&n&&!s[s.length-1].route.index&&(b=Ch({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},E)),!b)return null;Object.assign(o,b.params),h.push({params:o,pathname:fr([u,b.pathname]),pathnameBase:k1(fr([u,b.pathnameBase])),route:S}),b.pathnameBase!=="/"&&(u=fr([u,b.pathnameBase]))}return h}function Ch(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[n,s]=O1(i.path,i.caseSensitive,i.end),o=e.match(n);if(!o)return null;let u=o[0],h=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((p,{paramName:E,isOptional:b},S)=>{if(E==="*"){let H=m[S]||"";h=u.slice(0,u.length-H.length).replace(/(.)\/+$/,"$1")}const P=m[S];return b&&!P?p[E]=void 0:p[E]=(P||"").replace(/%2F/g,"/"),p},{}),pathname:u,pathnameBase:h,pattern:i}}function O1(i,e=!1,n=!0){ri(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let s=[],o="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,m,g)=>(s.push({paramName:m,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return i.endsWith("*")?(s.push({paramName:"*"}),o+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":i!==""&&i!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function M1(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ri(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function pr(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=i.charAt(n);return s&&s!=="/"?null:i.slice(n)||"/"}function V1(i,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof i=="string"?Io(i):i;return{pathname:n?n.startsWith("/")?n:P1(n,e):e,search:U1(s),hash:j1(o)}}function P1(i,e){let n=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function xm(i,e,n,s){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function L1(i){return i.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Sp(i){let e=L1(i);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function wp(i,e,n,s=!1){let o;typeof i=="string"?o=Io(i):(o={...i},lt(!o.pathname||!o.pathname.includes("?"),xm("?","pathname","search",o)),lt(!o.pathname||!o.pathname.includes("#"),xm("#","pathname","hash",o)),lt(!o.search||!o.search.includes("#"),xm("#","search","hash",o)));let u=i===""||o.pathname==="",h=u?"/":o.pathname,m;if(h==null)m=n;else{let b=e.length-1;if(!s&&h.startsWith("..")){let S=h.split("/");for(;S[0]==="..";)S.shift(),b-=1;o.pathname=S.join("/")}m=b>=0?e[b]:"/"}let g=V1(o,m),p=h&&h!=="/"&&h.endsWith("/"),E=(u||h===".")&&n.endsWith("/");return!g.pathname.endsWith("/")&&(p||E)&&(g.pathname+="/"),g}var fr=i=>i.join("/").replace(/\/\/+/g,"/"),k1=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),U1=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,j1=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function z1(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}var dT=["POST","PUT","PATCH","DELETE"];new Set(dT);var B1=["GET",...dT];new Set(B1);var Co=U.createContext(null);Co.displayName="DataRouter";var Zh=U.createContext(null);Zh.displayName="DataRouterState";U.createContext(!1);var mT=U.createContext({isTransitioning:!1});mT.displayName="ViewTransition";var q1=U.createContext(new Map);q1.displayName="Fetchers";var H1=U.createContext(null);H1.displayName="Await";var oi=U.createContext(null);oi.displayName="Navigation";var Eu=U.createContext(null);Eu.displayName="Location";var li=U.createContext({outlet:null,matches:[],isDataRoute:!1});li.displayName="Route";var Rp=U.createContext(null);Rp.displayName="RouteError";function F1(i,{relative:e}={}){lt(No(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=U.useContext(oi),{hash:o,pathname:u,search:h}=Tu(i,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:fr([n,u])),s.createHref({pathname:m,search:h,hash:o})}function No(){return U.useContext(Eu)!=null}function Er(){return lt(No(),"useLocation() may be used only in the context of a <Router> component."),U.useContext(Eu).location}var pT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function gT(i){U.useContext(oi).static||U.useLayoutEffect(i)}function _s(){let{isDataRoute:i}=U.useContext(li);return i?sR():G1()}function G1(){lt(No(),"useNavigate() may be used only in the context of a <Router> component.");let i=U.useContext(Co),{basename:e,navigator:n}=U.useContext(oi),{matches:s}=U.useContext(li),{pathname:o}=Er(),u=JSON.stringify(Sp(s)),h=U.useRef(!1);return gT(()=>{h.current=!0}),U.useCallback((g,p={})=>{if(ri(h.current,pT),!h.current)return;if(typeof g=="number"){n.go(g);return}let E=wp(g,JSON.parse(u),o,p.relative==="path");i==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:fr([e,E.pathname])),(p.replace?n.replace:n.push)(E,p.state,p)},[e,n,u,o,i])}var K1=U.createContext(null);function Q1(i){let e=U.useContext(li).outlet;return U.useMemo(()=>e&&U.createElement(K1.Provider,{value:i},e),[e,i])}function Tu(i,{relative:e}={}){let{matches:n}=U.useContext(li),{pathname:s}=Er(),o=JSON.stringify(Sp(n));return U.useMemo(()=>wp(i,JSON.parse(o),s,e==="path"),[i,o,s,e])}function Y1(i,e){return yT(i,e)}function yT(i,e,n,s,o){lt(No(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=U.useContext(oi),{matches:h}=U.useContext(li),m=h[h.length-1],g=m?m.params:{},p=m?m.pathname:"/",E=m?m.pathnameBase:"/",b=m&&m.route;{let ne=b&&b.path||"";_T(p,!b||ne.endsWith("*")||ne.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${ne}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${ne}"> to <Route path="${ne==="/"?"*":`${ne}/*`}">.`)}let S=Er(),P;if(e){let ne=typeof e=="string"?Io(e):e;lt(E==="/"||ne.pathname?.startsWith(E),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${ne.pathname}" was given in the \`location\` prop.`),P=ne}else P=S;let H=P.pathname||"/",Q=H;if(E!=="/"){let ne=E.replace(/^\//,"").split("/");Q="/"+H.replace(/^\//,"").split("/").slice(ne.length).join("/")}let G=cT(i,{pathname:Q});ri(b||G!=null,`No routes matched location "${P.pathname}${P.search}${P.hash}" `),ri(G==null||G[G.length-1].route.element!==void 0||G[G.length-1].route.Component!==void 0||G[G.length-1].route.lazy!==void 0,`Matched leaf route at location "${P.pathname}${P.search}${P.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let X=Z1(G&&G.map(ne=>Object.assign({},ne,{params:Object.assign({},g,ne.params),pathname:fr([E,u.encodeLocation?u.encodeLocation(ne.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:ne.pathname]),pathnameBase:ne.pathnameBase==="/"?E:fr([E,u.encodeLocation?u.encodeLocation(ne.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:ne.pathnameBase])})),h,n,s,o);return e&&X?U.createElement(Eu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...P},navigationType:"POP"}},X):X}function $1(){let i=rR(),e=z1(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),n=i instanceof Error?i.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},h=null;return console.error("Error handled by React Router default ErrorBoundary:",i),h=U.createElement(U.Fragment,null,U.createElement("p",null," Hey developer "),U.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",U.createElement("code",{style:u},"ErrorBoundary")," or"," ",U.createElement("code",{style:u},"errorElement")," prop on your route.")),U.createElement(U.Fragment,null,U.createElement("h2",null,"Unexpected Application Error!"),U.createElement("h3",{style:{fontStyle:"italic"}},e),n?U.createElement("pre",{style:o},n):null,h)}var X1=U.createElement($1,null),J1=class extends U.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){this.props.unstable_onError?this.props.unstable_onError(i,e):console.error("React Router caught the following error during render",i)}render(){return this.state.error!==void 0?U.createElement(li.Provider,{value:this.props.routeContext},U.createElement(Rp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function W1({routeContext:i,match:e,children:n}){let s=U.useContext(Co);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),U.createElement(li.Provider,{value:i},n)}function Z1(i,e=[],n=null,s=null,o=null){if(i==null){if(!n)return null;if(n.errors)i=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)i=n.matches;else return null}let u=i,h=n?.errors;if(h!=null){let p=u.findIndex(E=>E.route.id&&h?.[E.route.id]!==void 0);lt(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(h).join(",")}`),u=u.slice(0,Math.min(u.length,p+1))}let m=!1,g=-1;if(n)for(let p=0;p<u.length;p++){let E=u[p];if((E.route.HydrateFallback||E.route.hydrateFallbackElement)&&(g=p),E.route.id){let{loaderData:b,errors:S}=n,P=E.route.loader&&!b.hasOwnProperty(E.route.id)&&(!S||S[E.route.id]===void 0);if(E.route.lazy||P){m=!0,g>=0?u=u.slice(0,g+1):u=[u[0]];break}}}return u.reduceRight((p,E,b)=>{let S,P=!1,H=null,Q=null;n&&(S=h&&E.route.id?h[E.route.id]:void 0,H=E.route.errorElement||X1,m&&(g<0&&b===0?(_T("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),P=!0,Q=null):g===b&&(P=!0,Q=E.route.hydrateFallbackElement||null)));let G=e.concat(u.slice(0,b+1)),X=()=>{let ne;return S?ne=H:P?ne=Q:E.route.Component?ne=U.createElement(E.route.Component,null):E.route.element?ne=E.route.element:ne=p,U.createElement(W1,{match:E,routeContext:{outlet:p,matches:G,isDataRoute:n!=null},children:ne})};return n&&(E.route.ErrorBoundary||E.route.errorElement||b===0)?U.createElement(J1,{location:n.location,revalidation:n.revalidation,component:H,error:S,children:X(),routeContext:{outlet:null,matches:G,isDataRoute:!0},unstable_onError:s}):X()},null)}function Ip(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function eR(i){let e=U.useContext(Co);return lt(e,Ip(i)),e}function tR(i){let e=U.useContext(Zh);return lt(e,Ip(i)),e}function nR(i){let e=U.useContext(li);return lt(e,Ip(i)),e}function Cp(i){let e=nR(i),n=e.matches[e.matches.length-1];return lt(n.route.id,`${i} can only be used on routes that contain a unique "id"`),n.route.id}function iR(){return Cp("useRouteId")}function rR(){let i=U.useContext(Rp),e=tR("useRouteError"),n=Cp("useRouteError");return i!==void 0?i:e.errors?.[n]}function sR(){let{router:i}=eR("useNavigate"),e=Cp("useNavigate"),n=U.useRef(!1);return gT(()=>{n.current=!0}),U.useCallback(async(o,u={})=>{ri(n.current,pT),n.current&&(typeof o=="number"?i.navigate(o):await i.navigate(o,{fromRouteId:e,...u}))},[i,e])}var mE={};function _T(i,e,n){!e&&!mE[i]&&(mE[i]=!0,ri(!1,n))}U.memo(aR);function aR({routes:i,future:e,state:n,unstable_onError:s}){return yT(i,void 0,n,s,e)}function Gl({to:i,replace:e,state:n,relative:s}){lt(No(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=U.useContext(oi);ri(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=U.useContext(li),{pathname:h}=Er(),m=_s(),g=wp(i,Sp(u),h,s==="path"),p=JSON.stringify(g);return U.useEffect(()=>{m(JSON.parse(p),{replace:e,state:n,relative:s})},[m,p,s,e,n]),null}function pE(i){return Q1(i.context)}function bn(i){lt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function oR({basename:i="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:u=!1}){lt(!No(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=i.replace(/^\/*/,"/"),m=U.useMemo(()=>({basename:h,navigator:o,static:u,future:{}}),[h,o,u]);typeof n=="string"&&(n=Io(n));let{pathname:g="/",search:p="",hash:E="",state:b=null,key:S="default"}=n,P=U.useMemo(()=>{let H=pr(g,h);return H==null?null:{location:{pathname:H,search:p,hash:E,state:b,key:S},navigationType:s}},[h,g,p,E,b,S,s]);return ri(P!=null,`<Router basename="${h}"> is not able to match the URL "${g}${p}${E}" because it does not start with the basename, so the <Router> won't render anything.`),P==null?null:U.createElement(oi.Provider,{value:m},U.createElement(Eu.Provider,{children:e,value:P}))}function lR({children:i,location:e}){return Y1(Ym(i),e)}function Ym(i,e=[]){let n=[];return U.Children.forEach(i,(s,o)=>{if(!U.isValidElement(s))return;let u=[...e,o];if(s.type===U.Fragment){n.push.apply(n,Ym(s.props.children,u));return}lt(s.type===bn,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),lt(!s.props.index||!s.props.children,"An index route cannot have child routes.");let h={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(h.children=Ym(s.props.children,u)),n.push(h)}),n}var gh="get",yh="application/x-www-form-urlencoded";function ef(i){return i!=null&&typeof i.tagName=="string"}function uR(i){return ef(i)&&i.tagName.toLowerCase()==="button"}function cR(i){return ef(i)&&i.tagName.toLowerCase()==="form"}function hR(i){return ef(i)&&i.tagName.toLowerCase()==="input"}function fR(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function dR(i,e){return i.button===0&&(!e||e==="_self")&&!fR(i)}var uh=null;function mR(){if(uh===null)try{new FormData(document.createElement("form"),0),uh=!1}catch{uh=!0}return uh}var pR=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Dm(i){return i!=null&&!pR.has(i)?(ri(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${yh}"`),null):i}function gR(i,e){let n,s,o,u,h;if(cR(i)){let m=i.getAttribute("action");s=m?pr(m,e):null,n=i.getAttribute("method")||gh,o=Dm(i.getAttribute("enctype"))||yh,u=new FormData(i)}else if(uR(i)||hR(i)&&(i.type==="submit"||i.type==="image")){let m=i.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=i.getAttribute("formaction")||m.getAttribute("action");if(s=g?pr(g,e):null,n=i.getAttribute("formmethod")||m.getAttribute("method")||gh,o=Dm(i.getAttribute("formenctype"))||Dm(m.getAttribute("enctype"))||yh,u=new FormData(m,i),!mR()){let{name:p,type:E,value:b}=i;if(E==="image"){let S=p?`${p}.`:"";u.append(`${S}x`,"0"),u.append(`${S}y`,"0")}else p&&u.append(p,b)}}else{if(ef(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=gh,s=null,o=yh,h=i}return u&&o==="text/plain"&&(h=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:h}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Np(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function yR(i,e,n){let s=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return s.pathname==="/"?s.pathname=`_root.${n}`:e&&pr(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${n}`,s}async function _R(i,e){if(i.id in e)return e[i.id];try{let n=await import(i.module);return e[i.id]=n,n}catch(n){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function vR(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function ER(i,e,n){let s=await Promise.all(i.map(async o=>{let u=e.routes[o.route.id];if(u){let h=await _R(u,n);return h.links?h.links():[]}return[]}));return SR(s.flat(1).filter(vR).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function gE(i,e,n,s,o,u){let h=(g,p)=>n[p]?g.route.id!==n[p].route.id:!0,m=(g,p)=>n[p].pathname!==g.pathname||n[p].route.path?.endsWith("*")&&n[p].params["*"]!==g.params["*"];return u==="assets"?e.filter((g,p)=>h(g,p)||m(g,p)):u==="data"?e.filter((g,p)=>{let E=s.routes[g.route.id];if(!E||!E.hasLoader)return!1;if(h(g,p)||m(g,p))return!0;if(g.route.shouldRevalidate){let b=g.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(i,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function TR(i,e,{includeHydrateFallback:n}={}){return bR(i.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function bR(i){return[...new Set(i)]}function AR(i){let e={},n=Object.keys(i).sort();for(let s of n)e[s]=i[s];return e}function SR(i,e){let n=new Set;return new Set(e),i.reduce((s,o)=>{let u=JSON.stringify(AR(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}function vT(){let i=U.useContext(Co);return Np(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function wR(){let i=U.useContext(Zh);return Np(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var xp=U.createContext(void 0);xp.displayName="FrameworkContext";function ET(){let i=U.useContext(xp);return Np(i,"You must render this element inside a <HydratedRouter> element"),i}function RR(i,e){let n=U.useContext(xp),[s,o]=U.useState(!1),[u,h]=U.useState(!1),{onFocus:m,onBlur:g,onMouseEnter:p,onMouseLeave:E,onTouchStart:b}=e,S=U.useRef(null);U.useEffect(()=>{if(i==="render"&&h(!0),i==="viewport"){let Q=X=>{X.forEach(ne=>{h(ne.isIntersecting)})},G=new IntersectionObserver(Q,{threshold:.5});return S.current&&G.observe(S.current),()=>{G.disconnect()}}},[i]),U.useEffect(()=>{if(s){let Q=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(Q)}}},[s]);let P=()=>{o(!0)},H=()=>{o(!1),h(!1)};return n?i!=="intent"?[u,S,{}]:[u,S,{onFocus:Kl(m,P),onBlur:Kl(g,H),onMouseEnter:Kl(p,P),onMouseLeave:Kl(E,H),onTouchStart:Kl(b,P)}]:[!1,S,{}]}function Kl(i,e){return n=>{i&&i(n),n.defaultPrevented||e(n)}}function IR({page:i,...e}){let{router:n}=vT(),s=U.useMemo(()=>cT(n.routes,i,n.basename),[n.routes,i,n.basename]);return s?U.createElement(NR,{page:i,matches:s,...e}):null}function CR(i){let{manifest:e,routeModules:n}=ET(),[s,o]=U.useState([]);return U.useEffect(()=>{let u=!1;return ER(i,e,n).then(h=>{u||o(h)}),()=>{u=!0}},[i,e,n]),s}function NR({page:i,matches:e,...n}){let s=Er(),{manifest:o,routeModules:u}=ET(),{basename:h}=vT(),{loaderData:m,matches:g}=wR(),p=U.useMemo(()=>gE(i,e,g,o,s,"data"),[i,e,g,o,s]),E=U.useMemo(()=>gE(i,e,g,o,s,"assets"),[i,e,g,o,s]),b=U.useMemo(()=>{if(i===s.pathname+s.search+s.hash)return[];let H=new Set,Q=!1;if(e.forEach(X=>{let ne=o.routes[X.route.id];!ne||!ne.hasLoader||(!p.some(ae=>ae.route.id===X.route.id)&&X.route.id in m&&u[X.route.id]?.shouldRevalidate||ne.hasClientLoader?Q=!0:H.add(X.route.id))}),H.size===0)return[];let G=yR(i,h,"data");return Q&&H.size>0&&G.searchParams.set("_routes",e.filter(X=>H.has(X.route.id)).map(X=>X.route.id).join(",")),[G.pathname+G.search]},[h,m,s,o,p,e,i,u]),S=U.useMemo(()=>TR(E,o),[E,o]),P=CR(E);return U.createElement(U.Fragment,null,b.map(H=>U.createElement("link",{key:H,rel:"prefetch",as:"fetch",href:H,...n})),S.map(H=>U.createElement("link",{key:H,rel:"modulepreload",href:H,...n})),P.map(({key:H,link:Q})=>U.createElement("link",{key:H,nonce:n.nonce,...Q})))}function xR(...i){return e=>{i.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var TT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{TT&&(window.__reactRouterVersion="7.9.4")}catch{}function DR({basename:i,children:e,window:n}){let s=U.useRef();s.current==null&&(s.current=y1({window:n,v5Compat:!0}));let o=s.current,[u,h]=U.useState({action:o.action,location:o.location}),m=U.useCallback(g=>{U.startTransition(()=>h(g))},[h]);return U.useLayoutEffect(()=>o.listen(m),[o,m]),U.createElement(oR,{basename:i,children:e,location:u.location,navigationType:u.action,navigator:o})}var bT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,as=U.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:h,state:m,target:g,to:p,preventScrollReset:E,viewTransition:b,...S},P){let{basename:H}=U.useContext(oi),Q=typeof p=="string"&&bT.test(p),G,X=!1;if(typeof p=="string"&&Q&&(G=p,TT))try{let I=new URL(window.location.href),V=p.startsWith("//")?new URL(I.protocol+p):new URL(p),D=pr(V.pathname,H);V.origin===I.origin&&D!=null?p=D+V.search+V.hash:X=!0}catch{ri(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let ne=F1(p,{relative:o}),[ae,Re,Ce]=RR(s,S),Ie=VR(p,{replace:h,state:m,target:g,preventScrollReset:E,relative:o,viewTransition:b});function x(I){e&&e(I),I.defaultPrevented||Ie(I)}let w=U.createElement("a",{...S,...Ce,href:G||ne,onClick:X||u?e:x,ref:xR(P,Re),target:g,"data-discover":!Q&&n==="render"?"true":void 0});return ae&&!Q?U.createElement(U.Fragment,null,w,U.createElement(IR,{page:ne})):w});as.displayName="Link";var Ql=U.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:h,viewTransition:m,children:g,...p},E){let b=Tu(h,{relative:p.relative}),S=Er(),P=U.useContext(Zh),{navigator:H,basename:Q}=U.useContext(oi),G=P!=null&&jR(b)&&m===!0,X=H.encodeLocation?H.encodeLocation(b).pathname:b.pathname,ne=S.pathname,ae=P&&P.navigation&&P.navigation.location?P.navigation.location.pathname:null;n||(ne=ne.toLowerCase(),ae=ae?ae.toLowerCase():null,X=X.toLowerCase()),ae&&Q&&(ae=pr(ae,Q)||ae);const Re=X!=="/"&&X.endsWith("/")?X.length-1:X.length;let Ce=ne===X||!o&&ne.startsWith(X)&&ne.charAt(Re)==="/",Ie=ae!=null&&(ae===X||!o&&ae.startsWith(X)&&ae.charAt(X.length)==="/"),x={isActive:Ce,isPending:Ie,isTransitioning:G},w=Ce?e:void 0,I;typeof s=="function"?I=s(x):I=[s,Ce?"active":null,Ie?"pending":null,G?"transitioning":null].filter(Boolean).join(" ");let V=typeof u=="function"?u(x):u;return U.createElement(as,{...p,"aria-current":w,className:I,ref:E,style:V,to:h,viewTransition:m},typeof g=="function"?g(x):g)});Ql.displayName="NavLink";var OR=U.forwardRef(({discover:i="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:u,method:h=gh,action:m,onSubmit:g,relative:p,preventScrollReset:E,viewTransition:b,...S},P)=>{let H=kR(),Q=UR(m,{relative:p}),G=h.toLowerCase()==="get"?"get":"post",X=typeof m=="string"&&bT.test(m),ne=ae=>{if(g&&g(ae),ae.defaultPrevented)return;ae.preventDefault();let Re=ae.nativeEvent.submitter,Ce=Re?.getAttribute("formmethod")||h;H(Re||ae.currentTarget,{fetcherKey:e,method:Ce,navigate:n,replace:o,state:u,relative:p,preventScrollReset:E,viewTransition:b})};return U.createElement("form",{ref:P,method:G,action:Q,onSubmit:s?g:ne,...S,"data-discover":!X&&i==="render"?"true":void 0})});OR.displayName="Form";function MR(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function AT(i){let e=U.useContext(Co);return lt(e,MR(i)),e}function VR(i,{target:e,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:h}={}){let m=_s(),g=Er(),p=Tu(i,{relative:u});return U.useCallback(E=>{if(dR(E,e)){E.preventDefault();let b=n!==void 0?n:au(g)===au(p);m(i,{replace:b,state:s,preventScrollReset:o,relative:u,viewTransition:h})}},[g,m,p,n,s,e,i,o,u,h])}var PR=0,LR=()=>`__${String(++PR)}__`;function kR(){let{router:i}=AT("useSubmit"),{basename:e}=U.useContext(oi),n=iR();return U.useCallback(async(s,o={})=>{let{action:u,method:h,encType:m,formData:g,body:p}=gR(s,e);if(o.navigate===!1){let E=o.fetcherKey||LR();await i.fetch(E,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:g,body:p,formMethod:o.method||h,formEncType:o.encType||m,flushSync:o.flushSync})}else await i.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:g,body:p,formMethod:o.method||h,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[i,e,n])}function UR(i,{relative:e}={}){let{basename:n}=U.useContext(oi),s=U.useContext(li);lt(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...Tu(i||".",{relative:e})},h=Er();if(i==null){u.search=h.search;let m=new URLSearchParams(u.search),g=m.getAll("index");if(g.some(E=>E==="")){m.delete("index"),g.filter(b=>b).forEach(b=>m.append("index",b));let E=m.toString();u.search=E?`?${E}`:""}}return(!i||i===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:fr([n,u.pathname])),au(u)}function jR(i,{relative:e}={}){let n=U.useContext(mT);lt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=AT("useViewTransitionState"),o=Tu(i,{relative:e});if(!n.isTransitioning)return!1;let u=pr(n.currentLocation.pathname,s)||n.currentLocation.pathname,h=pr(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Ch(o.pathname,h)!=null||Ch(o.pathname,u)!=null}const ST=U.createContext({}),bu=()=>U.useContext(ST);function zR(i){const e="https://torn-trade-nnmnn.vercel.app/api/sheet.js",n=()=>fetch(e).then(o=>o.json()).then(i).catch(console.error);n();const s=setInterval(n,9e5);return()=>clearInterval(s)}const BR=()=>{};var yE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wT=function(i){const e=[];let n=0;for(let s=0;s<i.length;s++){let o=i.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},qR=function(i){const e=[];let n=0,s=0;for(;n<i.length;){const o=i[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=i[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=i[n++],h=i[n++],m=i[n++],g=((o&7)<<18|(u&63)<<12|(h&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(g>>10)),e[s++]=String.fromCharCode(56320+(g&1023))}else{const u=i[n++],h=i[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|h&63)}}return e.join("")},RT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<i.length;o+=3){const u=i[o],h=o+1<i.length,m=h?i[o+1]:0,g=o+2<i.length,p=g?i[o+2]:0,E=u>>2,b=(u&3)<<4|m>>4;let S=(m&15)<<2|p>>6,P=p&63;g||(P=64,h||(S=64)),s.push(n[E],n[b],n[S],n[P])}return s.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(wT(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):qR(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<i.length;){const u=n[i.charAt(o++)],m=o<i.length?n[i.charAt(o)]:0;++o;const p=o<i.length?n[i.charAt(o)]:64;++o;const b=o<i.length?n[i.charAt(o)]:64;if(++o,u==null||m==null||p==null||b==null)throw new HR;const S=u<<2|m>>4;if(s.push(S),p!==64){const P=m<<4&240|p>>2;if(s.push(P),b!==64){const H=p<<6&192|b;s.push(H)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class HR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const FR=function(i){const e=wT(i);return RT.encodeByteArray(e,!0)},Nh=function(i){return FR(i).replace(/\./g,"")},IT=function(i){try{return RT.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KR=()=>GR().__FIREBASE_DEFAULTS__,QR=()=>{if(typeof process>"u"||typeof yE>"u")return;const i=yE.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},YR=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&IT(i[1]);return e&&JSON.parse(e)},tf=()=>{try{return BR()||KR()||QR()||YR()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},CT=i=>tf()?.emulatorHosts?.[i],$R=i=>{const e=CT(i);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},NT=()=>tf()?.config,xT=i=>tf()?.[`_${i}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xo(i){try{return(i.startsWith("http://")||i.startsWith("https://")?new URL(i).hostname:i).endsWith(".cloudworkstations.dev")}catch{return!1}}async function DT(i){return(await fetch(i,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JR(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...i};return[Nh(JSON.stringify(n)),Nh(JSON.stringify(h)),""].join(".")}const eu={};function WR(){const i={prod:[],emulator:[]};for(const e of Object.keys(eu))eu[e]?i.emulator.push(e):i.prod.push(e);return i}function ZR(i){let e=document.getElementById(i),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",i),n=!0),{created:n,element:e}}let _E=!1;function OT(i,e){if(typeof window>"u"||typeof document>"u"||!xo(window.location.host)||eu[i]===e||eu[i]||_E)return;eu[i]=e;function n(S){return`__firebase__banner__${S}`}const s="__firebase__banner",u=WR().prod.length>0;function h(){const S=document.getElementById(s);S&&S.remove()}function m(S){S.style.display="flex",S.style.background="#7faaf0",S.style.position="fixed",S.style.bottom="5px",S.style.left="5px",S.style.padding=".5em",S.style.borderRadius="5px",S.style.alignItems="center"}function g(S,P){S.setAttribute("width","24"),S.setAttribute("id",P),S.setAttribute("height","24"),S.setAttribute("viewBox","0 0 24 24"),S.setAttribute("fill","none"),S.style.marginLeft="-6px"}function p(){const S=document.createElement("span");return S.style.cursor="pointer",S.style.marginLeft="16px",S.style.fontSize="24px",S.innerHTML=" &times;",S.onclick=()=>{_E=!0,h()},S}function E(S,P){S.setAttribute("id",P),S.innerText="Learn more",S.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",S.setAttribute("target","__blank"),S.style.paddingLeft="5px",S.style.textDecoration="underline"}function b(){const S=ZR(s),P=n("text"),H=document.getElementById(P)||document.createElement("span"),Q=n("learnmore"),G=document.getElementById(Q)||document.createElement("a"),X=n("preprendIcon"),ne=document.getElementById(X)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(S.created){const ae=S.element;m(ae),E(G,Q);const Re=p();g(ne,X),ae.append(ne,H,G,Re),document.body.appendChild(ae)}u?(H.innerText="Preview backend disconnected.",ne.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ne.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,H.innerText="Preview backend running in this workspace."),H.setAttribute("id",P)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function eI(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Zt())}function tI(){const i=tf()?.forceEnvironment;if(i==="node")return!0;if(i==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function nI(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function MT(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function iI(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function rI(){const i=Zt();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function sI(){return!tI()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function VT(){try{return typeof indexedDB=="object"}catch{return!1}}function PT(){return new Promise((i,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),i(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}function aI(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oI="FirebaseError";class ui extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=oI,Object.setPrototypeOf(this,ui.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,da.prototype.create)}}class da{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],h=u?lI(u,s):"Error",m=`${this.serviceName}: ${h} (${o}).`;return new ui(o,m,s)}}function lI(i,e){return i.replace(uI,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const uI=/\{\$([^}]+)}/g;function cI(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function hs(i,e){if(i===e)return!0;const n=Object.keys(i),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=i[o],h=e[o];if(vE(u)&&vE(h)){if(!hs(u,h))return!1}else if(u!==h)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function vE(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Au(i){const e=[];for(const[n,s]of Object.entries(i))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Yl(i){const e={};return i.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function $l(i){const e=i.indexOf("?");if(!e)return"";const n=i.indexOf("#",e);return i.substring(e,n>0?n:void 0)}function hI(i,e){const n=new fI(i,e);return n.subscribe.bind(n)}class fI{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");dI(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=Om),o.error===void 0&&(o.error=Om),o.complete===void 0&&(o.complete=Om);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function dI(i,e){if(typeof i!="object"||i===null)return!1;for(const n of e)if(n in i&&typeof i[n]=="function")return!0;return!1}function Om(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mI=1e3,pI=2,gI=14400*1e3,yI=.5;function EE(i,e=mI,n=pI){const s=e*Math.pow(n,i),o=Math.round(yI*s*(Math.random()-.5)*2);return Math.min(gI,s+o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _t(i){return i&&i._delegate?i._delegate:i}class si{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ws="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _I{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new XR;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(EI(e))try{this.getOrInitializeService({instanceIdentifier:Ws})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=Ws){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ws){return this.instances.has(e)}getOptions(e=Ws){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,h]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&h.resolve(o)}return o}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&e(u,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:vI(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Ws){return this.component?this.component.multipleInstances?e:Ws:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function vI(i){return i===Ws?void 0:i}function EI(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TI{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new _I(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Me;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Me||(Me={}));const bI={debug:Me.DEBUG,verbose:Me.VERBOSE,info:Me.INFO,warn:Me.WARN,error:Me.ERROR,silent:Me.SILENT},AI=Me.INFO,SI={[Me.DEBUG]:"log",[Me.VERBOSE]:"log",[Me.INFO]:"info",[Me.WARN]:"warn",[Me.ERROR]:"error"},wI=(i,e,...n)=>{if(e<i.logLevel)return;const s=new Date().toISOString(),o=SI[e];if(o)console[o](`[${s}]  ${i.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class nf{constructor(e){this.name=e,this._logLevel=AI,this._logHandler=wI,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Me))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?bI[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Me.DEBUG,...e),this._logHandler(this,Me.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Me.VERBOSE,...e),this._logHandler(this,Me.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Me.INFO,...e),this._logHandler(this,Me.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Me.WARN,...e),this._logHandler(this,Me.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Me.ERROR,...e),this._logHandler(this,Me.ERROR,...e)}}const RI=(i,e)=>e.some(n=>i instanceof n);let TE,bE;function II(){return TE||(TE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function CI(){return bE||(bE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const LT=new WeakMap,$m=new WeakMap,kT=new WeakMap,Mm=new WeakMap,Dp=new WeakMap;function NI(i){const e=new Promise((n,s)=>{const o=()=>{i.removeEventListener("success",u),i.removeEventListener("error",h)},u=()=>{n(os(i.result)),o()},h=()=>{s(i.error),o()};i.addEventListener("success",u),i.addEventListener("error",h)});return e.then(n=>{n instanceof IDBCursor&&LT.set(n,i)}).catch(()=>{}),Dp.set(e,i),e}function xI(i){if($m.has(i))return;const e=new Promise((n,s)=>{const o=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",h),i.removeEventListener("abort",h)},u=()=>{n(),o()},h=()=>{s(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",u),i.addEventListener("error",h),i.addEventListener("abort",h)});$m.set(i,e)}let Xm={get(i,e,n){if(i instanceof IDBTransaction){if(e==="done")return $m.get(i);if(e==="objectStoreNames")return i.objectStoreNames||kT.get(i);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return os(i[e])},set(i,e,n){return i[e]=n,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function DI(i){Xm=i(Xm)}function OI(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=i.call(Vm(this),e,...n);return kT.set(s,e.sort?e.sort():[e]),os(s)}:CI().includes(i)?function(...e){return i.apply(Vm(this),e),os(LT.get(this))}:function(...e){return os(i.apply(Vm(this),e))}}function MI(i){return typeof i=="function"?OI(i):(i instanceof IDBTransaction&&xI(i),RI(i,II())?new Proxy(i,Xm):i)}function os(i){if(i instanceof IDBRequest)return NI(i);if(Mm.has(i))return Mm.get(i);const e=MI(i);return e!==i&&(Mm.set(i,e),Dp.set(e,i)),e}const Vm=i=>Dp.get(i);function UT(i,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const h=indexedDB.open(i,e),m=os(h);return s&&h.addEventListener("upgradeneeded",g=>{s(os(h.result),g.oldVersion,g.newVersion,os(h.transaction),g)}),n&&h.addEventListener("blocked",g=>n(g.oldVersion,g.newVersion,g)),m.then(g=>{u&&g.addEventListener("close",()=>u()),o&&g.addEventListener("versionchange",p=>o(p.oldVersion,p.newVersion,p))}).catch(()=>{}),m}const VI=["get","getKey","getAll","getAllKeys","count"],PI=["put","add","delete","clear"],Pm=new Map;function AE(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(Pm.get(e))return Pm.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=PI.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||VI.includes(n)))return;const u=async function(h,...m){const g=this.transaction(h,o?"readwrite":"readonly");let p=g.store;return s&&(p=p.index(m.shift())),(await Promise.all([p[n](...m),o&&g.done]))[0]};return Pm.set(e,u),u}DI(i=>({...i,get:(e,n,s)=>AE(e,n)||i.get(e,n,s),has:(e,n)=>!!AE(e,n)||i.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LI{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(kI(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function kI(i){return i.getComponent()?.type==="VERSION"}const Jm="@firebase/app",SE="0.14.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gr=new nf("@firebase/app"),UI="@firebase/app-compat",jI="@firebase/analytics-compat",zI="@firebase/analytics",BI="@firebase/app-check-compat",qI="@firebase/app-check",HI="@firebase/auth",FI="@firebase/auth-compat",GI="@firebase/database",KI="@firebase/data-connect",QI="@firebase/database-compat",YI="@firebase/functions",$I="@firebase/functions-compat",XI="@firebase/installations",JI="@firebase/installations-compat",WI="@firebase/messaging",ZI="@firebase/messaging-compat",eC="@firebase/performance",tC="@firebase/performance-compat",nC="@firebase/remote-config",iC="@firebase/remote-config-compat",rC="@firebase/storage",sC="@firebase/storage-compat",aC="@firebase/firestore",oC="@firebase/ai",lC="@firebase/firestore-compat",uC="firebase",cC="12.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wm="[DEFAULT]",hC={[Jm]:"fire-core",[UI]:"fire-core-compat",[zI]:"fire-analytics",[jI]:"fire-analytics-compat",[qI]:"fire-app-check",[BI]:"fire-app-check-compat",[HI]:"fire-auth",[FI]:"fire-auth-compat",[GI]:"fire-rtdb",[KI]:"fire-data-connect",[QI]:"fire-rtdb-compat",[YI]:"fire-fn",[$I]:"fire-fn-compat",[XI]:"fire-iid",[JI]:"fire-iid-compat",[WI]:"fire-fcm",[ZI]:"fire-fcm-compat",[eC]:"fire-perf",[tC]:"fire-perf-compat",[nC]:"fire-rc",[iC]:"fire-rc-compat",[rC]:"fire-gcs",[sC]:"fire-gcs-compat",[aC]:"fire-fst",[lC]:"fire-fst-compat",[oC]:"fire-vertex","fire-js":"fire-js",[uC]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xh=new Map,fC=new Map,Zm=new Map;function wE(i,e){try{i.container.addComponent(e)}catch(n){gr.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,n)}}function Bi(i){const e=i.name;if(Zm.has(e))return gr.debug(`There were multiple attempts to register component ${e}.`),!1;Zm.set(e,i);for(const n of xh.values())wE(n,i);for(const n of fC.values())wE(n,i);return!0}function ma(i,e){const n=i.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),i.container.getProvider(e)}function An(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ls=new da("app","Firebase",dC);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mC{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new si("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ls.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Do=cC;function jT(i,e={}){let n=i;typeof e!="object"&&(e={name:e});const s={name:Wm,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw ls.create("bad-app-name",{appName:String(o)});if(n||(n=NT()),!n)throw ls.create("no-options");const u=xh.get(o);if(u){if(hs(n,u.options)&&hs(s,u.config))return u;throw ls.create("duplicate-app",{appName:o})}const h=new TI(o);for(const g of Zm.values())h.addComponent(g);const m=new mC(n,s,h);return xh.set(o,m),m}function Op(i=Wm){const e=xh.get(i);if(!e&&i===Wm&&NT())return jT();if(!e)throw ls.create("no-app",{appName:i});return e}function zn(i,e,n){let s=hC[i]??i;n&&(s+=`-${n}`);const o=s.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const h=[`Unable to register library "${s}" with version "${e}":`];o&&h.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&h.push("and"),u&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),gr.warn(h.join(" "));return}Bi(new si(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pC="firebase-heartbeat-database",gC=1,ou="firebase-heartbeat-store";let Lm=null;function zT(){return Lm||(Lm=UT(pC,gC,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(ou)}catch(n){console.warn(n)}}}}).catch(i=>{throw ls.create("idb-open",{originalErrorMessage:i.message})})),Lm}async function yC(i){try{const n=(await zT()).transaction(ou),s=await n.objectStore(ou).get(BT(i));return await n.done,s}catch(e){if(e instanceof ui)gr.warn(e.message);else{const n=ls.create("idb-get",{originalErrorMessage:e?.message});gr.warn(n.message)}}}async function RE(i,e){try{const s=(await zT()).transaction(ou,"readwrite");await s.objectStore(ou).put(e,BT(i)),await s.done}catch(n){if(n instanceof ui)gr.warn(n.message);else{const s=ls.create("idb-set",{originalErrorMessage:n?.message});gr.warn(s.message)}}}function BT(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _C=1024,vC=30;class EC{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new bC(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=IE();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>vC){const o=AC(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){gr.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=IE(),{heartbeatsToSend:n,unsentEntries:s}=TC(this._heartbeatsCache.heartbeats),o=Nh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return gr.warn(e),""}}}function IE(){return new Date().toISOString().substring(0,10)}function TC(i,e=_C){const n=[];let s=i.slice();for(const o of i){const u=n.find(h=>h.agent===o.agent);if(u){if(u.dates.push(o.date),CE(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),CE(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class bC{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return VT()?PT().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await yC(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return RE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return RE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function CE(i){return Nh(JSON.stringify({version:2,heartbeats:i})).length}function AC(i){if(i.length===0)return-1;let e=0,n=i[0].date;for(let s=1;s<i.length;s++)i[s].date<n&&(n=i[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SC(i){Bi(new si("platform-logger",e=>new LI(e),"PRIVATE")),Bi(new si("heartbeat",e=>new EC(e),"PRIVATE")),zn(Jm,SE,i),zn(Jm,SE,"esm2020"),zn("fire-js","")}SC("");function qT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const wC=qT,HT=new da("auth","Firebase",qT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dh=new nf("@firebase/auth");function RC(i,...e){Dh.logLevel<=Me.WARN&&Dh.warn(`Auth (${Do}): ${i}`,...e)}function _h(i,...e){Dh.logLevel<=Me.ERROR&&Dh.error(`Auth (${Do}): ${i}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bn(i,...e){throw Vp(i,...e)}function ni(i,...e){return Vp(i,...e)}function Mp(i,e,n){const s={...wC(),[e]:n};return new da("auth","Firebase",s).create(e,{appName:i.name})}function dr(i){return Mp(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function IC(i,e,n){const s=n;if(!(e instanceof s))throw s.name!==e.constructor.name&&Bn(i,"argument-error"),Mp(i,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Vp(i,...e){if(typeof i!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=i.name),i._errorFactory.create(n,...s)}return HT.create(i,...e)}function ge(i,e,...n){if(!i)throw Vp(e,...n)}function ur(i){const e="INTERNAL ASSERTION FAILED: "+i;throw _h(e),new Error(e)}function yr(i,e){i||ur(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ep(){return typeof self<"u"&&self.location?.href||""}function CC(){return NE()==="http:"||NE()==="https:"}function NE(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NC(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(CC()||MT()||"connection"in navigator)?navigator.onLine:!0}function xC(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Su{constructor(e,n){this.shortDelay=e,this.longDelay=n,yr(n>e,"Short delay should be less than long delay!"),this.isMobile=eI()||iI()}get(){return NC()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pp(i,e){yr(i.emulator,"Emulator should always be set here");const{url:n}=i.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FT{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ur("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ur("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ur("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DC={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OC=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],MC=new Su(3e4,6e4);function Tr(i,e){return i.tenantId&&!e.tenantId?{...e,tenantId:i.tenantId}:e}async function Hi(i,e,n,s,o={}){return GT(i,o,async()=>{let u={},h={};s&&(e==="GET"?h=s:u={body:JSON.stringify(s)});const m=Au({key:i.config.apiKey,...h}).slice(1),g=await i._getAdditionalHeaders();g["Content-Type"]="application/json",i.languageCode&&(g["X-Firebase-Locale"]=i.languageCode);const p={method:e,headers:g,...u};return nI()||(p.referrerPolicy="no-referrer"),i.emulatorConfig&&xo(i.emulatorConfig.host)&&(p.credentials="include"),FT.fetch()(await KT(i,i.config.apiHost,n,m),p)})}async function GT(i,e,n){i._canInitEmulator=!1;const s={...DC,...e};try{const o=new PC(i),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const h=await u.json();if("needConfirmation"in h)throw ch(i,"account-exists-with-different-credential",h);if(u.ok&&!("errorMessage"in h))return h;{const m=u.ok?h.errorMessage:h.error.message,[g,p]=m.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw ch(i,"credential-already-in-use",h);if(g==="EMAIL_EXISTS")throw ch(i,"email-already-in-use",h);if(g==="USER_DISABLED")throw ch(i,"user-disabled",h);const E=s[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw Mp(i,E,p);Bn(i,E)}}catch(o){if(o instanceof ui)throw o;Bn(i,"network-request-failed",{message:String(o)})}}async function wu(i,e,n,s,o={}){const u=await Hi(i,e,n,s,o);return"mfaPendingCredential"in u&&Bn(i,"multi-factor-auth-required",{_serverResponse:u}),u}async function KT(i,e,n,s){const o=`${e}${n}?${s}`,u=i,h=u.config.emulator?Pp(i.config,o):`${i.config.apiScheme}://${o}`;return OC.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(h).toString():h}function VC(i){switch(i){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class PC{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(ni(this.auth,"network-request-failed")),MC.get())})}}function ch(i,e,n){const s={appName:i.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=ni(i,e,s);return o.customData._tokenResponse=n,o}function xE(i){return i!==void 0&&i.enterprise!==void 0}class LC{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return VC(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function kC(i,e){return Hi(i,"GET","/v2/recaptchaConfig",Tr(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UC(i,e){return Hi(i,"POST","/v1/accounts:delete",e)}async function Oh(i,e){return Hi(i,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tu(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function jC(i,e=!1){const n=_t(i),s=await n.getIdToken(e),o=Lp(s);ge(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,h=u?.sign_in_provider;return{claims:o,token:s,authTime:tu(km(o.auth_time)),issuedAtTime:tu(km(o.iat)),expirationTime:tu(km(o.exp)),signInProvider:h||null,signInSecondFactor:u?.sign_in_second_factor||null}}function km(i){return Number(i)*1e3}function Lp(i){const[e,n,s]=i.split(".");if(e===void 0||n===void 0||s===void 0)return _h("JWT malformed, contained fewer than 3 sections"),null;try{const o=IT(n);return o?JSON.parse(o):(_h("Failed to decode base64 JWT payload"),null)}catch(o){return _h("Caught error parsing JWT payload as JSON",o?.toString()),null}}function DE(i){const e=Lp(i);return ge(e,"internal-error"),ge(typeof e.exp<"u","internal-error"),ge(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Eo(i,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof ui&&zC(s)&&i.auth.currentUser===i&&await i.auth.signOut(),s}}function zC({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BC{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tp{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=tu(this.lastLoginAt),this.creationTime=tu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mh(i){const e=i.auth,n=await i.getIdToken(),s=await Eo(i,Oh(e,{idToken:n}));ge(s?.users.length,e,"internal-error");const o=s.users[0];i._notifyReloadListener(o);const u=o.providerUserInfo?.length?QT(o.providerUserInfo):[],h=HC(i.providerData,u),m=i.isAnonymous,g=!(i.email&&o.passwordHash)&&!h?.length,p=m?g:!1,E={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:h,metadata:new tp(o.createdAt,o.lastLoginAt),isAnonymous:p};Object.assign(i,E)}async function qC(i){const e=_t(i);await Mh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function HC(i,e){return[...i.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function QT(i){return i.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FC(i,e){const n=await GT(i,{},async()=>{const s=Au({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=i.config,h=await KT(i,o,"/v1/token",`key=${u}`),m=await i._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:m,body:s};return i.emulatorConfig&&xo(i.emulatorConfig.host)&&(g.credentials="include"),FT.fetch()(h,g)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function GC(i,e){return Hi(i,"POST","/v2/accounts:revokeToken",Tr(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ge(e.idToken,"internal-error"),ge(typeof e.idToken<"u","internal-error"),ge(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):DE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ge(e.length!==0,"internal-error");const n=DE(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ge(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await FC(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,h=new mo;return s&&(ge(typeof s=="string","internal-error",{appName:e}),h.refreshToken=s),o&&(ge(typeof o=="string","internal-error",{appName:e}),h.accessToken=o),u&&(ge(typeof u=="number","internal-error",{appName:e}),h.expirationTime=u),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new mo,this.toJSON())}_performRefresh(){return ur("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ts(i,e){ge(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class ei{constructor({uid:e,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new BC(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new tp(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await Eo(this,this.stsTokenManager.getToken(this.auth,e));return ge(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return jC(this,e)}reload(){return qC(this)}_assign(e){this!==e&&(ge(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ei({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){ge(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await Mh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(An(this.auth.app))return Promise.reject(dr(this.auth));const e=await this.getIdToken();return await Eo(this,UC(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,h=n.photoURL??void 0,m=n.tenantId??void 0,g=n._redirectEventId??void 0,p=n.createdAt??void 0,E=n.lastLoginAt??void 0,{uid:b,emailVerified:S,isAnonymous:P,providerData:H,stsTokenManager:Q}=n;ge(b&&Q,e,"internal-error");const G=mo.fromJSON(this.name,Q);ge(typeof b=="string",e,"internal-error"),ts(s,e.name),ts(o,e.name),ge(typeof S=="boolean",e,"internal-error"),ge(typeof P=="boolean",e,"internal-error"),ts(u,e.name),ts(h,e.name),ts(m,e.name),ts(g,e.name),ts(p,e.name),ts(E,e.name);const X=new ei({uid:b,auth:e,email:o,emailVerified:S,displayName:s,isAnonymous:P,photoURL:h,phoneNumber:u,tenantId:m,stsTokenManager:G,createdAt:p,lastLoginAt:E});return H&&Array.isArray(H)&&(X.providerData=H.map(ne=>({...ne}))),g&&(X._redirectEventId=g),X}static async _fromIdTokenResponse(e,n,s=!1){const o=new mo;o.updateFromServerResponse(n);const u=new ei({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Mh(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];ge(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?QT(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!u?.length,m=new mo;m.updateFromIdToken(s);const g=new ei({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:h}),p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new tp(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(g,p),g}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OE=new Map;function cr(i){yr(i instanceof Function,"Expected a class definition");let e=OE.get(i);return e?(yr(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,OE.set(i,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}YT.type="NONE";const ME=YT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vh(i,e,n){return`firebase:${i}:${e}:${n}`}class po{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=vh(this.userKey,o.apiKey,u),this.fullPersistenceKey=vh("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Oh(this.auth,{idToken:e}).catch(()=>{});return n?ei._fromGetAccountInfoResponse(this.auth,n,e):null}return ei._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new po(cr(ME),e,s);const o=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let u=o[0]||cr(ME);const h=vh(s,e.config.apiKey,e.name);let m=null;for(const p of n)try{const E=await p._get(h);if(E){let b;if(typeof E=="string"){const S=await Oh(e,{idToken:E}).catch(()=>{});if(!S)break;b=await ei._fromGetAccountInfoResponse(e,S,E)}else b=ei._fromJSON(e,E);p!==u&&(m=b),u=p;break}}catch{}const g=o.filter(p=>p._shouldAllowMigration);return!u._shouldAllowMigration||!g.length?new po(u,e,s):(u=g[0],m&&await u._set(h,m.toJSON()),await Promise.all(n.map(async p=>{if(p!==u)try{await p._remove(h)}catch{}})),new po(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VE(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(WT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if($T(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(eb(e))return"Blackberry";if(tb(e))return"Webos";if(XT(e))return"Safari";if((e.includes("chrome/")||JT(e))&&!e.includes("edge/"))return"Chrome";if(ZT(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=i.match(n);if(s?.length===2)return s[1]}return"Other"}function $T(i=Zt()){return/firefox\//i.test(i)}function XT(i=Zt()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function JT(i=Zt()){return/crios\//i.test(i)}function WT(i=Zt()){return/iemobile/i.test(i)}function ZT(i=Zt()){return/android/i.test(i)}function eb(i=Zt()){return/blackberry/i.test(i)}function tb(i=Zt()){return/webos/i.test(i)}function kp(i=Zt()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function KC(i=Zt()){return kp(i)&&!!window.navigator?.standalone}function QC(){return rI()&&document.documentMode===10}function nb(i=Zt()){return kp(i)||ZT(i)||tb(i)||eb(i)||/windows phone/i.test(i)||WT(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ib(i,e=[]){let n;switch(i){case"Browser":n=VE(Zt());break;case"Worker":n=`${VE(Zt())}-${i}`;break;default:n=i}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Do}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YC{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((h,m)=>{try{const g=e(u);h(g)}catch(g){m(g)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $C(i,e={}){return Hi(i,"GET","/v2/passwordPolicy",Tr(i,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XC=6;class JC{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??XC,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WC{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new PE(this),this.idTokenSubscription=new PE(this),this.beforeStateQueue=new YC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=HT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=cr(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await po.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Oh(this,{idToken:e}),s=await ei._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(An(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(h,h))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,h=s?._redirectEventId,m=await this.tryRedirectSignIn(e);(!u||u===h)&&m?.user&&(s=m.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return ge(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Mh(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=xC()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(An(this.app))return Promise.reject(dr(this));const n=e?_t(e):null;return n&&ge(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ge(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return An(this.app)?Promise.reject(dr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return An(this.app)?Promise.reject(dr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(cr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await $C(this),n=new JC(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new da("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await GC(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&cr(e)||this._popupRedirectResolver;ge(n,this,"argument-error"),this.redirectPersistenceManager=await po.create(this,[cr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let h=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(ge(m,this,"internal-error"),m.then(()=>{h||u(this.currentUser)}),typeof n=="function"){const g=e.addObserver(n,s,o);return()=>{h=!0,g()}}else{const g=e.addObserver(n);return()=>{h=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ge(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=ib(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(An(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&RC(`Error while retrieving App Check token: ${e.error}`),e?.token}}function vs(i){return _t(i)}class PE{constructor(e){this.auth=e,this.observer=null,this.addObserver=hI(n=>this.observer=n)}get next(){return ge(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function ZC(i){rf=i}function rb(i){return rf.loadJS(i)}function e2(){return rf.recaptchaEnterpriseScript}function t2(){return rf.gapiScript}function n2(i){return`__${i}${Math.floor(Math.random()*1e6)}`}class i2{constructor(){this.enterprise=new r2}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class r2{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const s2="recaptcha-enterprise",sb="NO_RECAPTCHA";class a2{constructor(e){this.type=s2,this.auth=vs(e)}async verify(e="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(h,m)=>{kC(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(g=>{if(g.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const p=new LC(g);return u.tenantId==null?u._agentRecaptchaConfig=p:u._tenantRecaptchaConfigs[u.tenantId]=p,h(p.siteKey)}}).catch(g=>{m(g)})})}function o(u,h,m){const g=window.grecaptcha;xE(g)?g.enterprise.ready(()=>{g.enterprise.execute(u,{action:e}).then(p=>{h(p)}).catch(()=>{h(sb)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new i2().execute("siteKey",{action:"verify"}):new Promise((u,h)=>{s(this.auth).then(m=>{if(!n&&xE(window.grecaptcha))o(m,u,h);else{if(typeof window>"u"){h(new Error("RecaptchaVerifier is only supported in browser"));return}let g=e2();g.length!==0&&(g+=m),rb(g).then(()=>{o(m,u,h)}).catch(p=>{h(p)})}}).catch(m=>{h(m)})})}}async function LE(i,e,n,s=!1,o=!1){const u=new a2(i);let h;if(o)h=sb;else try{h=await u.verify(n)}catch{h=await u.verify(n,!0)}const m={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const g=m.phoneEnrollmentInfo.phoneNumber,p=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:g,recaptchaToken:p,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const g=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:g,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:h}):Object.assign(m,{captchaResponse:h}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function np(i,e,n,s,o){if(i._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await LE(i,e,n,n==="getOobCode");return s(i,u)}else return s(i,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const h=await LE(i,e,n,n==="getOobCode");return s(i,h)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o2(i,e){const n=ma(i,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(hs(u,e??{}))return o;Bn(o,"already-initialized")}return n.initialize({options:e})}function l2(i,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(cr);e?.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(s,e?.popupRedirectResolver)}function u2(i,e,n){const s=vs(i);ge(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=ab(e),{host:h,port:m}=c2(e),g=m===null?"":`:${m}`,p={url:`${u}//${h}${g}/`},E=Object.freeze({host:h,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){ge(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),ge(hs(p,s.config.emulator)&&hs(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=p,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,xo(h)?(DT(`${u}//${h}${g}`),OT("Auth",!0)):h2()}function ab(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function c2(i){const e=ab(i),n=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:kE(s.substr(u.length+1))}}else{const[u,h]=s.split(":");return{host:u,port:kE(h)}}}function kE(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function h2(){function i(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Up{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ur("not implemented")}_getIdTokenResponse(e){return ur("not implemented")}_linkToIdToken(e,n){return ur("not implemented")}_getReauthenticationResolver(e){return ur("not implemented")}}async function f2(i,e){return Hi(i,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function d2(i,e){return wu(i,"POST","/v1/accounts:signInWithPassword",Tr(i,e))}async function m2(i,e){return Hi(i,"POST","/v1/accounts:sendOobCode",Tr(i,e))}async function p2(i,e){return m2(i,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function g2(i,e){return wu(i,"POST","/v1/accounts:signInWithEmailLink",Tr(i,e))}async function y2(i,e){return wu(i,"POST","/v1/accounts:signInWithEmailLink",Tr(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lu extends Up{constructor(e,n,s,o=null){super("password",s),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new lu(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new lu(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return np(e,n,"signInWithPassword",d2);case"emailLink":return g2(e,{email:this._email,oobCode:this._password});default:Bn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return np(e,s,"signUpPassword",f2);case"emailLink":return y2(e,{idToken:n,email:this._email,oobCode:this._password});default:Bn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function go(i,e){return wu(i,"POST","/v1/accounts:signInWithIdp",Tr(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _2="http://localhost";class sa extends Up{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new sa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Bn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...u}=n;if(!s||!o)return null;const h=new sa(s,o);return h.idToken=u.idToken||void 0,h.accessToken=u.accessToken||void 0,h.secret=u.secret,h.nonce=u.nonce,h.pendingToken=u.pendingToken||null,h}_getIdTokenResponse(e){const n=this.buildRequest();return go(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,go(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,go(e,n)}buildRequest(){const e={requestUri:_2,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Au(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v2(i){switch(i){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function E2(i){const e=Yl($l(i)).link,n=e?Yl($l(e)).deep_link_id:null,s=Yl($l(i)).deep_link_id;return(s?Yl($l(s)).link:null)||s||n||e||i}class jp{constructor(e){const n=Yl($l(e)),s=n.apiKey??null,o=n.oobCode??null,u=v2(n.mode??null);ge(s&&o&&u,"argument-error"),this.apiKey=s,this.operation=u,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=E2(e);try{return new jp(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oo{constructor(){this.providerId=Oo.PROVIDER_ID}static credential(e,n){return lu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=jp.parseLink(n);return ge(s,"argument-error"),lu._fromEmailAndCode(e,s.code,s.tenantId)}}Oo.PROVIDER_ID="password";Oo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Oo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zp{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ru extends zp{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ns extends Ru{constructor(){super("facebook.com")}static credential(e){return sa._fromParams({providerId:ns.PROVIDER_ID,signInMethod:ns.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ns.credentialFromTaggedObject(e)}static credentialFromError(e){return ns.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ns.credential(e.oauthAccessToken)}catch{return null}}}ns.FACEBOOK_SIGN_IN_METHOD="facebook.com";ns.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mi extends Ru{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return sa._fromParams({providerId:Mi.PROVIDER_ID,signInMethod:Mi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Mi.credentialFromTaggedObject(e)}static credentialFromError(e){return Mi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return Mi.credential(n,s)}catch{return null}}}Mi.GOOGLE_SIGN_IN_METHOD="google.com";Mi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class is extends Ru{constructor(){super("github.com")}static credential(e){return sa._fromParams({providerId:is.PROVIDER_ID,signInMethod:is.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return is.credentialFromTaggedObject(e)}static credentialFromError(e){return is.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return is.credential(e.oauthAccessToken)}catch{return null}}}is.GITHUB_SIGN_IN_METHOD="github.com";is.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rs extends Ru{constructor(){super("twitter.com")}static credential(e,n){return sa._fromParams({providerId:rs.PROVIDER_ID,signInMethod:rs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return rs.credentialFromTaggedObject(e)}static credentialFromError(e){return rs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return rs.credential(n,s)}catch{return null}}}rs.TWITTER_SIGN_IN_METHOD="twitter.com";rs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function T2(i,e){return wu(i,"POST","/v1/accounts:signUp",Tr(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aa{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await ei._fromIdTokenResponse(e,s,o),h=UE(s);return new aa({user:u,providerId:h,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=UE(s);return new aa({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function UE(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vh extends ui{constructor(e,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Vh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new Vh(e,n,s,o)}}function ob(i,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(i):n._getIdTokenResponse(i)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Vh._fromErrorAndOperation(i,u,e,s):u})}async function b2(i,e,n=!1){const s=await Eo(i,e._linkToIdToken(i.auth,await i.getIdToken()),n);return aa._forOperation(i,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function A2(i,e,n=!1){const{auth:s}=i;if(An(s.app))return Promise.reject(dr(s));const o="reauthenticate";try{const u=await Eo(i,ob(s,o,e,i),n);ge(u.idToken,s,"internal-error");const h=Lp(u.idToken);ge(h,s,"internal-error");const{sub:m}=h;return ge(i.uid===m,s,"user-mismatch"),aa._forOperation(i,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&Bn(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lb(i,e,n=!1){if(An(i.app))return Promise.reject(dr(i));const s="signIn",o=await ob(i,s,e),u=await aa._fromIdTokenResponse(i,s,o);return n||await i._updateCurrentUser(u.user),u}async function S2(i,e){return lb(vs(i),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ub(i){const e=vs(i);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function w2(i,e,n){if(An(i.app))return Promise.reject(dr(i));const s=vs(i),h=await np(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",T2).catch(g=>{throw g.code==="auth/password-does-not-meet-requirements"&&ub(i),g}),m=await aa._fromIdTokenResponse(s,"signIn",h);return await s._updateCurrentUser(m.user),m}function R2(i,e,n){return An(i.app)?Promise.reject(dr(i)):S2(_t(i),Oo.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&ub(i),s})}async function I2(i,e){const n=_t(i),o={requestType:"VERIFY_EMAIL",idToken:await i.getIdToken()},{email:u}=await p2(n.auth,o);u!==i.email&&await i.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function C2(i,e){return Hi(i,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function N2(i,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const s=_t(i),u={idToken:await s.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},h=await Eo(s,C2(s.auth,u));s.displayName=h.displayName||null,s.photoURL=h.photoUrl||null;const m=s.providerData.find(({providerId:g})=>g==="password");m&&(m.displayName=s.displayName,m.photoURL=s.photoURL),await s._updateTokensIfNecessary(h)}function x2(i,e,n,s){return _t(i).onIdTokenChanged(e,n,s)}function D2(i,e,n){return _t(i).beforeAuthStateChanged(e,n)}function O2(i,e,n,s){return _t(i).onAuthStateChanged(e,n,s)}function jE(i){return _t(i).signOut()}const Ph="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cb{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Ph,"1"),this.storage.removeItem(Ph),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M2=1e3,V2=10;class hb extends cb{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=nb(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((h,m,g)=>{this.notifyListeners(h,g)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(s);!n&&this.localCache[s]===h||this.notifyListeners(s,h)},u=this.storage.getItem(s);QC()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,V2):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},M2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}hb.type="LOCAL";const P2=hb;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fb extends cb{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}fb.type="SESSION";const db=fb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L2(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new sf(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,h=this.handlersMap[o];if(!h?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(h).map(async p=>p(n.origin,u)),g=await L2(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:g})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}sf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bp(i="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return i+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k2{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,h;return new Promise((m,g)=>{const p=Bp("",20);o.port1.start();const E=setTimeout(()=>{g(new Error("unsupported_event"))},s);h={messageChannel:o,onMessage(b){const S=b;if(S.data.eventId===p)switch(S.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(S.data.response);break;default:clearTimeout(E),clearTimeout(u),g(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:p,data:n},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vi(){return window}function U2(i){Vi().location.href=i}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mb(){return typeof Vi().WorkerGlobalScope<"u"&&typeof Vi().importScripts=="function"}async function j2(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function z2(){return navigator?.serviceWorker?.controller||null}function B2(){return mb()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pb="firebaseLocalStorageDb",q2=1,Lh="firebaseLocalStorage",gb="fbase_key";class Iu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function af(i,e){return i.transaction([Lh],e?"readwrite":"readonly").objectStore(Lh)}function H2(){const i=indexedDB.deleteDatabase(pb);return new Iu(i).toPromise()}function ip(){const i=indexedDB.open(pb,q2);return new Promise((e,n)=>{i.addEventListener("error",()=>{n(i.error)}),i.addEventListener("upgradeneeded",()=>{const s=i.result;try{s.createObjectStore(Lh,{keyPath:gb})}catch(o){n(o)}}),i.addEventListener("success",async()=>{const s=i.result;s.objectStoreNames.contains(Lh)?e(s):(s.close(),await H2(),e(await ip()))})})}async function zE(i,e,n){const s=af(i,!0).put({[gb]:e,value:n});return new Iu(s).toPromise()}async function F2(i,e){const n=af(i,!1).get(e),s=await new Iu(n).toPromise();return s===void 0?null:s.value}function BE(i,e){const n=af(i,!0).delete(e);return new Iu(n).toPromise()}const G2=800,K2=3;class yb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await ip(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>K2)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return mb()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=sf._getInstance(B2()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await j2(),!this.activeServiceWorker)return;this.sender=new k2(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||z2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await ip();return await zE(e,Ph,"1"),await BE(e,Ph),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>zE(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>F2(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>BE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=af(o,!1).getAll();return new Iu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),G2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}yb.type="LOCAL";const Q2=yb;new Su(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _b(i,e){return e?cr(e):(ge(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qp extends Up{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return go(e,this._buildIdpRequest())}_linkToIdToken(e,n){return go(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return go(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function Y2(i){return lb(i.auth,new qp(i),i.bypassAuthState)}function $2(i){const{auth:e,user:n}=i;return ge(n,e,"internal-error"),A2(n,new qp(i),i.bypassAuthState)}async function X2(i){const{auth:e,user:n}=i;return ge(n,e,"internal-error"),b2(n,new qp(i),i.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vb{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:h,type:m}=e;if(h){this.reject(h);return}const g={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(g))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Y2;case"linkViaPopup":case"linkViaRedirect":return X2;case"reauthViaPopup":case"reauthViaRedirect":return $2;default:Bn(this.auth,"internal-error")}}resolve(e){yr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){yr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J2=new Su(2e3,1e4);async function Eb(i,e,n){if(An(i.app))return Promise.reject(ni(i,"operation-not-supported-in-this-environment"));const s=vs(i);IC(i,e,zp);const o=_b(s,n);return new ea(s,"signInViaPopup",e,o).executeNotNull()}class ea extends vb{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,ea.currentPopupAction&&ea.currentPopupAction.cancel(),ea.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ge(e,this.auth,"internal-error"),e}async onExecution(){yr(this.filter.length===1,"Popup operations only handle one event");const e=Bp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ni(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(ni(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ea.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ni(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,J2.get())};e()}}ea.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W2="pendingRedirect",Eh=new Map;class Z2 extends vb{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=Eh.get(this.auth._key());if(!e){try{const s=await eN(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}Eh.set(this.auth._key(),e)}return this.bypassAuthState||Eh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function eN(i,e){const n=iN(e),s=nN(i);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function tN(i,e){Eh.set(i._key(),e)}function nN(i){return cr(i._redirectPersistence)}function iN(i){return vh(W2,i.config.apiKey,i.name)}async function rN(i,e,n=!1){if(An(i.app))return Promise.reject(dr(i));const s=vs(i),o=_b(s,e),h=await new Z2(s,o,n).execute();return h&&!n&&(delete h.user._redirectEventId,await s._persistUserIfCurrent(h.user),await s._setRedirectUser(null,e)),h}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sN=600*1e3;class aN{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!oN(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!Tb(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";n.onError(ni(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=sN&&this.cachedEventUids.clear(),this.cachedEventUids.has(qE(e))}saveEventToCache(e){this.cachedEventUids.add(qE(e)),this.lastProcessedEventTime=Date.now()}}function qE(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function Tb({type:i,error:e}){return i==="unknown"&&e?.code==="auth/no-auth-event"}function oN(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Tb(i);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lN(i,e={}){return Hi(i,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,cN=/^https?/;async function hN(i){if(i.config.emulator)return;const{authorizedDomains:e}=await lN(i);for(const n of e)try{if(fN(n))return}catch{}Bn(i,"unauthorized-domain")}function fN(i){const e=ep(),{protocol:n,hostname:s}=new URL(e);if(i.startsWith("chrome-extension://")){const h=new URL(i);return h.hostname===""&&s===""?n==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&h.hostname===s}if(!cN.test(n))return!1;if(uN.test(i))return s===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dN=new Su(3e4,6e4);function HE(){const i=Vi().___jsl;if(i?.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let n=0;n<i.CP.length;n++)i.CP[n]=null}}function mN(i){return new Promise((e,n)=>{function s(){HE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{HE(),n(ni(i,"network-request-failed"))},timeout:dN.get()})}if(Vi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Vi().gapi?.load)s();else{const o=n2("iframefcb");return Vi()[o]=()=>{gapi.load?s():n(ni(i,"network-request-failed"))},rb(`${t2()}?onload=${o}`).catch(u=>n(u))}}).catch(e=>{throw Th=null,e})}let Th=null;function pN(i){return Th=Th||mN(i),Th}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gN=new Su(5e3,15e3),yN="__/auth/iframe",_N="emulator/auth/iframe",vN={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},EN=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function TN(i){const e=i.config;ge(e.authDomain,i,"auth-domain-config-required");const n=e.emulator?Pp(e,_N):`https://${i.config.authDomain}/${yN}`,s={apiKey:e.apiKey,appName:i.name,v:Do},o=EN.get(i.config.apiHost);o&&(s.eid=o);const u=i._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${Au(s).slice(1)}`}async function bN(i){const e=await pN(i),n=Vi().gapi;return ge(n,i,"internal-error"),e.open({where:document.body,url:TN(i),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:vN,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const h=ni(i,"network-request-failed"),m=Vi().setTimeout(()=>{u(h)},gN.get());function g(){Vi().clearTimeout(m),o(s)}s.ping(g).then(g,()=>{u(h)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AN={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},SN=500,wN=600,RN="_blank",IN="http://localhost";class FE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function CN(i,e,n,s=SN,o=wN){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const g={...AN,width:s.toString(),height:o.toString(),top:u,left:h},p=Zt().toLowerCase();n&&(m=JT(p)?RN:n),$T(p)&&(e=e||IN,g.scrollbars="yes");const E=Object.entries(g).reduce((S,[P,H])=>`${S}${P}=${H},`,"");if(KC(p)&&m!=="_self")return NN(e||"",m),new FE(null);const b=window.open(e||"",m,E);ge(b,i,"popup-blocked");try{b.focus()}catch{}return new FE(b)}function NN(i,e){const n=document.createElement("a");n.href=i,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xN="__/auth/handler",DN="emulator/auth/handler",ON=encodeURIComponent("fac");async function GE(i,e,n,s,o,u){ge(i.config.authDomain,i,"auth-domain-config-required"),ge(i.config.apiKey,i,"invalid-api-key");const h={apiKey:i.config.apiKey,appName:i.name,authType:n,redirectUrl:s,v:Do,eventId:o};if(e instanceof zp){e.setDefaultLanguage(i.languageCode),h.providerId=e.providerId||"",cI(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,b]of Object.entries({}))h[E]=b}if(e instanceof Ru){const E=e.getScopes().filter(b=>b!=="");E.length>0&&(h.scopes=E.join(","))}i.tenantId&&(h.tid=i.tenantId);const m=h;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const g=await i._getAppCheckToken(),p=g?`#${ON}=${encodeURIComponent(g)}`:"";return`${MN(i)}?${Au(m).slice(1)}${p}`}function MN({config:i}){return i.emulator?Pp(i,DN):`https://${i.authDomain}/${xN}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Um="webStorageSupport";class VN{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=db,this._completeRedirectFn=rN,this._overrideRedirectResult=tN}async _openPopup(e,n,s,o){yr(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await GE(e,n,s,ep(),o);return CN(e,u,Bp())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await GE(e,n,s,ep(),o);return U2(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(yr(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await bN(e),s=new aN(e);return n.register("authEvent",o=>(ge(o?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Um,{type:Um},o=>{const u=o?.[0]?.[Um];u!==void 0&&n(!!u),Bn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=hN(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return nb()||XT()||kp()}}const PN=VN;var KE="@firebase/auth",QE="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LN{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ge(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kN(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function UN(i){Bi(new si("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:h,authDomain:m}=s.options;ge(h&&!h.includes(":"),"invalid-api-key",{appName:s.name});const g={apiKey:h,authDomain:m,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ib(i)},p=new WC(s,o,u,g);return l2(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),Bi(new si("auth-internal",e=>{const n=vs(e.getProvider("auth").getImmediate());return(s=>new LN(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),zn(KE,QE,kN(i)),zn(KE,QE,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jN=300,zN=xT("authIdTokenMaxAge")||jN;let YE=null;const BN=i=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>zN)return;const o=n?.token;YE!==o&&(YE=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function bb(i=Op()){const e=ma(i,"auth");if(e.isInitialized())return e.getImmediate();const n=o2(i,{popupRedirectResolver:PN,persistence:[Q2,P2,db]}),s=xT("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const h=BN(u.toString());D2(n,h,()=>h(n.currentUser)),x2(n,m=>h(m))}}const o=CT("auth");return o&&u2(n,`http://${o}`),n}function qN(){return document.getElementsByTagName("head")?.[0]??document}ZC({loadJS(i){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",i),s.onload=e,s.onerror=o=>{const u=ni("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",qN().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});UN("Browser");var HN="firebase",FN="12.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */zn(HN,FN,"app");var $E=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var us,Ab;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(x,w){function I(){}I.prototype=w.prototype,x.F=w.prototype,x.prototype=new I,x.prototype.constructor=x,x.D=function(V,D,k){for(var C=Array(arguments.length-2),rt=2;rt<arguments.length;rt++)C[rt-2]=arguments[rt];return w.prototype[D].apply(V,C)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(x,w,I){I||(I=0);const V=Array(16);if(typeof w=="string")for(var D=0;D<16;++D)V[D]=w.charCodeAt(I++)|w.charCodeAt(I++)<<8|w.charCodeAt(I++)<<16|w.charCodeAt(I++)<<24;else for(D=0;D<16;++D)V[D]=w[I++]|w[I++]<<8|w[I++]<<16|w[I++]<<24;w=x.g[0],I=x.g[1],D=x.g[2];let k=x.g[3],C;C=w+(k^I&(D^k))+V[0]+3614090360&4294967295,w=I+(C<<7&4294967295|C>>>25),C=k+(D^w&(I^D))+V[1]+3905402710&4294967295,k=w+(C<<12&4294967295|C>>>20),C=D+(I^k&(w^I))+V[2]+606105819&4294967295,D=k+(C<<17&4294967295|C>>>15),C=I+(w^D&(k^w))+V[3]+3250441966&4294967295,I=D+(C<<22&4294967295|C>>>10),C=w+(k^I&(D^k))+V[4]+4118548399&4294967295,w=I+(C<<7&4294967295|C>>>25),C=k+(D^w&(I^D))+V[5]+1200080426&4294967295,k=w+(C<<12&4294967295|C>>>20),C=D+(I^k&(w^I))+V[6]+2821735955&4294967295,D=k+(C<<17&4294967295|C>>>15),C=I+(w^D&(k^w))+V[7]+4249261313&4294967295,I=D+(C<<22&4294967295|C>>>10),C=w+(k^I&(D^k))+V[8]+1770035416&4294967295,w=I+(C<<7&4294967295|C>>>25),C=k+(D^w&(I^D))+V[9]+2336552879&4294967295,k=w+(C<<12&4294967295|C>>>20),C=D+(I^k&(w^I))+V[10]+4294925233&4294967295,D=k+(C<<17&4294967295|C>>>15),C=I+(w^D&(k^w))+V[11]+2304563134&4294967295,I=D+(C<<22&4294967295|C>>>10),C=w+(k^I&(D^k))+V[12]+1804603682&4294967295,w=I+(C<<7&4294967295|C>>>25),C=k+(D^w&(I^D))+V[13]+4254626195&4294967295,k=w+(C<<12&4294967295|C>>>20),C=D+(I^k&(w^I))+V[14]+2792965006&4294967295,D=k+(C<<17&4294967295|C>>>15),C=I+(w^D&(k^w))+V[15]+1236535329&4294967295,I=D+(C<<22&4294967295|C>>>10),C=w+(D^k&(I^D))+V[1]+4129170786&4294967295,w=I+(C<<5&4294967295|C>>>27),C=k+(I^D&(w^I))+V[6]+3225465664&4294967295,k=w+(C<<9&4294967295|C>>>23),C=D+(w^I&(k^w))+V[11]+643717713&4294967295,D=k+(C<<14&4294967295|C>>>18),C=I+(k^w&(D^k))+V[0]+3921069994&4294967295,I=D+(C<<20&4294967295|C>>>12),C=w+(D^k&(I^D))+V[5]+3593408605&4294967295,w=I+(C<<5&4294967295|C>>>27),C=k+(I^D&(w^I))+V[10]+38016083&4294967295,k=w+(C<<9&4294967295|C>>>23),C=D+(w^I&(k^w))+V[15]+3634488961&4294967295,D=k+(C<<14&4294967295|C>>>18),C=I+(k^w&(D^k))+V[4]+3889429448&4294967295,I=D+(C<<20&4294967295|C>>>12),C=w+(D^k&(I^D))+V[9]+568446438&4294967295,w=I+(C<<5&4294967295|C>>>27),C=k+(I^D&(w^I))+V[14]+3275163606&4294967295,k=w+(C<<9&4294967295|C>>>23),C=D+(w^I&(k^w))+V[3]+4107603335&4294967295,D=k+(C<<14&4294967295|C>>>18),C=I+(k^w&(D^k))+V[8]+1163531501&4294967295,I=D+(C<<20&4294967295|C>>>12),C=w+(D^k&(I^D))+V[13]+2850285829&4294967295,w=I+(C<<5&4294967295|C>>>27),C=k+(I^D&(w^I))+V[2]+4243563512&4294967295,k=w+(C<<9&4294967295|C>>>23),C=D+(w^I&(k^w))+V[7]+1735328473&4294967295,D=k+(C<<14&4294967295|C>>>18),C=I+(k^w&(D^k))+V[12]+2368359562&4294967295,I=D+(C<<20&4294967295|C>>>12),C=w+(I^D^k)+V[5]+4294588738&4294967295,w=I+(C<<4&4294967295|C>>>28),C=k+(w^I^D)+V[8]+2272392833&4294967295,k=w+(C<<11&4294967295|C>>>21),C=D+(k^w^I)+V[11]+1839030562&4294967295,D=k+(C<<16&4294967295|C>>>16),C=I+(D^k^w)+V[14]+4259657740&4294967295,I=D+(C<<23&4294967295|C>>>9),C=w+(I^D^k)+V[1]+2763975236&4294967295,w=I+(C<<4&4294967295|C>>>28),C=k+(w^I^D)+V[4]+1272893353&4294967295,k=w+(C<<11&4294967295|C>>>21),C=D+(k^w^I)+V[7]+4139469664&4294967295,D=k+(C<<16&4294967295|C>>>16),C=I+(D^k^w)+V[10]+3200236656&4294967295,I=D+(C<<23&4294967295|C>>>9),C=w+(I^D^k)+V[13]+681279174&4294967295,w=I+(C<<4&4294967295|C>>>28),C=k+(w^I^D)+V[0]+3936430074&4294967295,k=w+(C<<11&4294967295|C>>>21),C=D+(k^w^I)+V[3]+3572445317&4294967295,D=k+(C<<16&4294967295|C>>>16),C=I+(D^k^w)+V[6]+76029189&4294967295,I=D+(C<<23&4294967295|C>>>9),C=w+(I^D^k)+V[9]+3654602809&4294967295,w=I+(C<<4&4294967295|C>>>28),C=k+(w^I^D)+V[12]+3873151461&4294967295,k=w+(C<<11&4294967295|C>>>21),C=D+(k^w^I)+V[15]+530742520&4294967295,D=k+(C<<16&4294967295|C>>>16),C=I+(D^k^w)+V[2]+3299628645&4294967295,I=D+(C<<23&4294967295|C>>>9),C=w+(D^(I|~k))+V[0]+4096336452&4294967295,w=I+(C<<6&4294967295|C>>>26),C=k+(I^(w|~D))+V[7]+1126891415&4294967295,k=w+(C<<10&4294967295|C>>>22),C=D+(w^(k|~I))+V[14]+2878612391&4294967295,D=k+(C<<15&4294967295|C>>>17),C=I+(k^(D|~w))+V[5]+4237533241&4294967295,I=D+(C<<21&4294967295|C>>>11),C=w+(D^(I|~k))+V[12]+1700485571&4294967295,w=I+(C<<6&4294967295|C>>>26),C=k+(I^(w|~D))+V[3]+2399980690&4294967295,k=w+(C<<10&4294967295|C>>>22),C=D+(w^(k|~I))+V[10]+4293915773&4294967295,D=k+(C<<15&4294967295|C>>>17),C=I+(k^(D|~w))+V[1]+2240044497&4294967295,I=D+(C<<21&4294967295|C>>>11),C=w+(D^(I|~k))+V[8]+1873313359&4294967295,w=I+(C<<6&4294967295|C>>>26),C=k+(I^(w|~D))+V[15]+4264355552&4294967295,k=w+(C<<10&4294967295|C>>>22),C=D+(w^(k|~I))+V[6]+2734768916&4294967295,D=k+(C<<15&4294967295|C>>>17),C=I+(k^(D|~w))+V[13]+1309151649&4294967295,I=D+(C<<21&4294967295|C>>>11),C=w+(D^(I|~k))+V[4]+4149444226&4294967295,w=I+(C<<6&4294967295|C>>>26),C=k+(I^(w|~D))+V[11]+3174756917&4294967295,k=w+(C<<10&4294967295|C>>>22),C=D+(w^(k|~I))+V[2]+718787259&4294967295,D=k+(C<<15&4294967295|C>>>17),C=I+(k^(D|~w))+V[9]+3951481745&4294967295,x.g[0]=x.g[0]+w&4294967295,x.g[1]=x.g[1]+(D+(C<<21&4294967295|C>>>11))&4294967295,x.g[2]=x.g[2]+D&4294967295,x.g[3]=x.g[3]+k&4294967295}s.prototype.v=function(x,w){w===void 0&&(w=x.length);const I=w-this.blockSize,V=this.C;let D=this.h,k=0;for(;k<w;){if(D==0)for(;k<=I;)o(this,x,k),k+=this.blockSize;if(typeof x=="string"){for(;k<w;)if(V[D++]=x.charCodeAt(k++),D==this.blockSize){o(this,V),D=0;break}}else for(;k<w;)if(V[D++]=x[k++],D==this.blockSize){o(this,V),D=0;break}}this.h=D,this.o+=w},s.prototype.A=function(){var x=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);x[0]=128;for(var w=1;w<x.length-8;++w)x[w]=0;w=this.o*8;for(var I=x.length-8;I<x.length;++I)x[I]=w&255,w/=256;for(this.v(x),x=Array(16),w=0,I=0;I<4;++I)for(let V=0;V<32;V+=8)x[w++]=this.g[I]>>>V&255;return x};function u(x,w){var I=m;return Object.prototype.hasOwnProperty.call(I,x)?I[x]:I[x]=w(x)}function h(x,w){this.h=w;const I=[];let V=!0;for(let D=x.length-1;D>=0;D--){const k=x[D]|0;V&&k==w||(I[D]=k,V=!1)}this.g=I}var m={};function g(x){return-128<=x&&x<128?u(x,function(w){return new h([w|0],w<0?-1:0)}):new h([x|0],x<0?-1:0)}function p(x){if(isNaN(x)||!isFinite(x))return b;if(x<0)return G(p(-x));const w=[];let I=1;for(let V=0;x>=I;V++)w[V]=x/I|0,I*=4294967296;return new h(w,0)}function E(x,w){if(x.length==0)throw Error("number format error: empty string");if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(x.charAt(0)=="-")return G(E(x.substring(1),w));if(x.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=p(Math.pow(w,8));let V=b;for(let k=0;k<x.length;k+=8){var D=Math.min(8,x.length-k);const C=parseInt(x.substring(k,k+D),w);D<8?(D=p(Math.pow(w,D)),V=V.j(D).add(p(C))):(V=V.j(I),V=V.add(p(C)))}return V}var b=g(0),S=g(1),P=g(16777216);i=h.prototype,i.m=function(){if(Q(this))return-G(this).m();let x=0,w=1;for(let I=0;I<this.g.length;I++){const V=this.i(I);x+=(V>=0?V:4294967296+V)*w,w*=4294967296}return x},i.toString=function(x){if(x=x||10,x<2||36<x)throw Error("radix out of range: "+x);if(H(this))return"0";if(Q(this))return"-"+G(this).toString(x);const w=p(Math.pow(x,6));var I=this;let V="";for(;;){const D=Re(I,w).g;I=X(I,D.j(w));let k=((I.g.length>0?I.g[0]:I.h)>>>0).toString(x);if(I=D,H(I))return k+V;for(;k.length<6;)k="0"+k;V=k+V}},i.i=function(x){return x<0?0:x<this.g.length?this.g[x]:this.h};function H(x){if(x.h!=0)return!1;for(let w=0;w<x.g.length;w++)if(x.g[w]!=0)return!1;return!0}function Q(x){return x.h==-1}i.l=function(x){return x=X(this,x),Q(x)?-1:H(x)?0:1};function G(x){const w=x.g.length,I=[];for(let V=0;V<w;V++)I[V]=~x.g[V];return new h(I,~x.h).add(S)}i.abs=function(){return Q(this)?G(this):this},i.add=function(x){const w=Math.max(this.g.length,x.g.length),I=[];let V=0;for(let D=0;D<=w;D++){let k=V+(this.i(D)&65535)+(x.i(D)&65535),C=(k>>>16)+(this.i(D)>>>16)+(x.i(D)>>>16);V=C>>>16,k&=65535,C&=65535,I[D]=C<<16|k}return new h(I,I[I.length-1]&-2147483648?-1:0)};function X(x,w){return x.add(G(w))}i.j=function(x){if(H(this)||H(x))return b;if(Q(this))return Q(x)?G(this).j(G(x)):G(G(this).j(x));if(Q(x))return G(this.j(G(x)));if(this.l(P)<0&&x.l(P)<0)return p(this.m()*x.m());const w=this.g.length+x.g.length,I=[];for(var V=0;V<2*w;V++)I[V]=0;for(V=0;V<this.g.length;V++)for(let D=0;D<x.g.length;D++){const k=this.i(V)>>>16,C=this.i(V)&65535,rt=x.i(D)>>>16,Dt=x.i(D)&65535;I[2*V+2*D]+=C*Dt,ne(I,2*V+2*D),I[2*V+2*D+1]+=k*Dt,ne(I,2*V+2*D+1),I[2*V+2*D+1]+=C*rt,ne(I,2*V+2*D+1),I[2*V+2*D+2]+=k*rt,ne(I,2*V+2*D+2)}for(x=0;x<w;x++)I[x]=I[2*x+1]<<16|I[2*x];for(x=w;x<2*w;x++)I[x]=0;return new h(I,0)};function ne(x,w){for(;(x[w]&65535)!=x[w];)x[w+1]+=x[w]>>>16,x[w]&=65535,w++}function ae(x,w){this.g=x,this.h=w}function Re(x,w){if(H(w))throw Error("division by zero");if(H(x))return new ae(b,b);if(Q(x))return w=Re(G(x),w),new ae(G(w.g),G(w.h));if(Q(w))return w=Re(x,G(w)),new ae(G(w.g),w.h);if(x.g.length>30){if(Q(x)||Q(w))throw Error("slowDivide_ only works with positive integers.");for(var I=S,V=w;V.l(x)<=0;)I=Ce(I),V=Ce(V);var D=Ie(I,1),k=Ie(V,1);for(V=Ie(V,2),I=Ie(I,2);!H(V);){var C=k.add(V);C.l(x)<=0&&(D=D.add(I),k=C),V=Ie(V,1),I=Ie(I,1)}return w=X(x,D.j(w)),new ae(D,w)}for(D=b;x.l(w)>=0;){for(I=Math.max(1,Math.floor(x.m()/w.m())),V=Math.ceil(Math.log(I)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),k=p(I),C=k.j(w);Q(C)||C.l(x)>0;)I-=V,k=p(I),C=k.j(w);H(k)&&(k=S),D=D.add(k),x=X(x,C)}return new ae(D,x)}i.B=function(x){return Re(this,x).h},i.and=function(x){const w=Math.max(this.g.length,x.g.length),I=[];for(let V=0;V<w;V++)I[V]=this.i(V)&x.i(V);return new h(I,this.h&x.h)},i.or=function(x){const w=Math.max(this.g.length,x.g.length),I=[];for(let V=0;V<w;V++)I[V]=this.i(V)|x.i(V);return new h(I,this.h|x.h)},i.xor=function(x){const w=Math.max(this.g.length,x.g.length),I=[];for(let V=0;V<w;V++)I[V]=this.i(V)^x.i(V);return new h(I,this.h^x.h)};function Ce(x){const w=x.g.length+1,I=[];for(let V=0;V<w;V++)I[V]=x.i(V)<<1|x.i(V-1)>>>31;return new h(I,x.h)}function Ie(x,w){const I=w>>5;w%=32;const V=x.g.length-I,D=[];for(let k=0;k<V;k++)D[k]=w>0?x.i(k+I)>>>w|x.i(k+I+1)<<32-w:x.i(k+I);return new h(D,x.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,Ab=s,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.B,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=p,h.fromString=E,us=h}).apply(typeof $E<"u"?$E:typeof self<"u"?self:typeof window<"u"?window:{});var hh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Sb,Xl,wb,bh,rp,Rb,Ib,Cb;(function(){var i,e=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof hh=="object"&&hh];for(var y=0;y<c.length;++y){var v=c[y];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=n(this);function o(c,y){if(y)e:{var v=s;c=c.split(".");for(var A=0;A<c.length-1;A++){var j=c[A];if(!(j in v))break e;v=v[j]}c=c[c.length-1],A=v[c],y=y(A),y!=A&&y!=null&&e(v,c,{configurable:!0,writable:!0,value:y})}}o("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(c){return c||function(y){var v=[],A;for(A in y)Object.prototype.hasOwnProperty.call(y,A)&&v.push([A,y[A]]);return v}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},h=this||self;function m(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function g(c,y,v){return c.call.apply(c.bind,arguments)}function p(c,y,v){return p=g,p.apply(null,arguments)}function E(c,y){var v=Array.prototype.slice.call(arguments,1);return function(){var A=v.slice();return A.push.apply(A,arguments),c.apply(this,A)}}function b(c,y){function v(){}v.prototype=y.prototype,c.Z=y.prototype,c.prototype=new v,c.prototype.constructor=c,c.Ob=function(A,j,F){for(var ie=Array(arguments.length-2),be=2;be<arguments.length;be++)ie[be-2]=arguments[be];return y.prototype[j].apply(A,ie)}}var S=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function P(c){const y=c.length;if(y>0){const v=Array(y);for(let A=0;A<y;A++)v[A]=c[A];return v}return[]}function H(c,y){for(let A=1;A<arguments.length;A++){const j=arguments[A];var v=typeof j;if(v=v!="object"?v:j?Array.isArray(j)?"array":v:"null",v=="array"||v=="object"&&typeof j.length=="number"){v=c.length||0;const F=j.length||0;c.length=v+F;for(let ie=0;ie<F;ie++)c[v+ie]=j[ie]}else c.push(j)}}class Q{constructor(y,v){this.i=y,this.j=v,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function G(c){h.setTimeout(()=>{throw c},0)}function X(){var c=x;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class ne{constructor(){this.h=this.g=null}add(y,v){const A=ae.get();A.set(y,v),this.h?this.h.next=A:this.g=A,this.h=A}}var ae=new Q(()=>new Re,c=>c.reset());class Re{constructor(){this.next=this.g=this.h=null}set(y,v){this.h=y,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let Ce,Ie=!1,x=new ne,w=()=>{const c=Promise.resolve(void 0);Ce=()=>{c.then(I)}};function I(){for(var c;c=X();){try{c.h.call(c.g)}catch(v){G(v)}var y=ae;y.j(c),y.h<100&&(y.h++,c.next=y.g,y.g=c)}Ie=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var k=(function(){if(!h.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};h.addEventListener("test",v,y),h.removeEventListener("test",v,y)}catch{}return c})();function C(c){return/^[\s\xa0]*$/.test(c)}function rt(c,y){D.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,y)}b(rt,D),rt.prototype.init=function(c,y){const v=this.type=c.type,A=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget,y||(v=="mouseover"?y=c.fromElement:v=="mouseout"&&(y=c.toElement)),this.relatedTarget=y,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&rt.Z.h.call(this)},rt.prototype.h=function(){rt.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Dt="closure_listenable_"+(Math.random()*1e6|0),$=0;function re(c,y,v,A,j){this.listener=c,this.proxy=null,this.src=y,this.type=v,this.capture=!!A,this.ha=j,this.key=++$,this.da=this.fa=!1}function me(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function je(c,y,v){for(const A in c)y.call(v,c[A],A,c)}function Ge(c,y){for(const v in c)y.call(void 0,c[v],v,c)}function M(c){const y={};for(const v in c)y[v]=c[v];return y}const ee="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function se(c,y){let v,A;for(let j=1;j<arguments.length;j++){A=arguments[j];for(v in A)c[v]=A[v];for(let F=0;F<ee.length;F++)v=ee[F],Object.prototype.hasOwnProperty.call(A,v)&&(c[v]=A[v])}}function ue(c){this.src=c,this.g={},this.h=0}ue.prototype.add=function(c,y,v,A,j){const F=c.toString();c=this.g[F],c||(c=this.g[F]=[],this.h++);const ie=Se(c,y,A,j);return ie>-1?(y=c[ie],v||(y.fa=!1)):(y=new re(y,this.src,F,!!A,j),y.fa=v,c.push(y)),y};function _e(c,y){const v=y.type;if(v in c.g){var A=c.g[v],j=Array.prototype.indexOf.call(A,y,void 0),F;(F=j>=0)&&Array.prototype.splice.call(A,j,1),F&&(me(y),c.g[v].length==0&&(delete c.g[v],c.h--))}}function Se(c,y,v,A){for(let j=0;j<c.length;++j){const F=c[j];if(!F.da&&F.listener==y&&F.capture==!!v&&F.ha==A)return j}return-1}var ke="closure_lm_"+(Math.random()*1e6|0),Ot={};function st(c,y,v,A,j){if(Array.isArray(y)){for(let F=0;F<y.length;F++)st(c,y[F],v,A,j);return null}return v=Bo(v),c&&c[Dt]?c.J(y,v,m(A)?!!A.capture:!1,j):Ts(c,y,v,!1,A,j)}function Ts(c,y,v,A,j,F){if(!y)throw Error("Invalid event type");const ie=m(j)?!!j.capture:!!j;let be=bs(c);if(be||(c[ke]=be=new ue(c)),v=be.add(y,v,A,ie,F),v.proxy)return v;if(A=va(),v.proxy=A,A.src=c,A.listener=v,c.addEventListener)k||(j=ie),j===void 0&&(j=!1),c.addEventListener(y.toString(),A,j);else if(c.attachEvent)c.attachEvent(ci(y.toString()),A);else if(c.addListener&&c.removeListener)c.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return v}function va(){function c(v){return y.call(c.src,c.listener,v)}const y=jo;return c}function Ea(c,y,v,A,j){if(Array.isArray(y))for(var F=0;F<y.length;F++)Ea(c,y[F],v,A,j);else A=m(A)?!!A.capture:!!A,v=Bo(v),c&&c[Dt]?(c=c.i,F=String(y).toString(),F in c.g&&(y=c.g[F],v=Se(y,v,A,j),v>-1&&(me(y[v]),Array.prototype.splice.call(y,v,1),y.length==0&&(delete c.g[F],c.h--)))):c&&(c=bs(c))&&(y=c.g[y.toString()],c=-1,y&&(c=Se(y,v,A,j)),(v=c>-1?y[c]:null)&&Ta(v))}function Ta(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[Dt])_e(y.i,c);else{var v=c.type,A=c.proxy;y.removeEventListener?y.removeEventListener(v,A,c.capture):y.detachEvent?y.detachEvent(ci(v),A):y.addListener&&y.removeListener&&y.removeListener(A),(v=bs(y))?(_e(v,c),v.h==0&&(v.src=null,y[ke]=null)):me(c)}}}function ci(c){return c in Ot?Ot[c]:Ot[c]="on"+c}function jo(c,y){if(c.da)c=!0;else{y=new rt(y,this);const v=c.listener,A=c.ha||c.src;c.fa&&Ta(c),c=v.call(A,y)}return c}function bs(c){return c=c[ke],c instanceof ue?c:null}var zo="__closure_events_fn_"+(Math.random()*1e9>>>0);function Bo(c){return typeof c=="function"?c:(c[zo]||(c[zo]=function(y){return c.handleEvent(y)}),c[zo])}function vt(){V.call(this),this.i=new ue(this),this.M=this,this.G=null}b(vt,V),vt.prototype[Dt]=!0,vt.prototype.removeEventListener=function(c,y,v,A){Ea(this,c,y,v,A)};function Mt(c,y){var v,A=c.G;if(A)for(v=[];A;A=A.G)v.push(A);if(c=c.M,A=y.type||y,typeof y=="string")y=new D(y,c);else if(y instanceof D)y.target=y.target||c;else{var j=y;y=new D(A,c),se(y,j)}j=!0;let F,ie;if(v)for(ie=v.length-1;ie>=0;ie--)F=y.g=v[ie],j=br(F,A,!0,y)&&j;if(F=y.g=c,j=br(F,A,!0,y)&&j,j=br(F,A,!1,y)&&j,v)for(ie=0;ie<v.length;ie++)F=y.g=v[ie],j=br(F,A,!1,y)&&j}vt.prototype.N=function(){if(vt.Z.N.call(this),this.i){var c=this.i;for(const y in c.g){const v=c.g[y];for(let A=0;A<v.length;A++)me(v[A]);delete c.g[y],c.h--}}this.G=null},vt.prototype.J=function(c,y,v,A){return this.i.add(String(c),y,!1,v,A)},vt.prototype.K=function(c,y,v,A){return this.i.add(String(c),y,!0,v,A)};function br(c,y,v,A){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();let j=!0;for(let F=0;F<y.length;++F){const ie=y[F];if(ie&&!ie.da&&ie.capture==v){const be=ie.listener,dt=ie.ha||ie.src;ie.fa&&_e(c.i,ie),j=be.call(dt,A)!==!1&&j}}return j&&!A.defaultPrevented}function Rf(c,y){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=p(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:h.setTimeout(c,y||0)}function Vu(c){c.g=Rf(()=>{c.g=null,c.i&&(c.i=!1,Vu(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class en extends V{constructor(y,v){super(),this.m=y,this.l=v,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Vu(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function As(c){V.call(this),this.h=c,this.g={}}b(As,V);var qo=[];function Ho(c){je(c.g,function(y,v){this.g.hasOwnProperty(v)&&Ta(y)},c),c.g={}}As.prototype.N=function(){As.Z.N.call(this),Ho(this)},As.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ar=h.JSON.stringify,If=h.JSON.parse,Pu=class{stringify(c){return h.JSON.stringify(c,void 0)}parse(c){return h.JSON.parse(c,void 0)}};function Lu(){}function ku(){}var qn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function zt(){D.call(this,"d")}b(zt,D);function wn(){D.call(this,"c")}b(wn,D);var ft={},Uu=null;function ba(){return Uu=Uu||new vt}ft.Ia="serverreachability";function ju(c){D.call(this,ft.Ia,c)}b(ju,D);function hi(c){const y=ba();Mt(y,new ju(y))}ft.STAT_EVENT="statevent";function Ss(c,y){D.call(this,ft.STAT_EVENT,c),this.stat=y}b(Ss,D);function Et(c){const y=ba();Mt(y,new Ss(y,c))}ft.Ja="timingevent";function fi(c,y){D.call(this,ft.Ja,c),this.size=y}b(fi,D);function di(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){c()},y)}function Hn(){this.g=!0}Hn.prototype.ua=function(){this.g=!1};function Cf(c,y,v,A,j,F){c.info(function(){if(c.g)if(F){var ie="",be=F.split("&");for(let qe=0;qe<be.length;qe++){var dt=be[qe].split("=");if(dt.length>1){const at=dt[0];dt=dt[1];const Nn=at.split("_");ie=Nn.length>=2&&Nn[1]=="type"?ie+(at+"="+dt+"&"):ie+(at+"=redacted&")}}}else ie=null;else ie=F;return"XMLHTTP REQ ("+A+") [attempt "+j+"]: "+y+`
`+v+`
`+ie})}function zu(c,y,v,A,j,F,ie){c.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+j+"]: "+y+`
`+v+`
`+F+" "+ie})}function mi(c,y,v,A){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+Nf(c,v)+(A?" "+A:"")})}function ws(c,y){c.info(function(){return"TIMEOUT: "+y})}Hn.prototype.info=function(){};function Nf(c,y){if(!c.g)return y;if(!y)return null;try{const F=JSON.parse(y);if(F){for(c=0;c<F.length;c++)if(Array.isArray(F[c])){var v=F[c];if(!(v.length<2)){var A=v[1];if(Array.isArray(A)&&!(A.length<1)){var j=A[0];if(j!="noop"&&j!="stop"&&j!="close")for(let ie=1;ie<A.length;ie++)A[ie]=""}}}}return Ar(F)}catch{return y}}var Rs={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Fo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Go;function Is(){}b(Is,Lu),Is.prototype.g=function(){return new XMLHttpRequest},Go=new Is;function Fi(c){return encodeURIComponent(String(c))}function Bu(c){var y=1;c=c.split(":");const v=[];for(;y>0&&c.length;)v.push(c.shift()),y--;return c.length&&v.push(c.join(":")),v}function Fn(c,y,v,A){this.j=c,this.i=y,this.l=v,this.S=A||1,this.V=new As(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Gn}function Gn(){this.i=null,this.g="",this.h=!1}var Tt={},Lt={};function pi(c,y,v){c.M=1,c.A=Cs(At(y)),c.u=v,c.R=!0,Aa(c,null)}function Aa(c,y){c.F=Date.now(),gi(c),c.B=At(c.A);var v=c.B,A=c.S;Array.isArray(A)||(A=[String(A)]),Ia(v.i,"t",A),c.C=0,v=c.j.L,c.h=new Gn,c.g=nc(c.j,v?y:null,!c.u),c.P>0&&(c.O=new en(p(c.Y,c,c.g),c.P)),y=c.V,v=c.g,A=c.ba;var j="readystatechange";Array.isArray(j)||(j&&(qo[0]=j.toString()),j=qo);for(let F=0;F<j.length;F++){const ie=st(v,j[F],A||y.handleEvent,!1,y.h||y);if(!ie)break;y.g[ie.key]=ie}y=c.J?M(c.J):{},c.u?(c.v||(c.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,y)):(c.v="GET",c.g.ea(c.B,c.v,null,y)),hi(),Cf(c.i,c.v,c.B,c.l,c.S,c.u)}Fn.prototype.ba=function(c){c=c.target;const y=this.O;y&&Yn(c)==3?y.j():this.Y(c)},Fn.prototype.Y=function(c){try{if(c==this.g)e:{const be=Yn(this.g),dt=this.g.ya(),qe=this.g.ca();if(!(be<3)&&(be!=3||this.g&&(this.h.h||this.g.la()||Bt(this.g)))){this.K||be!=4||dt==7||(dt==8||qe<=0?hi(3):hi(2)),yi(this);var y=this.g.ca();this.X=y;var v=xf(this);if(this.o=y==200,zu(this.i,this.v,this.B,this.l,this.S,be,y),this.o){if(this.U&&!this.L){t:{if(this.g){var A,j=this.g;if((A=j.g?j.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!C(A)){var F=A;break t}}F=null}if(c=F)mi(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,_i(this,c);else{this.o=!1,this.m=3,Et(12),dn(this),Rn(this);break e}}if(this.R){c=!0;let at;for(;!this.K&&this.C<v.length;)if(at=Hu(this,v),at==Lt){be==4&&(this.m=4,Et(14),c=!1),mi(this.i,this.l,null,"[Incomplete Response]");break}else if(at==Tt){this.m=4,Et(15),mi(this.i,this.l,v,"[Invalid Chunk]"),c=!1;break}else mi(this.i,this.l,at,null),_i(this,at);if(qu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),be!=4||v.length!=0||this.h.h||(this.m=1,Et(16),c=!1),this.o=this.o&&c,!c)mi(this.i,this.l,v,"[Invalid Chunked Response]"),dn(this),Rn(this);else if(v.length>0&&!this.W){this.W=!0;var ie=this.j;ie.g==this&&ie.aa&&!ie.P&&(ie.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),al(ie),ie.P=!0,Et(11))}}else mi(this.i,this.l,v,null),_i(this,v);be==4&&dn(this),this.o&&!this.K&&(be==4?Wu(this.j,this):(this.o=!1,gi(this)))}else Ki(this.g),y==400&&v.indexOf("Unknown SID")>0?(this.m=3,Et(12)):(this.m=0,Et(13)),dn(this),Rn(this)}}}catch{}finally{}};function xf(c){if(!qu(c))return c.g.la();const y=Bt(c.g);if(y==="")return"";let v="";const A=y.length,j=Yn(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return dn(c),Rn(c),"";c.h.i=new h.TextDecoder}for(let F=0;F<A;F++)c.h.h=!0,v+=c.h.i.decode(y[F],{stream:!(j&&F==A-1)});return y.length=0,c.h.g+=v,c.C=0,c.h.g}function qu(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function Hu(c,y){var v=c.C,A=y.indexOf(`
`,v);return A==-1?Lt:(v=Number(y.substring(v,A)),isNaN(v)?Tt:(A+=1,A+v>y.length?Lt:(y=y.slice(A,A+v),c.C=A+v,y)))}Fn.prototype.cancel=function(){this.K=!0,dn(this)};function gi(c){c.T=Date.now()+c.H,Sa(c,c.H)}function Sa(c,y){if(c.D!=null)throw Error("WatchDog timer not null");c.D=di(p(c.aa,c),y)}function yi(c){c.D&&(h.clearTimeout(c.D),c.D=null)}Fn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(ws(this.i,this.B),this.M!=2&&(hi(),Et(17)),dn(this),this.m=2,Rn(this)):Sa(this,this.T-c)};function Rn(c){c.j.I==0||c.K||Wu(c.j,c)}function dn(c){yi(c);var y=c.O;y&&typeof y.dispose=="function"&&y.dispose(),c.O=null,Ho(c.V),c.g&&(y=c.g,c.g=null,y.abort(),y.dispose())}function _i(c,y){try{var v=c.j;if(v.I!=0&&(v.g==c||Ei(v.h,c))){if(!c.L&&Ei(v.h,c)&&v.I==3){try{var A=v.Ba.g.parse(y)}catch{A=null}if(Array.isArray(A)&&A.length==3){var j=A;if(j[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<c.F)Oa(v),Dr(v);else break e;Ps(v),Et(18)}}else v.xa=j[1],0<v.xa-v.K&&j[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=di(p(v.Va,v),6e3));vi(v.h)<=1&&v.ta&&(v.ta=void 0)}else Ri(v,11)}else if((c.L||v.g==c)&&Oa(v),!C(y))for(j=v.Ba.g.parse(y),y=0;y<j.length;y++){let qe=j[y];const at=qe[0];if(!(at<=v.K))if(v.K=at,qe=qe[1],v.I==2)if(qe[0]=="c"){v.M=qe[1],v.ba=qe[2];const Nn=qe[3];Nn!=null&&(v.ka=Nn,v.j.info("VER="+v.ka));const Ii=qe[4];Ii!=null&&(v.za=Ii,v.j.info("SVER="+v.za));const $n=qe[5];$n!=null&&typeof $n=="number"&&$n>0&&(A=1.5*$n,v.O=A,v.j.info("backChannelRequestTimeoutMs_="+A)),A=v;const Xn=c.g;if(Xn){const Ls=Xn.g?Xn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ls){var F=A.h;F.g||Ls.indexOf("spdy")==-1&&Ls.indexOf("quic")==-1&&Ls.indexOf("h2")==-1||(F.j=F.l,F.g=new Set,F.h&&(Yo(F,F.h),F.h=null))}if(A.G){const Ma=Xn.g?Xn.g.getResponseHeader("X-HTTP-Session-Id"):null;Ma&&(A.wa=Ma,Ke(A.J,A.G,Ma))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-c.F,v.j.info("Handshake RTT: "+v.T+"ms")),A=v;var ie=c;if(A.na=tc(A,A.L?A.ba:null,A.W),ie.L){$o(A.h,ie);var be=ie,dt=A.O;dt&&(be.H=dt),be.D&&(yi(be),gi(be)),A.g=ie}else Xu(A);v.i.length>0&&wi(v)}else qe[0]!="stop"&&qe[0]!="close"||Ri(v,7);else v.I==3&&(qe[0]=="stop"||qe[0]=="close"?qe[0]=="stop"?Ri(v,7):rl(v):qe[0]!="noop"&&v.l&&v.l.qa(qe),v.A=0)}}hi(4)}catch{}}var bt=class{constructor(c,y){this.g=c,this.map=y}};function Ko(c){this.l=c||10,h.PerformanceNavigationTiming?(c=h.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Qo(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function vi(c){return c.h?1:c.g?c.g.size:0}function Ei(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function Yo(c,y){c.g?c.g.add(y):c.h=y}function $o(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}Ko.prototype.cancel=function(){if(this.i=Xo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Xo(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const v of c.g.values())y=y.concat(v.G);return y}return P(c.i)}var Fu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function wa(c,y){if(c){c=c.split("&");for(let v=0;v<c.length;v++){const A=c[v].indexOf("=");let j,F=null;A>=0?(j=c[v].substring(0,A),F=c[v].substring(A+1)):j=c[v],y(j,F?decodeURIComponent(F.replace(/\+/g," ")):"")}}}function mn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;c instanceof mn?(this.l=c.l,kt(this,c.j),this.o=c.o,this.g=c.g,Sr(this,c.u),this.h=c.h,Jo(this,Yu(c.i)),this.m=c.m):c&&(y=String(c).match(Fu))?(this.l=!1,kt(this,y[1]||"",!0),this.o=Ti(y[2]||""),this.g=Ti(y[3]||"",!0),Sr(this,y[4]),this.h=Ti(y[5]||"",!0),Jo(this,y[6]||"",!0),this.m=Ti(y[7]||"")):(this.l=!1,this.i=new Rr(null,this.l))}mn.prototype.toString=function(){const c=[];var y=this.j;y&&c.push(Ns(y,Ra,!0),":");var v=this.g;return(v||y=="file")&&(c.push("//"),(y=this.o)&&c.push(Ns(y,Ra,!0),"@"),c.push(Fi(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&c.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(Ns(v,v.charAt(0)=="/"?Wo:Gu,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",Ns(v,Ku)),c.join("")},mn.prototype.resolve=function(c){const y=At(this);let v=!!c.j;v?kt(y,c.j):v=!!c.o,v?y.o=c.o:v=!!c.g,v?y.g=c.g:v=c.u!=null;var A=c.h;if(v)Sr(y,c.u);else if(v=!!c.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var j=y.h.lastIndexOf("/");j!=-1&&(A=y.h.slice(0,j+1)+A)}if(j=A,j==".."||j==".")A="";else if(j.indexOf("./")!=-1||j.indexOf("/.")!=-1){A=j.lastIndexOf("/",0)==0,j=j.split("/");const F=[];for(let ie=0;ie<j.length;){const be=j[ie++];be=="."?A&&ie==j.length&&F.push(""):be==".."?((F.length>1||F.length==1&&F[0]!="")&&F.pop(),A&&ie==j.length&&F.push("")):(F.push(be),A=!0)}A=F.join("/")}else A=j}return v?y.h=A:v=c.i.toString()!=="",v?Jo(y,Yu(c.i)):v=!!c.m,v&&(y.m=c.m),y};function At(c){return new mn(c)}function kt(c,y,v){c.j=v?Ti(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function Sr(c,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);c.u=y}else c.u=null}function Jo(c,y,v){y instanceof Rr?(c.i=y,Ca(c.i,c.l)):(v||(y=Ns(y,wr)),c.i=new Rr(y,c.l))}function Ke(c,y,v){c.i.set(y,v)}function Cs(c){return Ke(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function Ti(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Ns(c,y,v){return typeof c=="string"?(c=encodeURI(c).replace(y,sn),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function sn(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Ra=/[#\/\?@]/g,Gu=/[#\?:]/g,Wo=/[#\?]/g,wr=/[#\?@]/g,Ku=/#/g;function Rr(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function an(c){c.g||(c.g=new Map,c.h=0,c.i&&wa(c.i,function(y,v){c.add(decodeURIComponent(y.replace(/\+/g," ")),v)}))}i=Rr.prototype,i.add=function(c,y){an(this),this.i=null,c=Ir(this,c);let v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(y),this.h+=1,this};function Qu(c,y){an(c),y=Ir(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function Zo(c,y){return an(c),y=Ir(c,y),c.g.has(y)}i.forEach=function(c,y){an(this),this.g.forEach(function(v,A){v.forEach(function(j){c.call(y,j,A,this)},this)},this)};function el(c,y){an(c);let v=[];if(typeof y=="string")Zo(c,y)&&(v=v.concat(c.g.get(Ir(c,y))));else for(c=Array.from(c.g.values()),y=0;y<c.length;y++)v=v.concat(c[y]);return v}i.set=function(c,y){return an(this),this.i=null,c=Ir(this,c),Zo(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},i.get=function(c,y){return c?(c=el(this,c),c.length>0?String(c[0]):y):y};function Ia(c,y,v){Qu(c,y),v.length>0&&(c.i=null,c.g.set(Ir(c,y),P(v)),c.h+=v.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(let A=0;A<y.length;A++){var v=y[A];const j=Fi(v);v=el(this,v);for(let F=0;F<v.length;F++){let ie=j;v[F]!==""&&(ie+="="+Fi(v[F])),c.push(ie)}}return this.i=c.join("&")};function Yu(c){const y=new Rr;return y.i=c.i,c.g&&(y.g=new Map(c.g),y.h=c.h),y}function Ir(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function Ca(c,y){y&&!c.j&&(an(c),c.i=null,c.g.forEach(function(v,A){const j=A.toLowerCase();A!=j&&(Qu(this,A),Ia(this,j,v))},c)),c.j=y}function Kn(c,y){const v=new Hn;if(h.Image){const A=new Image;A.onload=E(In,v,"TestLoadImage: loaded",!0,y,A),A.onerror=E(In,v,"TestLoadImage: error",!1,y,A),A.onabort=E(In,v,"TestLoadImage: abort",!1,y,A),A.ontimeout=E(In,v,"TestLoadImage: timeout",!1,y,A),h.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=c}else y(!1)}function tl(c,y){const v=new Hn,A=new AbortController,j=setTimeout(()=>{A.abort(),In(v,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:A.signal}).then(F=>{clearTimeout(j),F.ok?In(v,"TestPingServer: ok",!0,y):In(v,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(j),In(v,"TestPingServer: error",!1,y)})}function In(c,y,v,A,j){try{j&&(j.onload=null,j.onerror=null,j.onabort=null,j.ontimeout=null),A(v)}catch{}}function Cr(){this.g=new Pu}function bi(c){this.i=c.Sb||null,this.h=c.ab||!1}b(bi,Lu),bi.prototype.g=function(){return new xs(this.i,this.h)};function xs(c,y){vt.call(this),this.H=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}b(xs,vt),i=xs.prototype,i.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=y,this.readyState=1,Qn(this)},i.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(y.body=c),(this.H||h).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Nr(this)),this.readyState=0},i.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Qn(this)),this.g&&(this.readyState=3,Qn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Na(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function Na(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}i.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?Nr(this):Qn(this),this.readyState==3&&Na(this)}},i.Oa=function(c){this.g&&(this.response=this.responseText=c,Nr(this))},i.Na=function(c){this.g&&(this.response=c,Nr(this))},i.ga=function(){this.g&&Nr(this)};function Nr(c){c.readyState=4,c.l=null,c.j=null,c.B=null,Qn(c)}i.setRequestHeader=function(c,y){this.A.append(c,y)},i.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var v=y.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=y.next();return c.join(`\r
`)};function Qn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(xs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Cn(c){let y="";return je(c,function(v,A){y+=A,y+=":",y+=v,y+=`\r
`}),y}function Ds(c,y,v){e:{for(A in v){var A=!1;break e}A=!0}A||(v=Cn(v),typeof c=="string"?v!=null&&Fi(v):Ke(c,y,v))}function $e(c){vt.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}b($e,vt);var Ai=/^https?$/i,nl=["POST","PUT"];i=$e.prototype,i.Fa=function(c){this.H=c},i.ea=function(c,y,v,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Go.g(),this.g.onreadystatechange=S(p(this.Ca,this));try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(F){Os(this,F);return}if(c=v||"",v=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var j in A)v.set(j,A[j]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const F of A.keys())v.set(F,A.get(F));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(v.keys()).find(F=>F.toLowerCase()=="content-type"),j=h.FormData&&c instanceof h.FormData,!(Array.prototype.indexOf.call(nl,y,void 0)>=0)||A||j||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[F,ie]of v)this.g.setRequestHeader(F,ie);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(F){Os(this,F)}};function Os(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.o=5,il(c),Gi(c)}function il(c){c.A||(c.A=!0,Mt(c,"complete"),Mt(c,"error"))}i.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,Mt(this,"complete"),Mt(this,"abort"),Gi(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Gi(this,!0)),$e.Z.N.call(this)},i.Ca=function(){this.u||(this.B||this.v||this.j?Ms(this):this.Xa())},i.Xa=function(){Ms(this)};function Ms(c){if(c.h&&typeof u<"u"){if(c.v&&Yn(c)==4)setTimeout(c.Ca.bind(c),0);else if(Mt(c,"readystatechange"),Yn(c)==4){c.h=!1;try{const F=c.ca();e:switch(F){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var v;if(!(v=y)){var A;if(A=F===0){let ie=String(c.D).match(Fu)[1]||null;!ie&&h.self&&h.self.location&&(ie=h.self.location.protocol.slice(0,-1)),A=!Ai.test(ie?ie.toLowerCase():"")}v=A}if(v)Mt(c,"complete"),Mt(c,"success");else{c.o=6;try{var j=Yn(c)>2?c.g.statusText:""}catch{j=""}c.l=j+" ["+c.ca()+"]",il(c)}}finally{Gi(c)}}}}function Gi(c,y){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const v=c.g;c.g=null,y||Mt(c,"ready");try{v.onreadystatechange=null}catch{}}}i.isActive=function(){return!!this.g};function Yn(c){return c.g?c.g.readyState:0}i.ca=function(){try{return Yn(this)>2?this.g.status:-1}catch{return-1}},i.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.La=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),If(y)}};function Bt(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Ki(c){const y={};c=(c.g&&Yn(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<c.length;A++){if(C(c[A]))continue;var v=Bu(c[A]);const j=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const F=y[j]||[];y[j]=F,F.push(v)}Ge(y,function(A){return A.join(", ")})}i.ya=function(){return this.o},i.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Si(c,y,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||y}function xr(c){this.za=0,this.i=[],this.j=new Hn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Si("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Si("baseRetryDelayMs",5e3,c),this.Za=Si("retryDelaySeedMs",1e4,c),this.Ta=Si("forwardChannelMaxRetries",2,c),this.va=Si("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new Ko(c&&c.concurrentRequestLimit),this.Ba=new Cr,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}i=xr.prototype,i.ka=8,i.I=1,i.connect=function(c,y,v,A){Et(0),this.W=c,this.H=y||{},v&&A!==void 0&&(this.H.OSID=v,this.H.OAID=A),this.F=this.X,this.J=tc(this,null,this.W),wi(this)};function rl(c){if(xa(c),c.I==3){var y=c.V++,v=At(c.J);if(Ke(v,"SID",c.M),Ke(v,"RID",y),Ke(v,"TYPE","terminate"),Vs(c,v),y=new Fn(c,c.j,y),y.M=2,y.A=Cs(At(v)),v=!1,h.navigator&&h.navigator.sendBeacon)try{v=h.navigator.sendBeacon(y.A.toString(),"")}catch{}!v&&h.Image&&(new Image().src=y.A,v=!0),v||(y.g=nc(y.j,null),y.g.ea(y.A)),y.F=Date.now(),gi(y)}ec(c)}function Dr(c){c.g&&(al(c),c.g.cancel(),c.g=null)}function xa(c){Dr(c),c.v&&(h.clearTimeout(c.v),c.v=null),Oa(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&h.clearTimeout(c.m),c.m=null)}function wi(c){if(!Qo(c.h)&&!c.m){c.m=!0;var y=c.Ea;Ce||w(),Ie||(Ce(),Ie=!0),x.add(y,c),c.D=0}}function Da(c,y){return vi(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=y.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=di(p(c.Ea,c,y),Zu(c,c.D)),c.D++,!0)}i.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const j=new Fn(this,this.j,c);let F=this.o;if(this.U&&(F?(F=M(F),se(F,this.U)):F=this.U),this.u!==null||this.R||(j.J=F,F=null),this.S)e:{for(var y=0,v=0;v<this.i.length;v++){t:{var A=this.i[v];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(y+=A,y>4096){y=v;break e}if(y===4096||v===this.i.length-1){y=v+1;break e}}y=1e3}else y=1e3;y=$u(this,j,y),v=At(this.J),Ke(v,"RID",c),Ke(v,"CVER",22),this.G&&Ke(v,"X-HTTP-Session-Id",this.G),Vs(this,v),F&&(this.R?y="headers="+Fi(Cn(F))+"&"+y:this.u&&Ds(v,this.u,F)),Yo(this.h,j),this.Ra&&Ke(v,"TYPE","init"),this.S?(Ke(v,"$req",y),Ke(v,"SID","null"),j.U=!0,pi(j,v,null)):pi(j,v,y),this.I=2}}else this.I==3&&(c?sl(this,c):this.i.length==0||Qo(this.h)||sl(this))};function sl(c,y){var v;y?v=y.l:v=c.V++;const A=At(c.J);Ke(A,"SID",c.M),Ke(A,"RID",v),Ke(A,"AID",c.K),Vs(c,A),c.u&&c.o&&Ds(A,c.u,c.o),v=new Fn(c,c.j,v,c.D+1),c.u===null&&(v.J=c.o),y&&(c.i=y.G.concat(c.i)),y=$u(c,v,1e3),v.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),Yo(c.h,v),pi(v,A,y)}function Vs(c,y){c.H&&je(c.H,function(v,A){Ke(y,A,v)}),c.l&&je({},function(v,A){Ke(y,A,v)})}function $u(c,y,v){v=Math.min(c.i.length,v);const A=c.l?p(c.l.Ka,c.l,c):null;e:{var j=c.i;let be=-1;for(;;){const dt=["count="+v];be==-1?v>0?(be=j[0].g,dt.push("ofs="+be)):be=0:dt.push("ofs="+be);let qe=!0;for(let at=0;at<v;at++){var F=j[at].g;const Nn=j[at].map;if(F-=be,F<0)be=Math.max(0,j[at].g-100),qe=!1;else try{F="req"+F+"_"||"";try{var ie=Nn instanceof Map?Nn:Object.entries(Nn);for(const[Ii,$n]of ie){let Xn=$n;m($n)&&(Xn=Ar($n)),dt.push(F+Ii+"="+encodeURIComponent(Xn))}}catch(Ii){throw dt.push(F+"type="+encodeURIComponent("_badmap")),Ii}}catch{A&&A(Nn)}}if(qe){ie=dt.join("&");break e}}ie=void 0}return c=c.i.splice(0,v),y.G=c,ie}function Xu(c){if(!c.g&&!c.v){c.Y=1;var y=c.Da;Ce||w(),Ie||(Ce(),Ie=!0),x.add(y,c),c.A=0}}function Ps(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=di(p(c.Da,c),Zu(c,c.A)),c.A++,!0)}i.Da=function(){if(this.v=null,Ju(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=di(p(this.Wa,this),c)}},i.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Et(10),Dr(this),Ju(this))};function al(c){c.B!=null&&(h.clearTimeout(c.B),c.B=null)}function Ju(c){c.g=new Fn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var y=At(c.na);Ke(y,"RID","rpc"),Ke(y,"SID",c.M),Ke(y,"AID",c.K),Ke(y,"CI",c.F?"0":"1"),!c.F&&c.ia&&Ke(y,"TO",c.ia),Ke(y,"TYPE","xmlhttp"),Vs(c,y),c.u&&c.o&&Ds(y,c.u,c.o),c.O&&(c.g.H=c.O);var v=c.g;c=c.ba,v.M=1,v.A=Cs(At(y)),v.u=null,v.R=!0,Aa(v,c)}i.Va=function(){this.C!=null&&(this.C=null,Dr(this),Ps(this),Et(19))};function Oa(c){c.C!=null&&(h.clearTimeout(c.C),c.C=null)}function Wu(c,y){var v=null;if(c.g==y){Oa(c),al(c),c.g=null;var A=2}else if(Ei(c.h,y))v=y.G,$o(c.h,y),A=1;else return;if(c.I!=0){if(y.o)if(A==1){v=y.u?y.u.length:0,y=Date.now()-y.F;var j=c.D;A=ba(),Mt(A,new fi(A,v)),wi(c)}else Xu(c);else if(j=y.m,j==3||j==0&&y.X>0||!(A==1&&Da(c,y)||A==2&&Ps(c)))switch(v&&v.length>0&&(y=c.h,y.i=y.i.concat(v)),j){case 1:Ri(c,5);break;case 4:Ri(c,10);break;case 3:Ri(c,6);break;default:Ri(c,2)}}}function Zu(c,y){let v=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(v*=2),v*y}function Ri(c,y){if(c.j.info("Error code "+y),y==2){var v=p(c.bb,c),A=c.Ua;const j=!A;A=new mn(A||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||kt(A,"https"),Cs(A),j?Kn(A.toString(),v):tl(A.toString(),v)}else Et(2);c.I=0,c.l&&c.l.pa(y),ec(c),xa(c)}i.bb=function(c){c?(this.j.info("Successfully pinged google.com"),Et(2)):(this.j.info("Failed to ping google.com"),Et(1))};function ec(c){if(c.I=0,c.ja=[],c.l){const y=Xo(c.h);(y.length!=0||c.i.length!=0)&&(H(c.ja,y),H(c.ja,c.i),c.h.i.length=0,P(c.i),c.i.length=0),c.l.oa()}}function tc(c,y,v){var A=v instanceof mn?At(v):new mn(v);if(A.g!="")y&&(A.g=y+"."+A.g),Sr(A,A.u);else{var j=h.location;A=j.protocol,y=y?y+"."+j.hostname:j.hostname,j=+j.port;const F=new mn(null);A&&kt(F,A),y&&(F.g=y),j&&Sr(F,j),v&&(F.h=v),A=F}return v=c.G,y=c.wa,v&&y&&Ke(A,v,y),Ke(A,"VER",c.ka),Vs(c,A),A}function nc(c,y,v){if(y&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Aa&&!c.ma?new $e(new bi({ab:v})):new $e(c.ma),y.Fa(c.L),y}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function ic(){}i=ic.prototype,i.ra=function(){},i.qa=function(){},i.pa=function(){},i.oa=function(){},i.isActive=function(){return!0},i.Ka=function(){};function Or(){}Or.prototype.g=function(c,y){return new tn(c,y)};function tn(c,y){vt.call(this),this.g=new xr(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(c?c["X-WebChannel-Client-Profile"]=y.sa:c={"X-WebChannel-Client-Profile":y.sa}),this.g.U=c,(c=y&&y.Qb)&&!C(c)&&(this.g.u=c),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!C(y)&&(this.g.G=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new Qi(this)}b(tn,vt),tn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},tn.prototype.close=function(){rl(this.g)},tn.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.v&&(v={},v.__data__=Ar(c),c=v);y.i.push(new bt(y.Ya++,c)),y.I==3&&wi(y)},tn.prototype.N=function(){this.g.l=null,delete this.j,rl(this.g),delete this.g,tn.Z.N.call(this)};function rc(c){zt.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const v in y){c=v;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}b(rc,zt);function sc(){wn.call(this),this.status=1}b(sc,wn);function Qi(c){this.g=c}b(Qi,ic),Qi.prototype.ra=function(){Mt(this.g,"a")},Qi.prototype.qa=function(c){Mt(this.g,new rc(c))},Qi.prototype.pa=function(c){Mt(this.g,new sc)},Qi.prototype.oa=function(){Mt(this.g,"b")},Or.prototype.createWebChannel=Or.prototype.g,tn.prototype.send=tn.prototype.o,tn.prototype.open=tn.prototype.m,tn.prototype.close=tn.prototype.close,Cb=function(){return new Or},Ib=function(){return ba()},Rb=ft,rp={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Rs.NO_ERROR=0,Rs.TIMEOUT=8,Rs.HTTP_ERROR=6,bh=Rs,Fo.COMPLETE="complete",wb=Fo,ku.EventType=qn,qn.OPEN="a",qn.CLOSE="b",qn.ERROR="c",qn.MESSAGE="d",vt.prototype.listen=vt.prototype.J,Xl=ku,$e.prototype.listenOnce=$e.prototype.K,$e.prototype.getLastError=$e.prototype.Ha,$e.prototype.getLastErrorCode=$e.prototype.ya,$e.prototype.getStatus=$e.prototype.ca,$e.prototype.getResponseJson=$e.prototype.La,$e.prototype.getResponseText=$e.prototype.la,$e.prototype.send=$e.prototype.ea,$e.prototype.setWithCredentials=$e.prototype.Fa,Sb=$e}).apply(typeof hh<"u"?hh:typeof self<"u"?self:typeof window<"u"?window:{});const XE="@firebase/firestore",JE="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Jt.UNAUTHENTICATED=new Jt(null),Jt.GOOGLE_CREDENTIALS=new Jt("google-credentials-uid"),Jt.FIRST_PARTY=new Jt("first-party-uid"),Jt.MOCK_USER=new Jt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Mo="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oa=new nf("@firebase/firestore");function uo(){return oa.logLevel}function le(i,...e){if(oa.logLevel<=Me.DEBUG){const n=e.map(Hp);oa.debug(`Firestore (${Mo}): ${i}`,...n)}}function _r(i,...e){if(oa.logLevel<=Me.ERROR){const n=e.map(Hp);oa.error(`Firestore (${Mo}): ${i}`,...n)}}function To(i,...e){if(oa.logLevel<=Me.WARN){const n=e.map(Hp);oa.warn(`Firestore (${Mo}): ${i}`,...n)}}function Hp(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ye(i,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,Nb(i,s,n)}function Nb(i,e,n){let s=`FIRESTORE (${Mo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${i.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw _r(s),new Error(s)}function Fe(i,e,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,i||Nb(e,o,s)}function Te(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class oe extends ui{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mr{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xb{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class GN{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Jt.UNAUTHENTICATED)))}shutdown(){}}class KN{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class QN{constructor(e){this.t=e,this.currentUser=Jt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Fe(this.o===void 0,42304);let s=this.i;const o=g=>this.i!==s?(s=this.i,n(g)):Promise.resolve();let u=new mr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new mr,e.enqueueRetryable((()=>o(this.currentUser)))};const h=()=>{const g=u;e.enqueueRetryable((async()=>{await g.promise,await o(this.currentUser)}))},m=g=>{le("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit((g=>m(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?m(g):(le("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new mr)}}),0),h()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(le("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Fe(typeof s.accessToken=="string",31837,{l:s}),new xb(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Fe(e===null||typeof e=="string",2055,{h:e}),new Jt(e)}}class YN{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=Jt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class $N{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new YN(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Jt.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class WE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class XN{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,An(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Fe(this.o===void 0,3512);const s=u=>{u.error!=null&&le("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.m;return this.m=u.token,le("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>s(u)))};const o=u=>{le("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):le("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new WE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Fe(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new WE(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JN(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<i;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=JN(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function Ve(i,e){return i<e?-1:i>e?1:0}function sp(i,e){const n=Math.min(i.length,e.length);for(let s=0;s<n;s++){const o=i.charAt(s),u=e.charAt(s);if(o!==u)return jm(o)===jm(u)?Ve(o,u):jm(o)?1:-1}return Ve(i.length,e.length)}const WN=55296,ZN=57343;function jm(i){const e=i.charCodeAt(0);return e>=WN&&e<=ZN}function bo(i,e,n){return i.length===e.length&&i.every(((s,o)=>n(s,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZE="__name__";class Oi{constructor(e,n,s){n===void 0?n=0:n>e.length&&ye(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&ye(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Oi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Oi?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=Oi.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Ve(e.length,n.length)}static compareSegments(e,n){const s=Oi.isNumericId(e),o=Oi.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?Oi.extractNumericId(e).compare(Oi.extractNumericId(n)):sp(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return us.fromString(e.substring(4,e.length-2))}}class et extends Oi{construct(e,n,s){return new et(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new oe(W.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((o=>o.length>0)))}return new et(n)}static emptyPath(){return new et([])}}const ex=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Qt extends Oi{construct(e,n,s){return new Qt(e,n,s)}static isValidIdentifier(e){return ex.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Qt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===ZE}static keyField(){return new Qt([ZE])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new oe(W.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let h=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new oe(W.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new oe(W.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=g,o+=2}else m==="`"?(h=!h,o++):m!=="."||h?(s+=m,o++):(u(),o++)}if(u(),h)throw new oe(W.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Qt(n)}static emptyPath(){return new Qt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class de{constructor(e){this.path=e}static fromPath(e){return new de(et.fromString(e))}static fromName(e){return new de(et.fromString(e).popFirst(5))}static empty(){return new de(et.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&et.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return et.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new de(new et(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Db(i,e,n){if(!n)throw new oe(W.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function tx(i,e,n,s){if(e===!0&&s===!0)throw new oe(W.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function e0(i){if(!de.isDocumentKey(i))throw new oe(W.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function t0(i){if(de.isDocumentKey(i))throw new oe(W.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function Ob(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}function of(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":ye(12329,{type:typeof i})}function ii(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new oe(W.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=of(i);throw new oe(W.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xt(i,e){const n={typeString:i};return e&&(n.value=e),n}function Cu(i,e){if(!Ob(i))throw new oe(W.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const o=e[s].typeString,u="value"in e[s]?{value:e[s].value}:void 0;if(!(s in i)){n=`JSON missing required field: '${s}'`;break}const h=i[s];if(o&&typeof h!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&h!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new oe(W.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n0=-62135596800,i0=1e6;class it{static now(){return it.fromMillis(Date.now())}static fromDate(e){return it.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*i0);return new it(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new oe(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new oe(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<n0)throw new oe(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new oe(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/i0}_compareTo(e){return this.seconds===e.seconds?Ve(this.nanoseconds,e.nanoseconds):Ve(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:it._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Cu(e,it._jsonSchema))return new it(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-n0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}it._jsonSchemaVersion="firestore/timestamp/1.0",it._jsonSchema={type:xt("string",it._jsonSchemaVersion),seconds:xt("number"),nanoseconds:xt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ve{static fromTimestamp(e){return new ve(e)}static min(){return new ve(new it(0,0))}static max(){return new ve(new it(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uu=-1;function nx(i,e){const n=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,o=ve.fromTimestamp(s===1e9?new it(n+1,0):new it(n,s));return new fs(o,de.empty(),e)}function ix(i){return new fs(i.readTime,i.key,uu)}class fs{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new fs(ve.min(),de.empty(),uu)}static max(){return new fs(ve.max(),de.empty(),uu)}}function rx(i,e){let n=i.readTime.compareTo(e.readTime);return n!==0?n:(n=de.comparator(i.documentKey,e.documentKey),n!==0?n:Ve(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sx="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ax{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vo(i){if(i.code!==W.FAILED_PRECONDITION||i.message!==sx)throw i;le("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class te{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ye(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new te(((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof te?n:te.resolve(n)}catch(n){return te.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):te.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):te.reject(n)}static resolve(e){return new te(((n,s)=>{n(e)}))}static reject(e){return new te(((n,s)=>{s(e)}))}static waitFor(e){return new te(((n,s)=>{let o=0,u=0,h=!1;e.forEach((m=>{++o,m.next((()=>{++u,h&&u===o&&n()}),(g=>s(g)))})),h=!0,u===o&&n()}))}static or(e){let n=te.resolve(!1);for(const s of e)n=n.next((o=>o?te.resolve(o):s()));return n}static forEach(e,n){const s=[];return e.forEach(((o,u)=>{s.push(n.call(this,o,u))})),this.waitFor(s)}static mapArray(e,n){return new te(((s,o)=>{const u=e.length,h=new Array(u);let m=0;for(let g=0;g<u;g++){const p=g;n(e[p]).next((E=>{h[p]=E,++m,m===u&&s(h)}),(E=>o(E)))}}))}static doWhile(e,n){return new te(((s,o)=>{const u=()=>{e()===!0?n().next((()=>{u()}),o):s()};u()}))}}function ox(i){const e=i.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Po(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lf{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}lf.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gp=-1;function uf(i){return i==null}function kh(i){return i===0&&1/i==-1/0}function lx(i){return typeof i=="number"&&Number.isInteger(i)&&!kh(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mb="";function ux(i){let e="";for(let n=0;n<i.length;n++)e.length>0&&(e=r0(e)),e=cx(i.get(n),e);return r0(e)}function cx(i,e){let n=e;const s=i.length;for(let o=0;o<s;o++){const u=i.charAt(o);switch(u){case"\0":n+="";break;case Mb:n+="";break;default:n+=u}}return n}function r0(i){return i+Mb+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s0(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function pa(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function Vb(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ut{constructor(e,n){this.comparator=e,this.root=n||Kt.EMPTY}insert(e,n){return new ut(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Kt.BLACK,null,null))}remove(e){return new ut(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Kt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new fh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new fh(this.root,e,this.comparator,!1)}getReverseIterator(){return new fh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new fh(this.root,e,this.comparator,!0)}}class fh{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Kt{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??Kt.RED,this.left=o??Kt.EMPTY,this.right=u??Kt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new Kt(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Kt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Kt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Kt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Kt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ye(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ye(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ye(27949);return e+(this.isRed()?0:1)}}Kt.EMPTY=null,Kt.RED=!0,Kt.BLACK=!1;Kt.EMPTY=new class{constructor(){this.size=0}get key(){throw ye(57766)}get value(){throw ye(16141)}get color(){throw ye(16727)}get left(){throw ye(29726)}get right(){throw ye(36894)}copy(e,n,s,o,u){return this}insert(e,n,s){return new Kt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pt{constructor(e){this.comparator=e,this.data=new ut(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new a0(this.data.getIterator())}getIteratorFrom(e){return new a0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof Pt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Pt(this.comparator);return n.data=e,n}}class a0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ti{constructor(e){this.fields=e,e.sort(Qt.comparator)}static empty(){return new ti([])}unionWith(e){let n=new Pt(Qt.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new ti(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return bo(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pb extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new Pb("Invalid base64 string: "+u):u}})(e);return new Yt(n)}static fromUint8Array(e){const n=(function(o){let u="";for(let h=0;h<o.length;++h)u+=String.fromCharCode(o[h]);return u})(e);return new Yt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ve(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Yt.EMPTY_BYTE_STRING=new Yt("");const hx=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ds(i){if(Fe(!!i,39018),typeof i=="string"){let e=0;const n=hx.exec(i);if(Fe(!!n,46558,{timestamp:i}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:gt(i.seconds),nanos:gt(i.nanos)}}function gt(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function ms(i){return typeof i=="string"?Yt.fromBase64String(i):Yt.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lb="server_timestamp",kb="__type__",Ub="__previous_value__",jb="__local_write_time__";function Kp(i){return(i?.mapValue?.fields||{})[kb]?.stringValue===Lb}function cf(i){const e=i.mapValue.fields[Ub];return Kp(e)?cf(e):e}function cu(i){const e=ds(i.mapValue.fields[jb].timestampValue);return new it(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fx{constructor(e,n,s,o,u,h,m,g,p,E){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=m,this.longPollingOptions=g,this.useFetchStreams=p,this.isUsingEmulator=E}}const Uh="(default)";class hu{constructor(e,n){this.projectId=e,this.database=n||Uh}static empty(){return new hu("","")}get isDefaultDatabase(){return this.database===Uh}isEqual(e){return e instanceof hu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zb="__type__",dx="__max__",dh={mapValue:{}},Bb="__vector__",jh="value";function ps(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Kp(i)?4:px(i)?9007199254740991:mx(i)?10:11:ye(28295,{value:i})}function qi(i,e){if(i===e)return!0;const n=ps(i);if(n!==ps(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return cu(i).isEqual(cu(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const h=ds(o.timestampValue),m=ds(u.timestampValue);return h.seconds===m.seconds&&h.nanos===m.nanos})(i,e);case 5:return i.stringValue===e.stringValue;case 6:return(function(o,u){return ms(o.bytesValue).isEqual(ms(u.bytesValue))})(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return(function(o,u){return gt(o.geoPointValue.latitude)===gt(u.geoPointValue.latitude)&&gt(o.geoPointValue.longitude)===gt(u.geoPointValue.longitude)})(i,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return gt(o.integerValue)===gt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const h=gt(o.doubleValue),m=gt(u.doubleValue);return h===m?kh(h)===kh(m):isNaN(h)&&isNaN(m)}return!1})(i,e);case 9:return bo(i.arrayValue.values||[],e.arrayValue.values||[],qi);case 10:case 11:return(function(o,u){const h=o.mapValue.fields||{},m=u.mapValue.fields||{};if(s0(h)!==s0(m))return!1;for(const g in h)if(h.hasOwnProperty(g)&&(m[g]===void 0||!qi(h[g],m[g])))return!1;return!0})(i,e);default:return ye(52216,{left:i})}}function fu(i,e){return(i.values||[]).find((n=>qi(n,e)))!==void 0}function Ao(i,e){if(i===e)return 0;const n=ps(i),s=ps(e);if(n!==s)return Ve(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ve(i.booleanValue,e.booleanValue);case 2:return(function(u,h){const m=gt(u.integerValue||u.doubleValue),g=gt(h.integerValue||h.doubleValue);return m<g?-1:m>g?1:m===g?0:isNaN(m)?isNaN(g)?0:-1:1})(i,e);case 3:return o0(i.timestampValue,e.timestampValue);case 4:return o0(cu(i),cu(e));case 5:return sp(i.stringValue,e.stringValue);case 6:return(function(u,h){const m=ms(u),g=ms(h);return m.compareTo(g)})(i.bytesValue,e.bytesValue);case 7:return(function(u,h){const m=u.split("/"),g=h.split("/");for(let p=0;p<m.length&&p<g.length;p++){const E=Ve(m[p],g[p]);if(E!==0)return E}return Ve(m.length,g.length)})(i.referenceValue,e.referenceValue);case 8:return(function(u,h){const m=Ve(gt(u.latitude),gt(h.latitude));return m!==0?m:Ve(gt(u.longitude),gt(h.longitude))})(i.geoPointValue,e.geoPointValue);case 9:return l0(i.arrayValue,e.arrayValue);case 10:return(function(u,h){const m=u.fields||{},g=h.fields||{},p=m[jh]?.arrayValue,E=g[jh]?.arrayValue,b=Ve(p?.values?.length||0,E?.values?.length||0);return b!==0?b:l0(p,E)})(i.mapValue,e.mapValue);case 11:return(function(u,h){if(u===dh.mapValue&&h===dh.mapValue)return 0;if(u===dh.mapValue)return 1;if(h===dh.mapValue)return-1;const m=u.fields||{},g=Object.keys(m),p=h.fields||{},E=Object.keys(p);g.sort(),E.sort();for(let b=0;b<g.length&&b<E.length;++b){const S=sp(g[b],E[b]);if(S!==0)return S;const P=Ao(m[g[b]],p[E[b]]);if(P!==0)return P}return Ve(g.length,E.length)})(i.mapValue,e.mapValue);default:throw ye(23264,{he:n})}}function o0(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return Ve(i,e);const n=ds(i),s=ds(e),o=Ve(n.seconds,s.seconds);return o!==0?o:Ve(n.nanos,s.nanos)}function l0(i,e){const n=i.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=Ao(n[o],s[o]);if(u)return u}return Ve(n.length,s.length)}function So(i){return ap(i)}function ap(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?(function(n){const s=ds(n);return`time(${s.seconds},${s.nanos})`})(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?(function(n){return ms(n).toBase64()})(i.bytesValue):"referenceValue"in i?(function(n){return de.fromName(n).toString()})(i.referenceValue):"geoPointValue"in i?(function(n){return`geo(${n.latitude},${n.longitude})`})(i.geoPointValue):"arrayValue"in i?(function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=ap(u);return s+"]"})(i.arrayValue):"mapValue"in i?(function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const h of s)u?u=!1:o+=",",o+=`${h}:${ap(n.fields[h])}`;return o+"}"})(i.mapValue):ye(61005,{value:i})}function Ah(i){switch(ps(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=cf(i);return e?16+Ah(e):16;case 5:return 2*i.stringValue.length;case 6:return ms(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,u)=>o+Ah(u)),0)})(i.arrayValue);case 10:case 11:return(function(s){let o=0;return pa(s.fields,((u,h)=>{o+=u.length+Ah(h)})),o})(i.mapValue);default:throw ye(13486,{value:i})}}function u0(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function op(i){return!!i&&"integerValue"in i}function Qp(i){return!!i&&"arrayValue"in i}function c0(i){return!!i&&"nullValue"in i}function h0(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Sh(i){return!!i&&"mapValue"in i}function mx(i){return(i?.mapValue?.fields||{})[zb]?.stringValue===Bb}function nu(i){if(i.geoPointValue)return{geoPointValue:{...i.geoPointValue}};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:{...i.timestampValue}};if(i.mapValue){const e={mapValue:{fields:{}}};return pa(i.mapValue.fields,((n,s)=>e.mapValue.fields[n]=nu(s))),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=nu(i.arrayValue.values[n]);return e}return{...i}}function px(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===dx}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Un{constructor(e){this.value=e}static empty(){return new Un({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Sh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=nu(n)}setAll(e){let n=Qt.emptyPath(),s={},o=[];e.forEach(((h,m)=>{if(!n.isImmediateParentOf(m)){const g=this.getFieldsMap(n);this.applyChanges(g,s,o),s={},o=[],n=m.popLast()}h?s[m.lastSegment()]=nu(h):o.push(m.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());Sh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return qi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];Sh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){pa(n,((o,u)=>e[o]=u));for(const o of s)delete e[o]}clone(){return new Un(nu(this.value))}}function qb(i){const e=[];return pa(i.fields,((n,s)=>{const o=new Qt([n]);if(Sh(s)){const u=qb(s.mapValue).fields;if(u.length===0)e.push(o);else for(const h of u)e.push(o.child(h))}else e.push(o)})),new ti(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e,n,s,o,u,h,m){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=h,this.documentState=m}static newInvalidDocument(e){return new Wt(e,0,ve.min(),ve.min(),ve.min(),Un.empty(),0)}static newFoundDocument(e,n,s,o){return new Wt(e,1,n,ve.min(),s,o,0)}static newNoDocument(e,n){return new Wt(e,2,n,ve.min(),ve.min(),Un.empty(),0)}static newUnknownDocument(e,n){return new Wt(e,3,n,ve.min(),ve.min(),Un.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ve.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Un.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Un.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ve.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Wt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Wt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zh{constructor(e,n){this.position=e,this.inclusive=n}}function f0(i,e,n){let s=0;for(let o=0;o<i.position.length;o++){const u=e[o],h=i.position[o];if(u.field.isKeyField()?s=de.comparator(de.fromName(h.referenceValue),n.key):s=Ao(h,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function d0(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!qi(i.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class du{constructor(e,n="asc"){this.field=e,this.dir=n}}function gx(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hb{}class Nt extends Hb{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new _x(e,n,s):n==="array-contains"?new Tx(e,s):n==="in"?new bx(e,s):n==="not-in"?new Ax(e,s):n==="array-contains-any"?new Sx(e,s):new Nt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new vx(e,s):new Ex(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Ao(n,this.value)):n!==null&&ps(this.value)===ps(n)&&this.matchesComparison(Ao(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ye(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ai extends Hb{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new ai(e,n)}matches(e){return Fb(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Fb(i){return i.op==="and"}function Gb(i){return yx(i)&&Fb(i)}function yx(i){for(const e of i.filters)if(e instanceof ai)return!1;return!0}function lp(i){if(i instanceof Nt)return i.field.canonicalString()+i.op.toString()+So(i.value);if(Gb(i))return i.filters.map((e=>lp(e))).join(",");{const e=i.filters.map((n=>lp(n))).join(",");return`${i.op}(${e})`}}function Kb(i,e){return i instanceof Nt?(function(s,o){return o instanceof Nt&&s.op===o.op&&s.field.isEqual(o.field)&&qi(s.value,o.value)})(i,e):i instanceof ai?(function(s,o){return o instanceof ai&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((u,h,m)=>u&&Kb(h,o.filters[m])),!0):!1})(i,e):void ye(19439)}function Qb(i){return i instanceof Nt?(function(n){return`${n.field.canonicalString()} ${n.op} ${So(n.value)}`})(i):i instanceof ai?(function(n){return n.op.toString()+" {"+n.getFilters().map(Qb).join(" ,")+"}"})(i):"Filter"}class _x extends Nt{constructor(e,n,s){super(e,n,s),this.key=de.fromName(s.referenceValue)}matches(e){const n=de.comparator(e.key,this.key);return this.matchesComparison(n)}}class vx extends Nt{constructor(e,n){super(e,"in",n),this.keys=Yb("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class Ex extends Nt{constructor(e,n){super(e,"not-in",n),this.keys=Yb("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function Yb(i,e){return(e.arrayValue?.values||[]).map((n=>de.fromName(n.referenceValue)))}class Tx extends Nt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Qp(n)&&fu(n.arrayValue,this.value)}}class bx extends Nt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&fu(this.value.arrayValue,n)}}class Ax extends Nt{constructor(e,n){super(e,"not-in",n)}matches(e){if(fu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!fu(this.value.arrayValue,n)}}class Sx extends Nt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Qp(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>fu(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wx{constructor(e,n=null,s=[],o=[],u=null,h=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=h,this.endAt=m,this.Te=null}}function m0(i,e=null,n=[],s=[],o=null,u=null,h=null){return new wx(i,e,n,s,o,u,h)}function Yp(i){const e=Te(i);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>lp(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),uf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>So(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>So(s))).join(",")),e.Te=n}return e.Te}function $p(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!gx(i.orderBy[n],e.orderBy[n]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!Kb(i.filters[n],e.filters[n]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!d0(i.startAt,e.startAt)&&d0(i.endAt,e.endAt)}function up(i){return de.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lo{constructor(e,n=null,s=[],o=[],u=null,h="F",m=null,g=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=h,this.startAt=m,this.endAt=g,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function Rx(i,e,n,s,o,u,h,m){return new Lo(i,e,n,s,o,u,h,m)}function hf(i){return new Lo(i)}function p0(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function $b(i){return i.collectionGroup!==null}function iu(i){const e=Te(i);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let m=new Pt(Qt.comparator);return h.filters.forEach((g=>{g.getFlattenedFilters().forEach((p=>{p.isInequality()&&(m=m.add(p.field))}))})),m})(e).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new du(u,s))})),n.has(Qt.keyField().canonicalString())||e.Ie.push(new du(Qt.keyField(),s))}return e.Ie}function Pi(i){const e=Te(i);return e.Ee||(e.Ee=Ix(e,iu(i))),e.Ee}function Ix(i,e){if(i.limitType==="F")return m0(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new du(o.field,u)}));const n=i.endAt?new zh(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new zh(i.startAt.position,i.startAt.inclusive):null;return m0(i.path,i.collectionGroup,e,i.filters,i.limit,n,s)}}function cp(i,e){const n=i.filters.concat([e]);return new Lo(i.path,i.collectionGroup,i.explicitOrderBy.slice(),n,i.limit,i.limitType,i.startAt,i.endAt)}function hp(i,e,n){return new Lo(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function ff(i,e){return $p(Pi(i),Pi(e))&&i.limitType===e.limitType}function Xb(i){return`${Yp(Pi(i))}|lt:${i.limitType}`}function co(i){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((o=>Qb(o))).join(", ")}]`),uf(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((o=>(function(h){return`${h.field.canonicalString()} (${h.dir})`})(o))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((o=>So(o))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((o=>So(o))).join(",")),`Target(${s})`})(Pi(i))}; limitType=${i.limitType})`}function df(i,e){return e.isFoundDocument()&&(function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):de.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(i,e)&&(function(s,o){for(const u of iu(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(i,e)&&(function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0})(i,e)&&(function(s,o){return!(s.startAt&&!(function(h,m,g){const p=f0(h,m,g);return h.inclusive?p<=0:p<0})(s.startAt,iu(s),o)||s.endAt&&!(function(h,m,g){const p=f0(h,m,g);return h.inclusive?p>=0:p>0})(s.endAt,iu(s),o))})(i,e)}function Cx(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function Jb(i){return(e,n)=>{let s=!1;for(const o of iu(i)){const u=Nx(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function Nx(i,e,n){const s=i.field.isKeyField()?de.comparator(e.key,n.key):(function(u,h,m){const g=h.data.field(u),p=m.data.field(u);return g!==null&&p!==null?Ao(g,p):ye(42886)})(i.field,e,n);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return ye(19790,{direction:i.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ga{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){pa(this.inner,((n,s)=>{for(const[o,u]of s)e(o,u)}))}isEmpty(){return Vb(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xx=new ut(de.comparator);function vr(){return xx}const Wb=new ut(de.comparator);function Jl(...i){let e=Wb;for(const n of i)e=e.insert(n.key,n);return e}function Zb(i){let e=Wb;return i.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function ta(){return ru()}function eA(){return ru()}function ru(){return new ga((i=>i.toString()),((i,e)=>i.isEqual(e)))}const Dx=new ut(de.comparator),Ox=new Pt(de.comparator);function Pe(...i){let e=Ox;for(const n of i)e=e.add(n);return e}const Mx=new Pt(Ve);function Vx(){return Mx}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xp(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:kh(e)?"-0":e}}function tA(i){return{integerValue:""+i}}function Px(i,e){return lx(e)?tA(e):Xp(i,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mf{constructor(){this._=void 0}}function Lx(i,e,n){return i instanceof mu?(function(o,u){const h={fields:{[kb]:{stringValue:Lb},[jb]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Kp(u)&&(u=cf(u)),u&&(h.fields[Ub]=u),{mapValue:h}})(n,e):i instanceof pu?iA(i,e):i instanceof gu?rA(i,e):(function(o,u){const h=nA(o,u),m=g0(h)+g0(o.Ae);return op(h)&&op(o.Ae)?tA(m):Xp(o.serializer,m)})(i,e)}function kx(i,e,n){return i instanceof pu?iA(i,e):i instanceof gu?rA(i,e):n}function nA(i,e){return i instanceof Bh?(function(s){return op(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(e)?e:{integerValue:0}:null}class mu extends mf{}class pu extends mf{constructor(e){super(),this.elements=e}}function iA(i,e){const n=sA(e);for(const s of i.elements)n.some((o=>qi(o,s)))||n.push(s);return{arrayValue:{values:n}}}class gu extends mf{constructor(e){super(),this.elements=e}}function rA(i,e){let n=sA(e);for(const s of i.elements)n=n.filter((o=>!qi(o,s)));return{arrayValue:{values:n}}}class Bh extends mf{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function g0(i){return gt(i.integerValue||i.doubleValue)}function sA(i){return Qp(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ux{constructor(e,n){this.field=e,this.transform=n}}function jx(i,e){return i.field.isEqual(e.field)&&(function(s,o){return s instanceof pu&&o instanceof pu||s instanceof gu&&o instanceof gu?bo(s.elements,o.elements,qi):s instanceof Bh&&o instanceof Bh?qi(s.Ae,o.Ae):s instanceof mu&&o instanceof mu})(i.transform,e.transform)}class zx{constructor(e,n){this.version=e,this.transformResults=n}}class Li{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Li}static exists(e){return new Li(void 0,e)}static updateTime(e){return new Li(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function wh(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class pf{}function aA(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new lA(i.key,Li.none()):new Nu(i.key,i.data,Li.none());{const n=i.data,s=Un.empty();let o=new Pt(Qt.comparator);for(let u of e.fields)if(!o.has(u)){let h=n.field(u);h===null&&u.length>1&&(u=u.popLast(),h=n.field(u)),h===null?s.delete(u):s.set(u,h),o=o.add(u)}return new ya(i.key,s,new ti(o.toArray()),Li.none())}}function Bx(i,e,n){i instanceof Nu?(function(o,u,h){const m=o.value.clone(),g=_0(o.fieldTransforms,u,h.transformResults);m.setAll(g),u.convertToFoundDocument(h.version,m).setHasCommittedMutations()})(i,e,n):i instanceof ya?(function(o,u,h){if(!wh(o.precondition,u))return void u.convertToUnknownDocument(h.version);const m=_0(o.fieldTransforms,u,h.transformResults),g=u.data;g.setAll(oA(o)),g.setAll(m),u.convertToFoundDocument(h.version,g).setHasCommittedMutations()})(i,e,n):(function(o,u,h){u.convertToNoDocument(h.version).setHasCommittedMutations()})(0,e,n)}function su(i,e,n,s){return i instanceof Nu?(function(u,h,m,g){if(!wh(u.precondition,h))return m;const p=u.value.clone(),E=v0(u.fieldTransforms,g,h);return p.setAll(E),h.convertToFoundDocument(h.version,p).setHasLocalMutations(),null})(i,e,n,s):i instanceof ya?(function(u,h,m,g){if(!wh(u.precondition,h))return m;const p=v0(u.fieldTransforms,g,h),E=h.data;return E.setAll(oA(u)),E.setAll(p),h.convertToFoundDocument(h.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((b=>b.field)))})(i,e,n,s):(function(u,h,m){return wh(u.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):m})(i,e,n)}function qx(i,e){let n=null;for(const s of i.fieldTransforms){const o=e.data.field(s.field),u=nA(s.transform,o||null);u!=null&&(n===null&&(n=Un.empty()),n.set(s.field,u))}return n||null}function y0(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&bo(s,o,((u,h)=>jx(u,h)))})(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class Nu extends pf{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ya extends pf{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function oA(i){const e=new Map;return i.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=i.data.field(n);e.set(n,s)}})),e}function _0(i,e,n){const s=new Map;Fe(i.length===n.length,32656,{Re:n.length,Ve:i.length});for(let o=0;o<n.length;o++){const u=i[o],h=u.transform,m=e.data.field(u.field);s.set(u.field,kx(h,m,n[o]))}return s}function v0(i,e,n){const s=new Map;for(const o of i){const u=o.transform,h=n.data.field(o.field);s.set(o.field,Lx(u,h,e))}return s}class lA extends pf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Hx extends pf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fx{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&Bx(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=su(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=su(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=eA();return this.mutations.forEach((o=>{const u=e.get(o.key),h=u.overlayedDocument;let m=this.applyToLocalView(h,u.mutatedFields);m=n.has(o.key)?null:m;const g=aA(h,m);g!==null&&s.set(o.key,g),h.isValidDocument()||h.convertToNoDocument(ve.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Pe())}isEqual(e){return this.batchId===e.batchId&&bo(this.mutations,e.mutations,((n,s)=>y0(n,s)))&&bo(this.baseMutations,e.baseMutations,((n,s)=>y0(n,s)))}}class Jp{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){Fe(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return Dx})();const u=e.mutations;for(let h=0;h<u.length;h++)o=o.insert(u[h].key,s[h].version);return new Jp(e,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gx{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kx{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ct,Ue;function Qx(i){switch(i){case W.OK:return ye(64938);case W.CANCELLED:case W.UNKNOWN:case W.DEADLINE_EXCEEDED:case W.RESOURCE_EXHAUSTED:case W.INTERNAL:case W.UNAVAILABLE:case W.UNAUTHENTICATED:return!1;case W.INVALID_ARGUMENT:case W.NOT_FOUND:case W.ALREADY_EXISTS:case W.PERMISSION_DENIED:case W.FAILED_PRECONDITION:case W.ABORTED:case W.OUT_OF_RANGE:case W.UNIMPLEMENTED:case W.DATA_LOSS:return!0;default:return ye(15467,{code:i})}}function uA(i){if(i===void 0)return _r("GRPC error has no .code"),W.UNKNOWN;switch(i){case Ct.OK:return W.OK;case Ct.CANCELLED:return W.CANCELLED;case Ct.UNKNOWN:return W.UNKNOWN;case Ct.DEADLINE_EXCEEDED:return W.DEADLINE_EXCEEDED;case Ct.RESOURCE_EXHAUSTED:return W.RESOURCE_EXHAUSTED;case Ct.INTERNAL:return W.INTERNAL;case Ct.UNAVAILABLE:return W.UNAVAILABLE;case Ct.UNAUTHENTICATED:return W.UNAUTHENTICATED;case Ct.INVALID_ARGUMENT:return W.INVALID_ARGUMENT;case Ct.NOT_FOUND:return W.NOT_FOUND;case Ct.ALREADY_EXISTS:return W.ALREADY_EXISTS;case Ct.PERMISSION_DENIED:return W.PERMISSION_DENIED;case Ct.FAILED_PRECONDITION:return W.FAILED_PRECONDITION;case Ct.ABORTED:return W.ABORTED;case Ct.OUT_OF_RANGE:return W.OUT_OF_RANGE;case Ct.UNIMPLEMENTED:return W.UNIMPLEMENTED;case Ct.DATA_LOSS:return W.DATA_LOSS;default:return ye(39323,{code:i})}}(Ue=Ct||(Ct={}))[Ue.OK=0]="OK",Ue[Ue.CANCELLED=1]="CANCELLED",Ue[Ue.UNKNOWN=2]="UNKNOWN",Ue[Ue.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ue[Ue.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ue[Ue.NOT_FOUND=5]="NOT_FOUND",Ue[Ue.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ue[Ue.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ue[Ue.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ue[Ue.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ue[Ue.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ue[Ue.ABORTED=10]="ABORTED",Ue[Ue.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ue[Ue.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ue[Ue.INTERNAL=13]="INTERNAL",Ue[Ue.UNAVAILABLE=14]="UNAVAILABLE",Ue[Ue.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yx(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $x=new us([4294967295,4294967295],0);function E0(i){const e=Yx().encode(i),n=new Ab;return n.update(e),new Uint8Array(n.digest())}function T0(i){const e=new DataView(i.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new us([n,s],0),new us([o,u],0)]}class Wp{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Wl(`Invalid padding: ${n}`);if(s<0)throw new Wl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Wl(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Wl(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=us.fromNumber(this.ge)}ye(e,n,s){let o=e.add(n.multiply(us.fromNumber(s)));return o.compare($x)===1&&(o=new us([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=E0(e),[s,o]=T0(n);for(let u=0;u<this.hashCount;u++){const h=this.ye(s,o,u);if(!this.we(h))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),h=new Wp(u,o,n);return s.forEach((m=>h.insert(m))),h}insert(e){if(this.ge===0)return;const n=E0(e),[s,o]=T0(n);for(let u=0;u<this.hashCount;u++){const h=this.ye(s,o,u);this.Se(h)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Wl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gf{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,xu.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new gf(ve.min(),o,new ut(Ve),vr(),Pe())}}class xu{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new xu(s,n,Pe(),Pe(),Pe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rh{constructor(e,n,s,o){this.be=e,this.removedTargetIds=n,this.key=s,this.De=o}}class cA{constructor(e,n){this.targetId=e,this.Ce=n}}class hA{constructor(e,n,s=Yt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class b0{constructor(){this.ve=0,this.Fe=A0(),this.Me=Yt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Pe(),n=Pe(),s=Pe();return this.Fe.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:ye(38017,{changeType:u})}})),new xu(this.Me,this.xe,e,n,s)}qe(){this.Oe=!1,this.Fe=A0()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Fe(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class Xx{constructor(e){this.Ge=e,this.ze=new Map,this.je=vr(),this.Je=mh(),this.He=mh(),this.Ye=new ut(Ve)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:ye(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,s=e.Ce.count,o=this.ot(n);if(o){const u=o.target;if(up(u))if(s===0){const h=new de(u.path);this.et(n,h,Wt.newNoDocument(h,ve.min()))}else Fe(s===1,20013,{expectedCount:s});else{const h=this._t(n);if(h!==s){const m=this.ut(e),g=m?this.ct(m,e,h):1;if(g!==0){this.it(n);const p=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,p)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let h,m;try{h=ms(s).toUint8Array()}catch(g){if(g instanceof Pb)return To("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{m=new Wp(h,o,u)}catch(g){return To(g instanceof Wl?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return m.ge===0?null:m}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach((u=>{const h=this.Ge.ht(),m=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.et(n,u,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((u,h)=>{const m=this.ot(h);if(m){if(u.current&&up(m.target)){const g=new de(m.target.path);this.It(g).has(h)||this.Et(h,g)||this.et(h,g,Wt.newNoDocument(g,e))}u.Be&&(n.set(h,u.ke()),u.qe())}}));let s=Pe();this.He.forEach(((u,h)=>{let m=!0;h.forEachWhile((g=>{const p=this.ot(g);return!p||p.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(s=s.add(u))})),this.je.forEach(((u,h)=>h.setReadTime(e)));const o=new gf(e,n,this.Ye,this.je,s);return this.je=vr(),this.Je=mh(),this.He=mh(),this.Ye=new ut(Ve),o}Xe(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new b0,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Pt(Ve),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Pt(Ve),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||le("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new b0),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function mh(){return new ut(de.comparator)}function A0(){return new ut(de.comparator)}const Jx={asc:"ASCENDING",desc:"DESCENDING"},Wx={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Zx={and:"AND",or:"OR"};class eD{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function fp(i,e){return i.useProto3Json||uf(e)?e:{value:e}}function qh(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function fA(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function tD(i,e){return qh(i,e.toTimestamp())}function ki(i){return Fe(!!i,49232),ve.fromTimestamp((function(n){const s=ds(n);return new it(s.seconds,s.nanos)})(i))}function Zp(i,e){return dp(i,e).canonicalString()}function dp(i,e){const n=(function(o){return new et(["projects",o.projectId,"databases",o.database])})(i).child("documents");return e===void 0?n:n.child(e)}function dA(i){const e=et.fromString(i);return Fe(_A(e),10190,{key:e.toString()}),e}function mp(i,e){return Zp(i.databaseId,e.path)}function zm(i,e){const n=dA(e);if(n.get(1)!==i.databaseId.projectId)throw new oe(W.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new oe(W.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new de(pA(n))}function mA(i,e){return Zp(i.databaseId,e)}function nD(i){const e=dA(i);return e.length===4?et.emptyPath():pA(e)}function pp(i){return new et(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function pA(i){return Fe(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function S0(i,e,n){return{name:mp(i,e),fields:n.value.mapValue.fields}}function iD(i,e){let n;if("targetChange"in e){e.targetChange;const s=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:ye(39313,{state:p})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(p,E){return p.useProto3Json?(Fe(E===void 0||typeof E=="string",58123),Yt.fromBase64String(E||"")):(Fe(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),Yt.fromUint8Array(E||new Uint8Array))})(i,e.targetChange.resumeToken),h=e.targetChange.cause,m=h&&(function(p){const E=p.code===void 0?W.UNKNOWN:uA(p.code);return new oe(E,p.message||"")})(h);n=new hA(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=zm(i,s.document.name),u=ki(s.document.updateTime),h=s.document.createTime?ki(s.document.createTime):ve.min(),m=new Un({mapValue:{fields:s.document.fields}}),g=Wt.newFoundDocument(o,u,h,m),p=s.targetIds||[],E=s.removedTargetIds||[];n=new Rh(p,E,g.key,g)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=zm(i,s.document),u=s.readTime?ki(s.readTime):ve.min(),h=Wt.newNoDocument(o,u),m=s.removedTargetIds||[];n=new Rh([],m,h.key,h)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=zm(i,s.document),u=s.removedTargetIds||[];n=new Rh([],u,o,null)}else{if(!("filter"in e))return ye(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,h=new Kx(o,u),m=s.targetId;n=new cA(m,h)}}return n}function rD(i,e){let n;if(e instanceof Nu)n={update:S0(i,e.key,e.value)};else if(e instanceof lA)n={delete:mp(i,e.key)};else if(e instanceof ya)n={update:S0(i,e.key,e.data),updateMask:dD(e.fieldMask)};else{if(!(e instanceof Hx))return ye(16599,{Vt:e.type});n={verify:mp(i,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(u,h){const m=h.transform;if(m instanceof mu)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof pu)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof gu)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Bh)return{fieldPath:h.field.canonicalString(),increment:m.Ae};throw ye(20930,{transform:h.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:tD(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:ye(27497)})(i,e.precondition)),n}function sD(i,e){return i&&i.length>0?(Fe(e!==void 0,14353),i.map((n=>(function(o,u){let h=o.updateTime?ki(o.updateTime):ki(u);return h.isEqual(ve.min())&&(h=ki(u)),new zx(h,o.transformResults||[])})(n,e)))):[]}function aD(i,e){return{documents:[mA(i,e.path)]}}function oD(i,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=mA(i,o);const u=(function(p){if(p.length!==0)return yA(ai.create(p,"and"))})(e.filters);u&&(n.structuredQuery.where=u);const h=(function(p){if(p.length!==0)return p.map((E=>(function(S){return{field:ho(S.field),direction:cD(S.dir)}})(E)))})(e.orderBy);h&&(n.structuredQuery.orderBy=h);const m=fp(i,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(e.endAt)),{ft:n,parent:o}}function lD(i){let e=nD(i.parent);const n=i.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Fe(s===1,65062);const E=n.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let u=[];n.where&&(u=(function(b){const S=gA(b);return S instanceof ai&&Gb(S)?S.getFilters():[S]})(n.where));let h=[];n.orderBy&&(h=(function(b){return b.map((S=>(function(H){return new du(fo(H.field),(function(G){switch(G){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(H.direction))})(S)))})(n.orderBy));let m=null;n.limit&&(m=(function(b){let S;return S=typeof b=="object"?b.value:b,uf(S)?null:S})(n.limit));let g=null;n.startAt&&(g=(function(b){const S=!!b.before,P=b.values||[];return new zh(P,S)})(n.startAt));let p=null;return n.endAt&&(p=(function(b){const S=!b.before,P=b.values||[];return new zh(P,S)})(n.endAt)),Rx(e,o,h,u,m,"F",g,p)}function uD(i,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ye(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function gA(i){return i.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=fo(n.unaryFilter.field);return Nt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=fo(n.unaryFilter.field);return Nt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=fo(n.unaryFilter.field);return Nt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=fo(n.unaryFilter.field);return Nt.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ye(61313);default:return ye(60726)}})(i):i.fieldFilter!==void 0?(function(n){return Nt.create(fo(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ye(58110);default:return ye(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(i):i.compositeFilter!==void 0?(function(n){return ai.create(n.compositeFilter.filters.map((s=>gA(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return ye(1026)}})(n.compositeFilter.op))})(i):ye(30097,{filter:i})}function cD(i){return Jx[i]}function hD(i){return Wx[i]}function fD(i){return Zx[i]}function ho(i){return{fieldPath:i.canonicalString()}}function fo(i){return Qt.fromServerFormat(i.fieldPath)}function yA(i){return i instanceof Nt?(function(n){if(n.op==="=="){if(h0(n.value))return{unaryFilter:{field:ho(n.field),op:"IS_NAN"}};if(c0(n.value))return{unaryFilter:{field:ho(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(h0(n.value))return{unaryFilter:{field:ho(n.field),op:"IS_NOT_NAN"}};if(c0(n.value))return{unaryFilter:{field:ho(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ho(n.field),op:hD(n.op),value:n.value}}})(i):i instanceof ai?(function(n){const s=n.getFilters().map((o=>yA(o)));return s.length===1?s[0]:{compositeFilter:{op:fD(n.op),filters:s}}})(i):ye(54877,{filter:i})}function dD(i){const e=[];return i.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function _A(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ss{constructor(e,n,s,o,u=ve.min(),h=ve.min(),m=Yt.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=m,this.expectedCount=g}withSequenceNumber(e){return new ss(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ss(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ss(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ss(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mD{constructor(e){this.yt=e}}function pD(i){const e=lD({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?hp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gD{constructor(){this.Cn=new yD}addToCollectionParentIndex(e,n){return this.Cn.add(n),te.resolve()}getCollectionParents(e,n){return te.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return te.resolve()}deleteFieldIndex(e,n){return te.resolve()}deleteAllFieldIndexes(e){return te.resolve()}createTargetIndexes(e,n){return te.resolve()}getDocumentsMatchingTarget(e,n){return te.resolve(null)}getIndexType(e,n){return te.resolve(0)}getFieldIndexes(e,n){return te.resolve([])}getNextCollectionGroupToUpdate(e){return te.resolve(null)}getMinOffset(e,n){return te.resolve(fs.min())}getMinOffsetFromCollectionGroup(e,n){return te.resolve(fs.min())}updateCollectionGroup(e,n,s){return te.resolve()}updateIndexEntries(e,n){return te.resolve()}}class yD{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new Pt(et.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Pt(et.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},vA=41943040;class fn{static withCacheSize(e){return new fn(e,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */fn.DEFAULT_COLLECTION_PERCENTILE=10,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,fn.DEFAULT=new fn(vA,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),fn.DISABLED=new fn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wo{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new wo(0)}static cr(){return new wo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R0="LruGarbageCollector",_D=1048576;function I0([i,e],[n,s]){const o=Ve(i,n);return o===0?Ve(e,s):o}class vD{constructor(e){this.Ir=e,this.buffer=new Pt(I0),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();I0(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class ED{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){le(R0,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Po(n)?le(R0,"Ignoring IndexedDB error during garbage collection: ",n):await Vo(n)}await this.Vr(3e5)}))}}class TD{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return te.resolve(lf.ce);const s=new vD(n);return this.mr.forEachTarget(e,(o=>s.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>s.Ar(o))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.mr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(le("LruGarbageCollector","Garbage collection skipped; disabled"),te.resolve(w0)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(le("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),w0):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let s,o,u,h,m,g,p;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(le("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),o=this.params.maximumSequenceNumbersToCollect):o=b,h=Date.now(),this.nthSequenceNumber(e,o)))).next((b=>(s=b,m=Date.now(),this.removeTargets(e,s,n)))).next((b=>(u=b,g=Date.now(),this.removeOrphanedDocuments(e,s)))).next((b=>(p=Date.now(),uo()<=Me.DEBUG&&le("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-E}ms
	Determined least recently used ${o} in `+(m-h)+`ms
	Removed ${u} targets in `+(g-m)+`ms
	Removed ${b} documents in `+(p-g)+`ms
Total Duration: ${p-E}ms`),te.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:b}))))}}function bD(i,e){return new TD(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AD{constructor(){this.changes=new ga((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Wt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?te.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SD{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wD{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(s!==null&&su(s.mutation,o,ti.empty(),it.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,Pe()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=Pe()){const o=ta();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,s).next((u=>{let h=Jl();return u.forEach(((m,g)=>{h=h.insert(m,g.overlayedDocument)})),h}))))}getOverlayedDocuments(e,n){const s=ta();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,Pe())))}populateOverlays(e,n,s){const o=[];return s.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((h,m)=>{n.set(h,m)}))}))}computeViews(e,n,s,o){let u=vr();const h=ru(),m=(function(){return ru()})();return n.forEach(((g,p)=>{const E=s.get(p.key);o.has(p.key)&&(E===void 0||E.mutation instanceof ya)?u=u.insert(p.key,p):E!==void 0?(h.set(p.key,E.mutation.getFieldMask()),su(E.mutation,p,E.mutation.getFieldMask(),it.now())):h.set(p.key,ti.empty())})),this.recalculateAndSaveOverlays(e,u).next((g=>(g.forEach(((p,E)=>h.set(p,E))),n.forEach(((p,E)=>m.set(p,new SD(E,h.get(p)??null)))),m)))}recalculateAndSaveOverlays(e,n){const s=ru();let o=new ut(((h,m)=>h-m)),u=Pe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((h=>{for(const m of h)m.keys().forEach((g=>{const p=n.get(g);if(p===null)return;let E=s.get(g)||ti.empty();E=m.applyToLocalView(p,E),s.set(g,E);const b=(o.get(m.batchId)||Pe()).add(g);o=o.insert(m.batchId,b)}))})).next((()=>{const h=[],m=o.getReverseIterator();for(;m.hasNext();){const g=m.getNext(),p=g.key,E=g.value,b=eA();E.forEach((S=>{if(!u.has(S)){const P=aA(n.get(S),s.get(S));P!==null&&b.set(S,P),u=u.add(S)}})),h.push(this.documentOverlayCache.saveOverlays(e,p,b))}return te.waitFor(h)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,o){return(function(h){return de.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):$b(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next((u=>{const h=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):te.resolve(ta());let m=uu,g=u;return h.next((p=>te.forEach(p,((E,b)=>(m<b.largestBatchId&&(m=b.largestBatchId),u.get(E)?te.resolve():this.remoteDocumentCache.getEntry(e,E).next((S=>{g=g.insert(E,S)}))))).next((()=>this.populateOverlays(e,p,u))).next((()=>this.computeViews(e,g,p,Pe()))).next((E=>({batchId:m,changes:Zb(E)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new de(n)).next((s=>{let o=Jl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let h=Jl();return this.indexManager.getCollectionParents(e,u).next((m=>te.forEach(m,(g=>{const p=(function(b,S){return new Lo(S,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(n,g.child(u));return this.getDocumentsMatchingCollectionQuery(e,p,s,o).next((E=>{E.forEach(((b,S)=>{h=h.insert(b,S)}))}))})).next((()=>h))))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((h=>(u=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o)))).next((h=>{u.forEach(((g,p)=>{const E=p.getKey();h.get(E)===null&&(h=h.insert(E,Wt.newInvalidDocument(E)))}));let m=Jl();return h.forEach(((g,p)=>{const E=u.get(g);E!==void 0&&su(E.mutation,p,ti.empty(),it.now()),df(n,p)&&(m=m.insert(g,p))})),m}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RD{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return te.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:ki(o.createTime)}})(n)),te.resolve()}getNamedQuery(e,n){return te.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(o){return{name:o.name,query:pD(o.bundledQuery),readTime:ki(o.readTime)}})(n)),te.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ID{constructor(){this.overlays=new ut(de.comparator),this.qr=new Map}getOverlay(e,n){return te.resolve(this.overlays.get(n))}getOverlays(e,n){const s=ta();return te.forEach(n,(o=>this.getOverlay(e,o).next((u=>{u!==null&&s.set(o,u)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((o,u)=>{this.St(e,n,u)})),te.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(s)),te.resolve()}getOverlaysForCollection(e,n,s){const o=ta(),u=n.length+1,h=new de(n.child("")),m=this.overlays.getIteratorFrom(h);for(;m.hasNext();){const g=m.getNext().value,p=g.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===u&&g.largestBatchId>s&&o.set(g.getKey(),g)}return te.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new ut(((p,E)=>p-E));const h=this.overlays.getIterator();for(;h.hasNext();){const p=h.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>s){let E=u.get(p.largestBatchId);E===null&&(E=ta(),u=u.insert(p.largestBatchId,E)),E.set(p.getKey(),p)}}const m=ta(),g=u.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((p,E)=>m.set(p,E))),!(m.size()>=o)););return te.resolve(m)}St(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const h=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(s.key,new Gx(n,s));let u=this.qr.get(n);u===void 0&&(u=Pe(),this.qr.set(n,u)),this.qr.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CD{constructor(){this.sessionToken=Yt.EMPTY_BYTE_STRING}getSessionToken(e){return te.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,te.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eg{constructor(){this.Qr=new Pt(jt.$r),this.Ur=new Pt(jt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const s=new jt(e,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Gr(new jt(e,n))}zr(e,n){e.forEach((s=>this.removeReference(s,n)))}jr(e){const n=new de(new et([])),s=new jt(n,e),o=new jt(n,e+1),u=[];return this.Ur.forEachInRange([s,o],(h=>{this.Gr(h),u.push(h.key)})),u}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new de(new et([])),s=new jt(n,e),o=new jt(n,e+1);let u=Pe();return this.Ur.forEachInRange([s,o],(h=>{u=u.add(h.key)})),u}containsKey(e){const n=new jt(e,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class jt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return de.comparator(e.key,n.key)||Ve(e.Yr,n.Yr)}static Kr(e,n){return Ve(e.Yr,n.Yr)||de.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ND{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Pt(jt.$r)}checkEmpty(e){return te.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new Fx(u,n,s,o);this.mutationQueue.push(h);for(const m of o)this.Zr=this.Zr.add(new jt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return te.resolve(h)}lookupMutationBatch(e,n){return te.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.ei(s),u=o<0?0:o;return te.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return te.resolve(this.mutationQueue.length===0?Gp:this.tr-1)}getAllMutationBatches(e){return te.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new jt(n,0),o=new jt(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([s,o],(h=>{const m=this.Xr(h.Yr);u.push(m)})),te.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Pt(Ve);return n.forEach((o=>{const u=new jt(o,0),h=new jt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,h],(m=>{s=s.add(m.Yr)}))})),te.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;de.isDocumentKey(u)||(u=u.child(""));const h=new jt(new de(u),0);let m=new Pt(Ve);return this.Zr.forEachWhile((g=>{const p=g.key.path;return!!s.isPrefixOf(p)&&(p.length===o&&(m=m.add(g.Yr)),!0)}),h),te.resolve(this.ti(m))}ti(e){const n=[];return e.forEach((s=>{const o=this.Xr(s);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){Fe(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return te.forEach(n.mutations,(o=>{const u=new jt(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,n){const s=new jt(n,0),o=this.Zr.firstAfterOrEqual(s);return te.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,te.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xD{constructor(e){this.ri=e,this.docs=(function(){return new ut(de.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,h=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return te.resolve(s?s.document.mutableCopy():Wt.newInvalidDocument(n))}getEntries(e,n){let s=vr();return n.forEach((o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():Wt.newInvalidDocument(o))})),te.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=vr();const h=n.path,m=new de(h.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(m);for(;g.hasNext();){const{key:p,value:{document:E}}=g.getNext();if(!h.isPrefixOf(p.path))break;p.path.length>h.length+1||rx(ix(E),s)<=0||(o.has(E.key)||df(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return te.resolve(u)}getAllFromCollectionGroup(e,n,s,o){ye(9500)}ii(e,n){return te.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new DD(this)}getSize(e){return te.resolve(this.size)}}class DD extends AD{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(s)})),te.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OD{constructor(e){this.persistence=e,this.si=new ga((n=>Yp(n)),$p),this.lastRemoteSnapshotVersion=ve.min(),this.highestTargetId=0,this.oi=0,this._i=new eg,this.targetCount=0,this.ai=wo.ur()}forEachTarget(e,n){return this.si.forEach(((s,o)=>n(o))),te.resolve()}getLastRemoteSnapshotVersion(e){return te.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return te.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),te.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),te.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new wo(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,te.resolve()}updateTargetData(e,n){return this.Pr(n),te.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,te.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.si.forEach(((h,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.si.delete(h),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)})),te.waitFor(u).next((()=>o))}getTargetCount(e){return te.resolve(this.targetCount)}getTargetData(e,n){const s=this.si.get(n)||null;return te.resolve(s)}addMatchingKeys(e,n,s){return this._i.Wr(n,s),te.resolve()}removeMatchingKeys(e,n,s){this._i.zr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((h=>{u.push(o.markPotentiallyOrphaned(e,h))})),te.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),te.resolve()}getMatchingKeysForTargetId(e,n){const s=this._i.Hr(n);return te.resolve(s)}containsKey(e,n){return te.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EA{constructor(e,n){this.ui={},this.overlays={},this.ci=new lf(0),this.li=!1,this.li=!0,this.hi=new CD,this.referenceDelegate=e(this),this.Pi=new OD(this),this.indexManager=new gD,this.remoteDocumentCache=(function(o){return new xD(o)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new mD(n),this.Ii=new RD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new ID,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ui[e.toKey()];return s||(s=new ND(n,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,s){le("MemoryPersistence","Starting transaction:",e);const o=new MD(this.ci.next());return this.referenceDelegate.Ei(),s(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(e,n){return te.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,n))))}}class MD extends ax{constructor(e){super(),this.currentSequenceNumber=e}}class tg{constructor(e){this.persistence=e,this.Ri=new eg,this.Vi=null}static mi(e){return new tg(e)}get fi(){if(this.Vi)return this.Vi;throw ye(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),te.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),te.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),te.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((o=>this.fi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>s.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return te.forEach(this.fi,(s=>{const o=de.fromPath(s);return this.gi(e,o).next((u=>{u||n.removeEntry(o,ve.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return te.or([()=>te.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Hh{constructor(e,n){this.persistence=e,this.pi=new ga((s=>ux(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=bD(this,n)}static mi(e,n){return new Hh(e,n)}Ei(){}di(e){return te.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((o=>s+o))))}wr(e){let n=0;return this.pr(e,(s=>{n++})).next((()=>n))}pr(e,n){return te.forEach(this.pi,((s,o)=>this.br(e,s,o).next((u=>u?te.resolve():n(o)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(e,(h=>this.br(e,h,n).next((m=>{m||(s++,u.removeEntry(h,ve.min()))})))).next((()=>u.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),te.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),te.resolve()}removeReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),te.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),te.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Ah(e.data.value)),n}br(e,n,s){return te.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.pi.get(n);return te.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ng{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Es=s,this.ds=o}static As(e,n){let s=Pe(),o=Pe();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new ng(e,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VD{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PD{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return sI()?8:ox(Zt())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.ys(e,n).next((h=>{u.result=h})).next((()=>{if(!u.result)return this.ws(e,n,o,s).next((h=>{u.result=h}))})).next((()=>{if(u.result)return;const h=new VD;return this.Ss(e,n,h).next((m=>{if(u.result=m,this.Vs)return this.bs(e,n,h,m.size)}))})).next((()=>u.result))}bs(e,n,s,o){return s.documentReadCount<this.fs?(uo()<=Me.DEBUG&&le("QueryEngine","SDK will not create cache indexes for query:",co(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),te.resolve()):(uo()<=Me.DEBUG&&le("QueryEngine","Query:",co(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(uo()<=Me.DEBUG&&le("QueryEngine","The SDK decides to create cache indexes for query:",co(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Pi(n))):te.resolve())}ys(e,n){if(p0(n))return te.resolve(null);let s=Pi(n);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=hp(n,null,"F"),s=Pi(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((u=>{const h=Pe(...u);return this.ps.getDocuments(e,h).next((m=>this.indexManager.getMinOffset(e,s).next((g=>{const p=this.Ds(n,m);return this.Cs(n,p,h,g.readTime)?this.ys(e,hp(n,null,"F")):this.vs(e,p,n,g)}))))})))))}ws(e,n,s,o){return p0(n)||o.isEqual(ve.min())?te.resolve(null):this.ps.getDocuments(e,s).next((u=>{const h=this.Ds(n,u);return this.Cs(n,h,s,o)?te.resolve(null):(uo()<=Me.DEBUG&&le("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),co(n)),this.vs(e,h,n,nx(o,uu)).next((m=>m)))}))}Ds(e,n){let s=new Pt(Jb(e));return n.forEach(((o,u)=>{df(e,u)&&(s=s.add(u))})),s}Cs(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(e,n,s){return uo()<=Me.DEBUG&&le("QueryEngine","Using full collection scan to execute query:",co(n)),this.ps.getDocumentsMatchingQuery(e,n,fs.min(),s)}vs(e,n,s,o){return this.ps.getDocumentsMatchingQuery(e,s,o).next((u=>(n.forEach((h=>{u=u.insert(h.key,h)})),u)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ig="LocalStore",LD=3e8;class kD{constructor(e,n,s,o){this.persistence=e,this.Fs=n,this.serializer=o,this.Ms=new ut(Ve),this.xs=new ga((u=>Yp(u)),$p),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new wD(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function UD(i,e,n,s){return new kD(i,e,n,s)}async function TA(i,e){const n=Te(i);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next((u=>(o=u,n.Bs(e),n.mutationQueue.getAllMutationBatches(s)))).next((u=>{const h=[],m=[];let g=Pe();for(const p of o){h.push(p.batchId);for(const E of p.mutations)g=g.add(E.key)}for(const p of u){m.push(p.batchId);for(const E of p.mutations)g=g.add(E.key)}return n.localDocuments.getDocuments(s,g).next((p=>({Ls:p,removedBatchIds:h,addedBatchIds:m})))}))}))}function jD(i,e){const n=Te(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),u=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(m,g,p,E){const b=p.batch,S=b.keys();let P=te.resolve();return S.forEach((H=>{P=P.next((()=>E.getEntry(g,H))).next((Q=>{const G=p.docVersions.get(H);Fe(G!==null,48541),Q.version.compareTo(G)<0&&(b.applyToRemoteDocument(Q,p),Q.isValidDocument()&&(Q.setReadTime(p.commitVersion),E.addEntry(Q)))}))})),P.next((()=>m.mutationQueue.removeMutationBatch(g,b)))})(n,s,e,u).next((()=>u.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(m){let g=Pe();for(let p=0;p<m.mutationResults.length;++p)m.mutationResults[p].transformResults.length>0&&(g=g.add(m.batch.mutations[p].key));return g})(e)))).next((()=>n.localDocuments.getDocuments(s,o)))}))}function bA(i){const e=Te(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function zD(i,e){const n=Te(i),s=e.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const h=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const m=[];e.targetChanges.forEach(((E,b)=>{const S=o.get(b);if(!S)return;m.push(n.Pi.removeMatchingKeys(u,E.removedDocuments,b).next((()=>n.Pi.addMatchingKeys(u,E.addedDocuments,b))));let P=S.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(b)!==null?P=P.withResumeToken(Yt.EMPTY_BYTE_STRING,ve.min()).withLastLimboFreeSnapshotVersion(ve.min()):E.resumeToken.approximateByteSize()>0&&(P=P.withResumeToken(E.resumeToken,s)),o=o.insert(b,P),(function(Q,G,X){return Q.resumeToken.approximateByteSize()===0||G.snapshotVersion.toMicroseconds()-Q.snapshotVersion.toMicroseconds()>=LD?!0:X.addedDocuments.size+X.modifiedDocuments.size+X.removedDocuments.size>0})(S,P,E)&&m.push(n.Pi.updateTargetData(u,P))}));let g=vr(),p=Pe();if(e.documentUpdates.forEach((E=>{e.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))})),m.push(BD(u,h,e.documentUpdates).next((E=>{g=E.ks,p=E.qs}))),!s.isEqual(ve.min())){const E=n.Pi.getLastRemoteSnapshotVersion(u).next((b=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,s)));m.push(E)}return te.waitFor(m).next((()=>h.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,g,p))).next((()=>g))})).then((u=>(n.Ms=o,u)))}function BD(i,e,n){let s=Pe(),o=Pe();return n.forEach((u=>s=s.add(u))),e.getEntries(i,s).next((u=>{let h=vr();return n.forEach(((m,g)=>{const p=u.get(m);g.isFoundDocument()!==p.isFoundDocument()&&(o=o.add(m)),g.isNoDocument()&&g.version.isEqual(ve.min())?(e.removeEntry(m,g.readTime),h=h.insert(m,g)):!p.isValidDocument()||g.version.compareTo(p.version)>0||g.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(g),h=h.insert(m,g)):le(ig,"Ignoring outdated watch update for ",m,". Current version:",p.version," Watch version:",g.version)})),{ks:h,qs:o}}))}function qD(i,e){const n=Te(i);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=Gp),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function HD(i,e){const n=Te(i);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return n.Pi.getTargetData(s,e).next((u=>u?(o=u,te.resolve(o)):n.Pi.allocateTargetId(s).next((h=>(o=new ss(e,h,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=n.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(e,s.targetId)),s}))}async function gp(i,e,n){const s=Te(i),o=s.Ms.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,(h=>s.persistence.referenceDelegate.removeTarget(h,o)))}catch(h){if(!Po(h))throw h;le(ig,`Failed to update sequence numbers for target ${e}: ${h}`)}s.Ms=s.Ms.remove(e),s.xs.delete(o.target)}function C0(i,e,n){const s=Te(i);let o=ve.min(),u=Pe();return s.persistence.runTransaction("Execute query","readwrite",(h=>(function(g,p,E){const b=Te(g),S=b.xs.get(E);return S!==void 0?te.resolve(b.Ms.get(S)):b.Pi.getTargetData(p,E)})(s,h,Pi(e)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(h,m.targetId).next((g=>{u=g}))})).next((()=>s.Fs.getDocumentsMatchingQuery(h,e,n?o:ve.min(),n?u:Pe()))).next((m=>(FD(s,Cx(e),m),{documents:m,Qs:u})))))}function FD(i,e,n){let s=i.Os.get(e)||ve.min();n.forEach(((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),i.Os.set(e,s)}class N0{constructor(){this.activeTargetIds=Vx()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class GD{constructor(){this.Mo=new N0,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,s){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new N0,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KD{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x0="ConnectivityMonitor";class D0{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){le(x0,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){le(x0,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ph=null;function yp(){return ph===null?ph=(function(){return 268435456+Math.round(2147483648*Math.random())})():ph++,"0x"+ph.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bm="RestConnection",QD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class YD{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===Uh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(e,n,s,o,u){const h=yp(),m=this.zo(e,n.toUriEncodedString());le(Bm,`Sending RPC '${e}' ${h}:`,m,s);const g={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(g,o,u);const{host:p}=new URL(m),E=xo(p);return this.Jo(e,m,g,s,E).then((b=>(le(Bm,`Received RPC '${e}' ${h}: `,b),b)),(b=>{throw To(Bm,`RPC '${e}' ${h} failed with error: `,b,"url: ",m,"request:",s),b}))}Ho(e,n,s,o,u,h){return this.Go(e,n,s,o,u)}jo(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Mo})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>e[u]=o)),s&&s.headers.forEach(((o,u)=>e[u]=o))}zo(e,n){const s=QD[e];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $D{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xt="WebChannelConnection";class XD extends YD{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,o,u){const h=yp();return new Promise(((m,g)=>{const p=new Sb;p.setWithCredentials(!0),p.listenOnce(wb.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case bh.NO_ERROR:const b=p.getResponseJson();le(Xt,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(b)),m(b);break;case bh.TIMEOUT:le(Xt,`RPC '${e}' ${h} timed out`),g(new oe(W.DEADLINE_EXCEEDED,"Request time out"));break;case bh.HTTP_ERROR:const S=p.getStatus();if(le(Xt,`RPC '${e}' ${h} failed with status:`,S,"response text:",p.getResponseText()),S>0){let P=p.getResponseJson();Array.isArray(P)&&(P=P[0]);const H=P?.error;if(H&&H.status&&H.message){const Q=(function(X){const ne=X.toLowerCase().replace(/_/g,"-");return Object.values(W).indexOf(ne)>=0?ne:W.UNKNOWN})(H.status);g(new oe(Q,H.message))}else g(new oe(W.UNKNOWN,"Server responded with status "+p.getStatus()))}else g(new oe(W.UNAVAILABLE,"Connection failed."));break;default:ye(9055,{l_:e,streamId:h,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{le(Xt,`RPC '${e}' ${h} completed.`)}}));const E=JSON.stringify(o);le(Xt,`RPC '${e}' ${h} sending request:`,o),p.send(n,"POST",E,s,15)}))}T_(e,n,s){const o=yp(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=Cb(),m=Ib(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(g.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(g.useFetchStreams=!0),this.jo(g.initMessageHeaders,n,s),g.encodeInitMessageHeaders=!0;const E=u.join("");le(Xt,`Creating RPC '${e}' stream ${o}: ${E}`,g);const b=h.createWebChannel(E,g);this.I_(b);let S=!1,P=!1;const H=new $D({Yo:G=>{P?le(Xt,`Not sending because RPC '${e}' stream ${o} is closed:`,G):(S||(le(Xt,`Opening RPC '${e}' stream ${o} transport.`),b.open(),S=!0),le(Xt,`RPC '${e}' stream ${o} sending:`,G),b.send(G))},Zo:()=>b.close()}),Q=(G,X,ne)=>{G.listen(X,(ae=>{try{ne(ae)}catch(Re){setTimeout((()=>{throw Re}),0)}}))};return Q(b,Xl.EventType.OPEN,(()=>{P||(le(Xt,`RPC '${e}' stream ${o} transport opened.`),H.o_())})),Q(b,Xl.EventType.CLOSE,(()=>{P||(P=!0,le(Xt,`RPC '${e}' stream ${o} transport closed`),H.a_(),this.E_(b))})),Q(b,Xl.EventType.ERROR,(G=>{P||(P=!0,To(Xt,`RPC '${e}' stream ${o} transport errored. Name:`,G.name,"Message:",G.message),H.a_(new oe(W.UNAVAILABLE,"The operation could not be completed")))})),Q(b,Xl.EventType.MESSAGE,(G=>{if(!P){const X=G.data[0];Fe(!!X,16349);const ne=X,ae=ne?.error||ne[0]?.error;if(ae){le(Xt,`RPC '${e}' stream ${o} received error:`,ae);const Re=ae.status;let Ce=(function(w){const I=Ct[w];if(I!==void 0)return uA(I)})(Re),Ie=ae.message;Ce===void 0&&(Ce=W.INTERNAL,Ie="Unknown error status: "+Re+" with message "+ae.message),P=!0,H.a_(new oe(Ce,Ie)),b.close()}else le(Xt,`RPC '${e}' stream ${o} received:`,X),H.u_(X)}})),Q(m,Rb.STAT_EVENT,(G=>{G.stat===rp.PROXY?le(Xt,`RPC '${e}' stream ${o} detected buffering proxy`):G.stat===rp.NOPROXY&&le(Xt,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{H.__()}),0),H}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function qm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yf(i){return new eD(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AA{constructor(e,n,s=1e3,o=1.5,u=6e4){this.Mi=e,this.timerId=n,this.d_=s,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&le("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O0="PersistentStream";class SA{constructor(e,n,s,o,u,h,m,g){this.Mi=e,this.S_=s,this.b_=o,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=m,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new AA(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===W.RESOURCE_EXHAUSTED?(_r(n.toString()),_r("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===W.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===n&&this.G_(s,o)}),(s=>{e((()=>{const o=new oe(W.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,n){const s=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return le(O0,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(le(O0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class JD extends SA{constructor(e,n,s,o,u,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,h),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=iD(this.serializer,e),s=(function(u){if(!("targetChange"in u))return ve.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?ve.min():h.readTime?ki(h.readTime):ve.min()})(e);return this.listener.H_(n,s)}Y_(e){const n={};n.database=pp(this.serializer),n.addTarget=(function(u,h){let m;const g=h.target;if(m=up(g)?{documents:aD(u,g)}:{query:oD(u,g).ft},m.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){m.resumeToken=fA(u,h.resumeToken);const p=fp(u,h.expectedCount);p!==null&&(m.expectedCount=p)}else if(h.snapshotVersion.compareTo(ve.min())>0){m.readTime=qh(u,h.snapshotVersion.toTimestamp());const p=fp(u,h.expectedCount);p!==null&&(m.expectedCount=p)}return m})(this.serializer,e);const s=uD(this.serializer,e);s&&(n.labels=s),this.q_(n)}Z_(e){const n={};n.database=pp(this.serializer),n.removeTarget=e,this.q_(n)}}class WD extends SA{constructor(e,n,s,o,u,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,h),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Fe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Fe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Fe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=sD(e.writeResults,e.commitTime),s=ki(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=pp(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>rD(this.serializer,s)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZD{}class eO extends ZD{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new oe(W.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,h])=>this.connection.Go(e,dp(n,s),o,u,h))).catch((u=>{throw u.name==="FirebaseError"?(u.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new oe(W.UNKNOWN,u.toString())}))}Ho(e,n,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,m])=>this.connection.Ho(e,dp(n,s),o,h,m,u))).catch((h=>{throw h.name==="FirebaseError"?(h.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new oe(W.UNKNOWN,h.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class tO{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(_r(n),this.aa=!1):le("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const la="RemoteStore";class nO{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((h=>{s.enqueueAndForget((async()=>{_a(this)&&(le(la,"Restarting streams for network reachability change."),await(async function(g){const p=Te(g);p.Ea.add(4),await Du(p),p.Ra.set("Unknown"),p.Ea.delete(4),await _f(p)})(this))}))})),this.Ra=new tO(s,o)}}async function _f(i){if(_a(i))for(const e of i.da)await e(!0)}async function Du(i){for(const e of i.da)await e(!1)}function wA(i,e){const n=Te(i);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),og(n)?ag(n):ko(n).O_()&&sg(n,e))}function rg(i,e){const n=Te(i),s=ko(n);n.Ia.delete(e),s.O_()&&RA(n,e),n.Ia.size===0&&(s.O_()?s.L_():_a(n)&&n.Ra.set("Unknown"))}function sg(i,e){if(i.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ve.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ko(i).Y_(e)}function RA(i,e){i.Va.Ue(e),ko(i).Z_(e)}function ag(i){i.Va=new Xx({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),At:e=>i.Ia.get(e)||null,ht:()=>i.datastore.serializer.databaseId}),ko(i).start(),i.Ra.ua()}function og(i){return _a(i)&&!ko(i).x_()&&i.Ia.size>0}function _a(i){return Te(i).Ea.size===0}function IA(i){i.Va=void 0}async function iO(i){i.Ra.set("Online")}async function rO(i){i.Ia.forEach(((e,n)=>{sg(i,e)}))}async function sO(i,e){IA(i),og(i)?(i.Ra.ha(e),ag(i)):i.Ra.set("Unknown")}async function aO(i,e,n){if(i.Ra.set("Online"),e instanceof hA&&e.state===2&&e.cause)try{await(async function(o,u){const h=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,h),o.Ia.delete(m),o.Va.removeTarget(m))})(i,e)}catch(s){le(la,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Fh(i,s)}else if(e instanceof Rh?i.Va.Ze(e):e instanceof cA?i.Va.st(e):i.Va.tt(e),!n.isEqual(ve.min()))try{const s=await bA(i.localStore);n.compareTo(s)>=0&&await(function(u,h){const m=u.Va.Tt(h);return m.targetChanges.forEach(((g,p)=>{if(g.resumeToken.approximateByteSize()>0){const E=u.Ia.get(p);E&&u.Ia.set(p,E.withResumeToken(g.resumeToken,h))}})),m.targetMismatches.forEach(((g,p)=>{const E=u.Ia.get(g);if(!E)return;u.Ia.set(g,E.withResumeToken(Yt.EMPTY_BYTE_STRING,E.snapshotVersion)),RA(u,g);const b=new ss(E.target,g,p,E.sequenceNumber);sg(u,b)})),u.remoteSyncer.applyRemoteEvent(m)})(i,n)}catch(s){le(la,"Failed to raise snapshot:",s),await Fh(i,s)}}async function Fh(i,e,n){if(!Po(e))throw e;i.Ea.add(1),await Du(i),i.Ra.set("Offline"),n||(n=()=>bA(i.localStore)),i.asyncQueue.enqueueRetryable((async()=>{le(la,"Retrying IndexedDB access"),await n(),i.Ea.delete(1),await _f(i)}))}function CA(i,e){return e().catch((n=>Fh(i,n,e)))}async function vf(i){const e=Te(i),n=gs(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Gp;for(;oO(e);)try{const o=await qD(e.localStore,s);if(o===null){e.Ta.length===0&&n.L_();break}s=o.batchId,lO(e,o)}catch(o){await Fh(e,o)}NA(e)&&xA(e)}function oO(i){return _a(i)&&i.Ta.length<10}function lO(i,e){i.Ta.push(e);const n=gs(i);n.O_()&&n.X_&&n.ea(e.mutations)}function NA(i){return _a(i)&&!gs(i).x_()&&i.Ta.length>0}function xA(i){gs(i).start()}async function uO(i){gs(i).ra()}async function cO(i){const e=gs(i);for(const n of i.Ta)e.ea(n.mutations)}async function hO(i,e,n){const s=i.Ta.shift(),o=Jp.from(s,e,n);await CA(i,(()=>i.remoteSyncer.applySuccessfulWrite(o))),await vf(i)}async function fO(i,e){e&&gs(i).X_&&await(async function(s,o){if((function(h){return Qx(h)&&h!==W.ABORTED})(o.code)){const u=s.Ta.shift();gs(s).B_(),await CA(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o))),await vf(s)}})(i,e),NA(i)&&xA(i)}async function M0(i,e){const n=Te(i);n.asyncQueue.verifyOperationInProgress(),le(la,"RemoteStore received new credentials");const s=_a(n);n.Ea.add(3),await Du(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await _f(n)}async function dO(i,e){const n=Te(i);e?(n.Ea.delete(2),await _f(n)):e||(n.Ea.add(2),await Du(n),n.Ra.set("Unknown"))}function ko(i){return i.ma||(i.ma=(function(n,s,o){const u=Te(n);return u.sa(),new JD(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(i.datastore,i.asyncQueue,{Xo:iO.bind(null,i),t_:rO.bind(null,i),r_:sO.bind(null,i),H_:aO.bind(null,i)}),i.da.push((async e=>{e?(i.ma.B_(),og(i)?ag(i):i.Ra.set("Unknown")):(await i.ma.stop(),IA(i))}))),i.ma}function gs(i){return i.fa||(i.fa=(function(n,s,o){const u=Te(n);return u.sa(),new WD(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(i.datastore,i.asyncQueue,{Xo:()=>Promise.resolve(),t_:uO.bind(null,i),r_:fO.bind(null,i),ta:cO.bind(null,i),na:hO.bind(null,i)}),i.da.push((async e=>{e?(i.fa.B_(),await vf(i)):(await i.fa.stop(),i.Ta.length>0&&(le(la,`Stopping write stream with ${i.Ta.length} pending writes`),i.Ta=[]))}))),i.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lg{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new mr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((h=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const h=Date.now()+s,m=new lg(e,n,h,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new oe(W.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ug(i,e){if(_r("AsyncQueue",`${e}: ${i}`),Po(i))return new oe(W.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yo{static emptySet(e){return new yo(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||de.comparator(n.key,s.key):(n,s)=>de.comparator(n.key,s.key),this.keyedMap=Jl(),this.sortedSet=new ut(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof yo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new yo;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V0{constructor(){this.ga=new ut(de.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):ye(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class Ro{constructor(e,n,s,o,u,h,m,g,p){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=m,this.excludesMetadataChanges=g,this.hasCachedResults=p}static fromInitialDocuments(e,n,s,o,u){const h=[];return n.forEach((m=>{h.push({type:0,doc:m})})),new Ro(e,n,yo.emptySet(n),h,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ff(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mO{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class pO{constructor(){this.queries=P0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=Te(n),u=o.queries;o.queries=P0(),u.forEach(((h,m)=>{for(const g of m.Sa)g.onError(s)}))})(this,new oe(W.ABORTED,"Firestore shutting down"))}}function P0(){return new ga((i=>Xb(i)),ff)}async function cg(i,e){const n=Te(i);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.ba()&&e.Da()&&(s=2):(u=new mO,s=e.Da()?0:1);try{switch(s){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(h){const m=ug(h,`Initialization of query '${co(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.Sa.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&fg(n)}async function hg(i,e){const n=Te(i),s=e.query;let o=3;const u=n.queries.get(s);if(u){const h=u.Sa.indexOf(e);h>=0&&(u.Sa.splice(h,1),u.Sa.length===0?o=e.Da()?0:1:!u.ba()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function gO(i,e){const n=Te(i);let s=!1;for(const o of e){const u=o.query,h=n.queries.get(u);if(h){for(const m of h.Sa)m.Fa(o)&&(s=!0);h.wa=o}}s&&fg(n)}function yO(i,e,n){const s=Te(i),o=s.queries.get(e);if(o)for(const u of o.Sa)u.onError(n);s.queries.delete(e)}function fg(i){i.Ca.forEach((e=>{e.next()}))}var _p,L0;(L0=_p||(_p={})).Ma="default",L0.Cache="cache";class dg{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new Ro(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Ro.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==_p.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DA{constructor(e){this.key=e}}class OA{constructor(e){this.key=e}}class _O{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Pe(),this.mutatedKeys=Pe(),this.eu=Jb(e),this.tu=new yo(this.eu)}get nu(){return this.Ya}ru(e,n){const s=n?n.iu:new V0,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,h=o,m=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,p=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((E,b)=>{const S=o.get(E),P=df(this.query,b)?b:null,H=!!S&&this.mutatedKeys.has(S.key),Q=!!P&&(P.hasLocalMutations||this.mutatedKeys.has(P.key)&&P.hasCommittedMutations);let G=!1;S&&P?S.data.isEqual(P.data)?H!==Q&&(s.track({type:3,doc:P}),G=!0):this.su(S,P)||(s.track({type:2,doc:P}),G=!0,(g&&this.eu(P,g)>0||p&&this.eu(P,p)<0)&&(m=!0)):!S&&P?(s.track({type:0,doc:P}),G=!0):S&&!P&&(s.track({type:1,doc:S}),G=!0,(g||p)&&(m=!0)),G&&(P?(h=h.add(P),u=Q?u.add(E):u.delete(E)):(h=h.delete(E),u=u.delete(E)))})),this.query.limit!==null)for(;h.size>this.query.limit;){const E=this.query.limitType==="F"?h.last():h.first();h=h.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{tu:h,iu:s,Cs:m,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const h=e.iu.ya();h.sort(((E,b)=>(function(P,H){const Q=G=>{switch(G){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ye(20277,{Rt:G})}};return Q(P)-Q(H)})(E.type,b.type)||this.eu(E.doc,b.doc))),this.ou(s),o=o??!1;const m=n&&!o?this._u():[],g=this.Xa.size===0&&this.current&&!o?1:0,p=g!==this.Za;return this.Za=g,h.length!==0||p?{snapshot:new Ro(this.query,e.tu,u,h,e.mutatedKeys,g===0,p,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new V0,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Pe(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const n=[];return e.forEach((s=>{this.Xa.has(s)||n.push(new OA(s))})),this.Xa.forEach((s=>{e.has(s)||n.push(new DA(s))})),n}cu(e){this.Ya=e.Qs,this.Xa=Pe();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Ro.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const mg="SyncEngine";class vO{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class EO{constructor(e){this.key=e,this.hu=!1}}class TO{constructor(e,n,s,o,u,h){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.Pu={},this.Tu=new ga((m=>Xb(m)),ff),this.Iu=new Map,this.Eu=new Set,this.du=new ut(de.comparator),this.Au=new Map,this.Ru=new eg,this.Vu={},this.mu=new Map,this.fu=wo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function bO(i,e,n=!0){const s=UA(i);let o;const u=s.Tu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await MA(s,e,n,!0),o}async function AO(i,e){const n=UA(i);await MA(n,e,!0,!1)}async function MA(i,e,n,s){const o=await HD(i.localStore,Pi(e)),u=o.targetId,h=i.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await SO(i,e,u,h==="current",o.resumeToken)),i.isPrimaryClient&&n&&wA(i.remoteStore,o),m}async function SO(i,e,n,s,o){i.pu=(b,S,P)=>(async function(Q,G,X,ne){let ae=G.view.ru(X);ae.Cs&&(ae=await C0(Q.localStore,G.query,!1).then((({documents:x})=>G.view.ru(x,ae))));const Re=ne&&ne.targetChanges.get(G.targetId),Ce=ne&&ne.targetMismatches.get(G.targetId)!=null,Ie=G.view.applyChanges(ae,Q.isPrimaryClient,Re,Ce);return U0(Q,G.targetId,Ie.au),Ie.snapshot})(i,b,S,P);const u=await C0(i.localStore,e,!0),h=new _O(e,u.Qs),m=h.ru(u.documents),g=xu.createSynthesizedTargetChangeForCurrentChange(n,s&&i.onlineState!=="Offline",o),p=h.applyChanges(m,i.isPrimaryClient,g);U0(i,n,p.au);const E=new vO(e,n,h);return i.Tu.set(e,E),i.Iu.has(n)?i.Iu.get(n).push(e):i.Iu.set(n,[e]),p.snapshot}async function wO(i,e,n){const s=Te(i),o=s.Tu.get(e),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter((h=>!ff(h,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await gp(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),n&&rg(s.remoteStore,o.targetId),vp(s,o.targetId)})).catch(Vo)):(vp(s,o.targetId),await gp(s.localStore,o.targetId,!0))}async function RO(i,e){const n=Te(i),s=n.Tu.get(e),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),rg(n.remoteStore,s.targetId))}async function IO(i,e,n){const s=VO(i);try{const o=await(function(h,m){const g=Te(h),p=it.now(),E=m.reduce(((P,H)=>P.add(H.key)),Pe());let b,S;return g.persistence.runTransaction("Locally write mutations","readwrite",(P=>{let H=vr(),Q=Pe();return g.Ns.getEntries(P,E).next((G=>{H=G,H.forEach(((X,ne)=>{ne.isValidDocument()||(Q=Q.add(X))}))})).next((()=>g.localDocuments.getOverlayedDocuments(P,H))).next((G=>{b=G;const X=[];for(const ne of m){const ae=qx(ne,b.get(ne.key).overlayedDocument);ae!=null&&X.push(new ya(ne.key,ae,qb(ae.value.mapValue),Li.exists(!0)))}return g.mutationQueue.addMutationBatch(P,p,X,m)})).next((G=>{S=G;const X=G.applyToLocalDocumentSet(b,Q);return g.documentOverlayCache.saveOverlays(P,G.batchId,X)}))})).then((()=>({batchId:S.batchId,changes:Zb(b)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(h,m,g){let p=h.Vu[h.currentUser.toKey()];p||(p=new ut(Ve)),p=p.insert(m,g),h.Vu[h.currentUser.toKey()]=p})(s,o.batchId,n),await Ou(s,o.changes),await vf(s.remoteStore)}catch(o){const u=ug(o,"Failed to persist write");n.reject(u)}}async function VA(i,e){const n=Te(i);try{const s=await zD(n.localStore,e);e.targetChanges.forEach(((o,u)=>{const h=n.Au.get(u);h&&(Fe(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?h.hu=!0:o.modifiedDocuments.size>0?Fe(h.hu,14607):o.removedDocuments.size>0&&(Fe(h.hu,42227),h.hu=!1))})),await Ou(n,s,e)}catch(s){await Vo(s)}}function k0(i,e,n){const s=Te(i);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach(((u,h)=>{const m=h.view.va(e);m.snapshot&&o.push(m.snapshot)})),(function(h,m){const g=Te(h);g.onlineState=m;let p=!1;g.queries.forEach(((E,b)=>{for(const S of b.Sa)S.va(m)&&(p=!0)})),p&&fg(g)})(s.eventManager,e),o.length&&s.Pu.H_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function CO(i,e,n){const s=Te(i);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Au.get(e),u=o&&o.key;if(u){let h=new ut(de.comparator);h=h.insert(u,Wt.newNoDocument(u,ve.min()));const m=Pe().add(u),g=new gf(ve.min(),new Map,new ut(Ve),h,m);await VA(s,g),s.du=s.du.remove(u),s.Au.delete(e),pg(s)}else await gp(s.localStore,e,!1).then((()=>vp(s,e,n))).catch(Vo)}async function NO(i,e){const n=Te(i),s=e.batch.batchId;try{const o=await jD(n.localStore,e);LA(n,s,null),PA(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Ou(n,o)}catch(o){await Vo(o)}}async function xO(i,e,n){const s=Te(i);try{const o=await(function(h,m){const g=Te(h);return g.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let E;return g.mutationQueue.lookupMutationBatch(p,m).next((b=>(Fe(b!==null,37113),E=b.keys(),g.mutationQueue.removeMutationBatch(p,b)))).next((()=>g.mutationQueue.performConsistencyCheck(p))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(p,E,m))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,E))).next((()=>g.localDocuments.getDocuments(p,E)))}))})(s.localStore,e);LA(s,e,n),PA(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await Ou(s,o)}catch(o){await Vo(o)}}function PA(i,e){(i.mu.get(e)||[]).forEach((n=>{n.resolve()})),i.mu.delete(e)}function LA(i,e,n){const s=Te(i);let o=s.Vu[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.Vu[s.currentUser.toKey()]=o}}function vp(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.Iu.get(e))i.Tu.delete(s),n&&i.Pu.yu(s,n);i.Iu.delete(e),i.isPrimaryClient&&i.Ru.jr(e).forEach((s=>{i.Ru.containsKey(s)||kA(i,s)}))}function kA(i,e){i.Eu.delete(e.path.canonicalString());const n=i.du.get(e);n!==null&&(rg(i.remoteStore,n),i.du=i.du.remove(e),i.Au.delete(n),pg(i))}function U0(i,e,n){for(const s of n)s instanceof DA?(i.Ru.addReference(s.key,e),DO(i,s)):s instanceof OA?(le(mg,"Document no longer in limbo: "+s.key),i.Ru.removeReference(s.key,e),i.Ru.containsKey(s.key)||kA(i,s.key)):ye(19791,{wu:s})}function DO(i,e){const n=e.key,s=n.path.canonicalString();i.du.get(n)||i.Eu.has(s)||(le(mg,"New document in limbo: "+n),i.Eu.add(s),pg(i))}function pg(i){for(;i.Eu.size>0&&i.du.size<i.maxConcurrentLimboResolutions;){const e=i.Eu.values().next().value;i.Eu.delete(e);const n=new de(et.fromString(e)),s=i.fu.next();i.Au.set(s,new EO(n)),i.du=i.du.insert(n,s),wA(i.remoteStore,new ss(Pi(hf(n.path)),s,"TargetPurposeLimboResolution",lf.ce))}}async function Ou(i,e,n){const s=Te(i),o=[],u=[],h=[];s.Tu.isEmpty()||(s.Tu.forEach(((m,g)=>{h.push(s.pu(g,e,n).then((p=>{if((p||n)&&s.isPrimaryClient){const E=p?!p.fromCache:n?.targetChanges.get(g.targetId)?.current;s.sharedClientState.updateQueryState(g.targetId,E?"current":"not-current")}if(p){o.push(p);const E=ng.As(g.targetId,p);u.push(E)}})))})),await Promise.all(h),s.Pu.H_(o),await(async function(g,p){const E=Te(g);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>te.forEach(p,(S=>te.forEach(S.Es,(P=>E.persistence.referenceDelegate.addReference(b,S.targetId,P))).next((()=>te.forEach(S.ds,(P=>E.persistence.referenceDelegate.removeReference(b,S.targetId,P)))))))))}catch(b){if(!Po(b))throw b;le(ig,"Failed to update sequence numbers: "+b)}for(const b of p){const S=b.targetId;if(!b.fromCache){const P=E.Ms.get(S),H=P.snapshotVersion,Q=P.withLastLimboFreeSnapshotVersion(H);E.Ms=E.Ms.insert(S,Q)}}})(s.localStore,u))}async function OO(i,e){const n=Te(i);if(!n.currentUser.isEqual(e)){le(mg,"User change. New user:",e.toKey());const s=await TA(n.localStore,e);n.currentUser=e,(function(u,h){u.mu.forEach((m=>{m.forEach((g=>{g.reject(new oe(W.CANCELLED,h))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Ou(n,s.Ls)}}function MO(i,e){const n=Te(i),s=n.Au.get(e);if(s&&s.hu)return Pe().add(s.key);{let o=Pe();const u=n.Iu.get(e);if(!u)return o;for(const h of u){const m=n.Tu.get(h);o=o.unionWith(m.view.nu)}return o}}function UA(i){const e=Te(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=VA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=MO.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=CO.bind(null,e),e.Pu.H_=gO.bind(null,e.eventManager),e.Pu.yu=yO.bind(null,e.eventManager),e}function VO(i){const e=Te(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=NO.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=xO.bind(null,e),e}class Gh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=yf(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return UD(this.persistence,new PD,e.initialUser,this.serializer)}Cu(e){return new EA(tg.mi,this.serializer)}Du(e){return new GD}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Gh.provider={build:()=>new Gh};class PO extends Gh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Fe(this.persistence.referenceDelegate instanceof Hh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new ED(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?fn.withCacheSize(this.cacheSizeBytes):fn.DEFAULT;return new EA((s=>Hh.mi(s,n)),this.serializer)}}class Ep{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>k0(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=OO.bind(null,this.syncEngine),await dO(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new pO})()}createDatastore(e){const n=yf(e.databaseInfo.databaseId),s=(function(u){return new XD(u)})(e.databaseInfo);return(function(u,h,m,g){return new eO(u,h,m,g)})(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,o,u,h,m){return new nO(s,o,u,h,m)})(this.localStore,this.datastore,e.asyncQueue,(n=>k0(this.syncEngine,n,0)),(function(){return D0.v()?new D0:new KD})())}createSyncEngine(e,n){return(function(o,u,h,m,g,p,E){const b=new TO(o,u,h,m,g,p);return E&&(b.gu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=Te(n);le(la,"RemoteStore shutting down."),s.Ea.add(5),await Du(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Ep.provider={build:()=>new Ep};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gg{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):_r("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ys="FirestoreClient";class LO{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=Jt.UNAUTHENTICATED,this.clientId=Fp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async h=>{le(ys,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h})),this.appCheckCredentials.start(s,(h=>(le(ys,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new mr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=ug(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function Hm(i,e){i.asyncQueue.verifyOperationInProgress(),le(ys,"Initializing OfflineComponentProvider");const n=i.configuration;await e.initialize(n);let s=n.initialUser;i.setCredentialChangeListener((async o=>{s.isEqual(o)||(await TA(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>i.terminate())),i._offlineComponents=e}async function j0(i,e){i.asyncQueue.verifyOperationInProgress();const n=await kO(i);le(ys,"Initializing OnlineComponentProvider"),await e.initialize(n,i.configuration),i.setCredentialChangeListener((s=>M0(e.remoteStore,s))),i.setAppCheckTokenChangeListener(((s,o)=>M0(e.remoteStore,o))),i._onlineComponents=e}async function kO(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){le(ys,"Using user provided OfflineComponentProvider");try{await Hm(i,i._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===W.FAILED_PRECONDITION||o.code===W.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;To("Error using user provided cache. Falling back to memory cache: "+n),await Hm(i,new Gh)}}else le(ys,"Using default OfflineComponentProvider"),await Hm(i,new PO(void 0));return i._offlineComponents}async function jA(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(le(ys,"Using user provided OnlineComponentProvider"),await j0(i,i._uninitializedComponentsProvider._online)):(le(ys,"Using default OnlineComponentProvider"),await j0(i,new Ep))),i._onlineComponents}function UO(i){return jA(i).then((e=>e.syncEngine))}async function Kh(i){const e=await jA(i),n=e.eventManager;return n.onListen=bO.bind(null,e.syncEngine),n.onUnlisten=wO.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=AO.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=RO.bind(null,e.syncEngine),n}function jO(i,e,n={}){const s=new mr;return i.asyncQueue.enqueueAndForget((async()=>(function(u,h,m,g,p){const E=new gg({next:S=>{E.Nu(),h.enqueueAndForget((()=>hg(u,b)));const P=S.docs.has(m);!P&&S.fromCache?p.reject(new oe(W.UNAVAILABLE,"Failed to get document because the client is offline.")):P&&S.fromCache&&g&&g.source==="server"?p.reject(new oe(W.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(S)},error:S=>p.reject(S)}),b=new dg(hf(m.path),E,{includeMetadataChanges:!0,qa:!0});return cg(u,b)})(await Kh(i),i.asyncQueue,e,n,s))),s.promise}function zO(i,e,n={}){const s=new mr;return i.asyncQueue.enqueueAndForget((async()=>(function(u,h,m,g,p){const E=new gg({next:S=>{E.Nu(),h.enqueueAndForget((()=>hg(u,b))),S.fromCache&&g.source==="server"?p.reject(new oe(W.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(S)},error:S=>p.reject(S)}),b=new dg(m,E,{includeMetadataChanges:!0,qa:!0});return cg(u,b)})(await Kh(i),i.asyncQueue,e,n,s))),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zA(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z0=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BA="firestore.googleapis.com",B0=!0;class q0{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new oe(W.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=BA,this.ssl=B0}else this.host=e.host,this.ssl=e.ssl??B0;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=vA;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<_D)throw new oe(W.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}tx("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=zA(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new oe(W.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new oe(W.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new oe(W.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ef{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new q0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new oe(W.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new oe(W.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new q0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new GN;switch(s.type){case"firstParty":return new $N(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new oe(W.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=z0.get(n);s&&(le("ComponentProvider","Removing Datastore"),z0.delete(n),s.terminate())})(this),Promise.resolve()}}function BO(i,e,n,s={}){i=ii(i,Ef);const o=xo(e),u=i._getSettings(),h={...u,emulatorOptions:i._getEmulatorOptions()},m=`${e}:${n}`;o&&(DT(`https://${m}`),OT("Firestore",!0)),u.host!==BA&&u.host!==m&&To("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...u,host:m,ssl:o,emulatorOptions:s};if(!hs(g,h)&&(i._setSettings(g),s.mockUserToken)){let p,E;if(typeof s.mockUserToken=="string")p=s.mockUserToken,E=Jt.MOCK_USER;else{p=JR(s.mockUserToken,i._app?.options.projectId);const b=s.mockUserToken.sub||s.mockUserToken.user_id;if(!b)throw new oe(W.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new Jt(b)}i._authCredentials=new KN(new xb(p,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Es{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Es(this.firestore,e,this._query)}}class yt{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new cs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new yt(this.firestore,e,this._key)}toJSON(){return{type:yt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(Cu(n,yt._jsonSchema))return new yt(e,s||null,new de(et.fromString(n.referencePath)))}}yt._jsonSchemaVersion="firestore/documentReference/1.0",yt._jsonSchema={type:xt("string",yt._jsonSchemaVersion),referencePath:xt("string")};class cs extends Es{constructor(e,n,s){super(e,n,hf(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new yt(this.firestore,null,new de(e))}withConverter(e){return new cs(this.firestore,e,this._path)}}function yu(i,e,...n){if(i=_t(i),Db("collection","path",e),i instanceof Ef){const s=et.fromString(e,...n);return t0(s),new cs(i,null,s)}{if(!(i instanceof yt||i instanceof cs))throw new oe(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(et.fromString(e,...n));return t0(s),new cs(i.firestore,null,s)}}function Mu(i,e,...n){if(i=_t(i),arguments.length===1&&(e=Fp.newId()),Db("doc","path",e),i instanceof Ef){const s=et.fromString(e,...n);return e0(s),new yt(i,null,new de(s))}{if(!(i instanceof yt||i instanceof cs))throw new oe(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(et.fromString(e,...n));return e0(s),new yt(i.firestore,i instanceof cs?i.converter:null,new de(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H0="AsyncQueue";class F0{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new AA(this,"async_queue_retry"),this._c=()=>{const s=qm();s&&le(H0,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=qm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=qm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new mr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Po(e))throw e;le(H0,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,_r("INTERNAL UNHANDLED ERROR: ",G0(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=lg.createAndSchedule(this,e,n,s,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&ye(47125,{Pc:G0(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function G0(i){let e=i.message||"";return i.stack&&(e=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K0(i){return(function(n,s){if(typeof n!="object"||n===null)return!1;const o=n;for(const u of s)if(u in o&&typeof o[u]=="function")return!0;return!1})(i,["next","error","complete"])}class ua extends Ef{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new F0,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new F0(e),this._firestoreClient=void 0,await e}}}function qO(i,e){const n=typeof i=="object"?i:Op(),s=typeof i=="string"?i:Uh,o=ma(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=$R("firestore");u&&BO(o,...u)}return o}function Tf(i){if(i._terminated)throw new oe(W.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||HO(i),i._firestoreClient}function HO(i){const e=i._freezeSettings(),n=(function(o,u,h,m){return new fx(o,u,h,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,zA(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)})(i._databaseId,i._app?.options.appId||"",i._persistenceKey,e);i._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(i._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),i._firestoreClient=new LO(i._authCredentials,i._appCheckCredentials,i._queue,n,i._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new jn(Yt.fromBase64String(e))}catch(n){throw new oe(W.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new jn(Yt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:jn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Cu(e,jn._jsonSchema))return jn.fromBase64String(e.bytes)}}jn._jsonSchemaVersion="firestore/bytes/1.0",jn._jsonSchema={type:xt("string",jn._jsonSchemaVersion),bytes:xt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yg{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new oe(W.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _g{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ui{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new oe(W.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new oe(W.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ve(this._lat,e._lat)||Ve(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ui._jsonSchemaVersion}}static fromJSON(e){if(Cu(e,Ui._jsonSchema))return new Ui(e.latitude,e.longitude)}}Ui._jsonSchemaVersion="firestore/geoPoint/1.0",Ui._jsonSchema={type:xt("string",Ui._jsonSchemaVersion),latitude:xt("number"),longitude:xt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ji{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:ji._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Cu(e,ji._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new ji(e.vectorValues);throw new oe(W.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ji._jsonSchemaVersion="firestore/vectorValue/1.0",ji._jsonSchema={type:xt("string",ji._jsonSchemaVersion),vectorValues:xt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FO=/^__.*__$/;class GO{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new ya(e,this.data,this.fieldMask,n,this.fieldTransforms):new Nu(e,this.data,n,this.fieldTransforms)}}function qA(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ye(40011,{Ac:i})}}class vg{constructor(e,n,s,o,u,h){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new vg({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.gc(e),s}yc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Qh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(qA(this.Ac)&&FO.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class KO{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||yf(e)}Cc(e,n,s,o=!1){return new vg({Ac:e,methodName:n,Dc:s,path:Qt.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Eg(i){const e=i._freezeSettings(),n=yf(i._databaseId);return new KO(i._databaseId,!!e.ignoreUndefinedProperties,n)}function HA(i,e,n,s,o,u={}){const h=i.Cc(u.merge||u.mergeFields?2:0,e,n,o);KA("Data must be an object, but it was:",h,s);const m=FA(s,h);let g,p;if(u.merge)g=new ti(h.fieldMask),p=h.fieldTransforms;else if(u.mergeFields){const E=[];for(const b of u.mergeFields){const S=YO(e,b,n);if(!h.contains(S))throw new oe(W.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);XO(E,S)||E.push(S)}g=new ti(E),p=h.fieldTransforms.filter((b=>g.covers(b.field)))}else g=null,p=h.fieldTransforms;return new GO(new Un(m),g,p)}class Tg extends _g{_toFieldTransform(e){return new Ux(e.path,new mu)}isEqual(e){return e instanceof Tg}}function QO(i,e,n,s=!1){return bg(n,i.Cc(s?4:3,e))}function bg(i,e){if(GA(i=_t(i)))return KA("Unsupported field value:",e,i),FA(i,e);if(i instanceof _g)return(function(s,o){if(!qA(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,o){const u=[];let h=0;for(const m of s){let g=bg(m,o.wc(h));g==null&&(g={nullValue:"NULL_VALUE"}),u.push(g),h++}return{arrayValue:{values:u}}})(i,e)}return(function(s,o){if((s=_t(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return Px(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=it.fromDate(s);return{timestampValue:qh(o.serializer,u)}}if(s instanceof it){const u=new it(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:qh(o.serializer,u)}}if(s instanceof Ui)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof jn)return{bytesValue:fA(o.serializer,s._byteString)};if(s instanceof yt){const u=o.databaseId,h=s.firestore._databaseId;if(!h.isEqual(u))throw o.Sc(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Zp(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof ji)return(function(h,m){return{mapValue:{fields:{[zb]:{stringValue:Bb},[jh]:{arrayValue:{values:h.toArray().map((p=>{if(typeof p!="number")throw m.Sc("VectorValues must only contain numeric values.");return Xp(m.serializer,p)}))}}}}}})(s,o);throw o.Sc(`Unsupported field value: ${of(s)}`)})(i,e)}function FA(i,e){const n={};return Vb(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):pa(i,((s,o)=>{const u=bg(o,e.mc(s));u!=null&&(n[s]=u)})),{mapValue:{fields:n}}}function GA(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof it||i instanceof Ui||i instanceof jn||i instanceof yt||i instanceof _g||i instanceof ji)}function KA(i,e,n){if(!GA(n)||!Ob(n)){const s=of(n);throw s==="an object"?e.Sc(i+" a custom object"):e.Sc(i+" "+s)}}function YO(i,e,n){if((e=_t(e))instanceof yg)return e._internalPath;if(typeof e=="string")return QA(i,e);throw Qh("Field path arguments must be of type string or ",i,!1,void 0,n)}const $O=new RegExp("[~\\*/\\[\\]]");function QA(i,e,n){if(e.search($O)>=0)throw Qh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new yg(...e.split("."))._internalPath}catch{throw Qh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function Qh(i,e,n,s,o){const u=s&&!s.isEmpty(),h=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let g="";return(u||h)&&(g+=" (found",u&&(g+=` in field ${s}`),h&&(g+=` in document ${o}`),g+=")"),new oe(W.INVALID_ARGUMENT,m+i+g)}function XO(i,e){return i.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YA{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new yt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new JO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(bf("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class JO extends YA{data(){return super.data()}}function bf(i,e){return typeof e=="string"?QA(i,e):e instanceof yg?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $A(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new oe(W.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Ag{}class XA extends Ag{}function JA(i,e,...n){let s=[];e instanceof Ag&&s.push(e),s=s.concat(n),(function(u){const h=u.filter((g=>g instanceof Sg)).length,m=u.filter((g=>g instanceof Af)).length;if(h>1||h>0&&m>0)throw new oe(W.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)i=o._apply(i);return i}class Af extends XA{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new Af(e,n,s)}_apply(e){const n=this._parse(e);return WA(e._query,n),new Es(e.firestore,e.converter,cp(e._query,n))}_parse(e){const n=Eg(e.firestore);return(function(u,h,m,g,p,E,b){let S;if(p.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new oe(W.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){Y0(b,E);const H=[];for(const Q of b)H.push(Q0(g,u,Q));S={arrayValue:{values:H}}}else S=Q0(g,u,b)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||Y0(b,E),S=QO(m,h,b,E==="in"||E==="not-in");return Nt.create(p,E,S)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function WO(i,e,n){const s=e,o=bf("where",i);return Af._create(o,s,n)}class Sg extends Ag{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Sg(e,n)}_parse(e){const n=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:ai.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,u){let h=o;const m=u.getFlattenedFilters();for(const g of m)WA(h,g),h=cp(h,g)})(e._query,n),new Es(e.firestore,e.converter,cp(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class wg extends XA{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new wg(e,n)}_apply(e){const n=(function(o,u,h){if(o.startAt!==null)throw new oe(W.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new oe(W.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new du(u,h)})(e._query,this._field,this._direction);return new Es(e.firestore,e.converter,(function(o,u){const h=o.explicitOrderBy.concat([u]);return new Lo(o.path,o.collectionGroup,h,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)})(e._query,n))}}function ZO(i,e="asc"){const n=e,s=bf("orderBy",i);return wg._create(s,n)}function Q0(i,e,n){if(typeof(n=_t(n))=="string"){if(n==="")throw new oe(W.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!$b(e)&&n.indexOf("/")!==-1)throw new oe(W.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(et.fromString(n));if(!de.isDocumentKey(s))throw new oe(W.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return u0(i,new de(s))}if(n instanceof yt)return u0(i,n._key);throw new oe(W.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${of(n)}.`)}function Y0(i,e){if(!Array.isArray(i)||i.length===0)throw new oe(W.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function WA(i,e){const n=(function(o,u){for(const h of o)for(const m of h.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null})(i.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new oe(W.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new oe(W.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class eM{convertValue(e,n="none"){switch(ps(e)){case 0:return null;case 1:return e.booleanValue;case 2:return gt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ms(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ye(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return pa(e,((o,u)=>{s[o]=this.convertValue(u,n)})),s}convertVectorValue(e){const n=e.fields?.[jh].arrayValue?.values?.map((s=>gt(s.doubleValue)));return new ji(n)}convertGeoPoint(e){return new Ui(gt(e.latitude),gt(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=cf(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(cu(e));default:return null}}convertTimestamp(e){const n=ds(e);return new it(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=et.fromString(e);Fe(_A(s),9688,{name:e});const o=new hu(s.get(1),s.get(3)),u=new de(s.popFirst(5));return o.isEqual(n)||_r(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZA(i,e,n){let s;return s=i?n&&(n.merge||n.mergeFields)?i.toFirestore(e,n):i.toFirestore(e):e,s}class Zl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ia extends YA{constructor(e,n,s,o,u,h){super(e,n,s,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Ih(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(bf("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new oe(W.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=ia._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}ia._jsonSchemaVersion="firestore/documentSnapshot/1.0",ia._jsonSchema={type:xt("string",ia._jsonSchemaVersion),bundleSource:xt("string","DocumentSnapshot"),bundleName:xt("string"),bundle:xt("string")};class Ih extends ia{data(e={}){return super.data(e)}}class ra{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new Zl(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new Ih(this._firestore,this._userDataWriter,s.key,s,new Zl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new oe(W.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map((m=>{const g=new Ih(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Zl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:g,oldIndex:-1,newIndex:h++}}))}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const g=new Ih(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Zl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let p=-1,E=-1;return m.type!==0&&(p=h.indexOf(m.doc.key),h=h.delete(m.doc.key)),m.type!==1&&(h=h.add(m.doc),E=h.indexOf(m.doc.key)),{type:tM(m.type),doc:g,oldIndex:p,newIndex:E}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new oe(W.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ra._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Fp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function tM(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ye(61501,{type:i})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rg(i){i=ii(i,yt);const e=ii(i.firestore,ua);return jO(Tf(e),i._key).then((n=>tS(e,i,n)))}ra._jsonSchemaVersion="firestore/querySnapshot/1.0",ra._jsonSchema={type:xt("string",ra._jsonSchemaVersion),bundleSource:xt("string","QuerySnapshot"),bundleName:xt("string"),bundle:xt("string")};class Ig extends eM{constructor(e){super(),this.firestore=e}convertBytes(e){return new jn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new yt(this.firestore,null,n)}}function nM(i){i=ii(i,Es);const e=ii(i.firestore,ua),n=Tf(e),s=new Ig(e);return $A(i._query),zO(n,i._query).then((o=>new ra(e,s,i,o)))}function iM(i,e,n){i=ii(i,yt);const s=ii(i.firestore,ua),o=ZA(i.converter,e,n);return eS(s,[HA(Eg(s),"setDoc",i._key,o,i.converter!==null,n).toMutation(i._key,Li.none())])}function Tp(i,e){const n=ii(i.firestore,ua),s=Mu(i),o=ZA(i.converter,e);return eS(n,[HA(Eg(i.firestore),"addDoc",s._key,o,i.converter!==null,{}).toMutation(s._key,Li.exists(!1))]).then((()=>s))}function rM(i,...e){i=_t(i);let n={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||K0(e[s])||(n=e[s++]);const o={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(K0(e[s])){const g=e[s];e[s]=g.next?.bind(g),e[s+1]=g.error?.bind(g),e[s+2]=g.complete?.bind(g)}let u,h,m;if(i instanceof yt)h=ii(i.firestore,ua),m=hf(i._key.path),u={next:g=>{e[s]&&e[s](tS(h,i,g))},error:e[s+1],complete:e[s+2]};else{const g=ii(i,Es);h=ii(g.firestore,ua),m=g._query;const p=new Ig(h);u={next:E=>{e[s]&&e[s](new ra(h,p,g,E))},error:e[s+1],complete:e[s+2]},$A(i._query)}return(function(p,E,b,S){const P=new gg(S),H=new dg(E,P,b);return p.asyncQueue.enqueueAndForget((async()=>cg(await Kh(p),H))),()=>{P.Nu(),p.asyncQueue.enqueueAndForget((async()=>hg(await Kh(p),H)))}})(Tf(h),m,o,u)}function eS(i,e){return(function(s,o){const u=new mr;return s.asyncQueue.enqueueAndForget((async()=>IO(await UO(s),o,u))),u.promise})(Tf(i),e)}function tS(i,e,n){const s=n.docs.get(e._key),o=new Ig(i);return new ia(i,o,e._key,s,new Zl(n.hasPendingWrites,n.fromCache),e.converter)}function Zs(){return new Tg("serverTimestamp")}(function(e,n=!0){(function(o){Mo=o})(Do),Bi(new si("firestore",((s,{instanceIdentifier:o,options:u})=>{const h=s.getProvider("app").getImmediate(),m=new ua(new QN(s.getProvider("auth-internal")),new XN(h,s.getProvider("app-check-internal")),(function(p,E){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new oe(W.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new hu(p.options.projectId,E)})(h,o),h);return u={useFetchStreams:n,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),zn(XE,JE,e),zn(XE,JE,"esm2020")})();const nS="@firebase/installations",Cg="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iS=1e4,rS=`w:${Cg}`,sS="FIS_v2",sM="https://firebaseinstallations.googleapis.com/v1",aM=3600*1e3,oM="installations",lM="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uM={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},ca=new da(oM,lM,uM);function aS(i){return i instanceof ui&&i.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oS({projectId:i}){return`${sM}/projects/${i}/installations`}function lS(i){return{token:i.token,requestStatus:2,expiresIn:hM(i.expiresIn),creationTime:Date.now()}}async function uS(i,e){const s=(await e.json()).error;return ca.create("request-failed",{requestName:i,serverCode:s.code,serverMessage:s.message,serverStatus:s.status})}function cS({apiKey:i}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":i})}function cM(i,{refreshToken:e}){const n=cS(i);return n.append("Authorization",fM(e)),n}async function hS(i){const e=await i();return e.status>=500&&e.status<600?i():e}function hM(i){return Number(i.replace("s","000"))}function fM(i){return`${sS} ${i}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dM({appConfig:i,heartbeatServiceProvider:e},{fid:n}){const s=oS(i),o=cS(i),u=e.getImmediate({optional:!0});if(u){const p=await u.getHeartbeatsHeader();p&&o.append("x-firebase-client",p)}const h={fid:n,authVersion:sS,appId:i.appId,sdkVersion:rS},m={method:"POST",headers:o,body:JSON.stringify(h)},g=await hS(()=>fetch(s,m));if(g.ok){const p=await g.json();return{fid:p.fid||n,registrationStatus:2,refreshToken:p.refreshToken,authToken:lS(p.authToken)}}else throw await uS("Create Installation",g)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fS(i){return new Promise(e=>{setTimeout(e,i)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mM(i){return btoa(String.fromCharCode(...i)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pM=/^[cdef][\w-]{21}$/,bp="";function gM(){try{const i=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(i),i[0]=112+i[0]%16;const n=yM(i);return pM.test(n)?n:bp}catch{return bp}}function yM(i){return mM(i).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sf(i){return`${i.appName}!${i.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dS=new Map;function mS(i,e){const n=Sf(i);pS(n,e),_M(n,e)}function pS(i,e){const n=dS.get(i);if(n)for(const s of n)s(e)}function _M(i,e){const n=vM();n&&n.postMessage({key:i,fid:e}),EM()}let na=null;function vM(){return!na&&"BroadcastChannel"in self&&(na=new BroadcastChannel("[Firebase] FID Change"),na.onmessage=i=>{pS(i.data.key,i.data.fid)}),na}function EM(){dS.size===0&&na&&(na.close(),na=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TM="firebase-installations-database",bM=1,ha="firebase-installations-store";let Fm=null;function Ng(){return Fm||(Fm=UT(TM,bM,{upgrade:(i,e)=>{switch(e){case 0:i.createObjectStore(ha)}}})),Fm}async function Yh(i,e){const n=Sf(i),o=(await Ng()).transaction(ha,"readwrite"),u=o.objectStore(ha),h=await u.get(n);return await u.put(e,n),await o.done,(!h||h.fid!==e.fid)&&mS(i,e.fid),e}async function gS(i){const e=Sf(i),s=(await Ng()).transaction(ha,"readwrite");await s.objectStore(ha).delete(e),await s.done}async function wf(i,e){const n=Sf(i),o=(await Ng()).transaction(ha,"readwrite"),u=o.objectStore(ha),h=await u.get(n),m=e(h);return m===void 0?await u.delete(n):await u.put(m,n),await o.done,m&&(!h||h.fid!==m.fid)&&mS(i,m.fid),m}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xg(i){let e;const n=await wf(i.appConfig,s=>{const o=AM(s),u=SM(i,o);return e=u.registrationPromise,u.installationEntry});return n.fid===bp?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function AM(i){const e=i||{fid:gM(),registrationStatus:0};return yS(e)}function SM(i,e){if(e.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject(ca.create("app-offline"));return{installationEntry:e,registrationPromise:o}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},s=wM(i,n);return{installationEntry:n,registrationPromise:s}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:RM(i)}:{installationEntry:e}}async function wM(i,e){try{const n=await dM(i,e);return Yh(i.appConfig,n)}catch(n){throw aS(n)&&n.customData.serverCode===409?await gS(i.appConfig):await Yh(i.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function RM(i){let e=await $0(i.appConfig);for(;e.registrationStatus===1;)await fS(100),e=await $0(i.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:s}=await xg(i);return s||n}return e}function $0(i){return wf(i,e=>{if(!e)throw ca.create("installation-not-found");return yS(e)})}function yS(i){return IM(i)?{fid:i.fid,registrationStatus:0}:i}function IM(i){return i.registrationStatus===1&&i.registrationTime+iS<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CM({appConfig:i,heartbeatServiceProvider:e},n){const s=NM(i,n),o=cM(i,n),u=e.getImmediate({optional:!0});if(u){const p=await u.getHeartbeatsHeader();p&&o.append("x-firebase-client",p)}const h={installation:{sdkVersion:rS,appId:i.appId}},m={method:"POST",headers:o,body:JSON.stringify(h)},g=await hS(()=>fetch(s,m));if(g.ok){const p=await g.json();return lS(p)}else throw await uS("Generate Auth Token",g)}function NM(i,{fid:e}){return`${oS(i)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dg(i,e=!1){let n;const s=await wf(i.appConfig,u=>{if(!_S(u))throw ca.create("not-registered");const h=u.authToken;if(!e&&OM(h))return u;if(h.requestStatus===1)return n=xM(i,e),u;{if(!navigator.onLine)throw ca.create("app-offline");const m=VM(u);return n=DM(i,m),m}});return n?await n:s.authToken}async function xM(i,e){let n=await X0(i.appConfig);for(;n.authToken.requestStatus===1;)await fS(100),n=await X0(i.appConfig);const s=n.authToken;return s.requestStatus===0?Dg(i,e):s}function X0(i){return wf(i,e=>{if(!_S(e))throw ca.create("not-registered");const n=e.authToken;return PM(n)?{...e,authToken:{requestStatus:0}}:e})}async function DM(i,e){try{const n=await CM(i,e),s={...e,authToken:n};return await Yh(i.appConfig,s),n}catch(n){if(aS(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await gS(i.appConfig);else{const s={...e,authToken:{requestStatus:0}};await Yh(i.appConfig,s)}throw n}}function _S(i){return i!==void 0&&i.registrationStatus===2}function OM(i){return i.requestStatus===2&&!MM(i)}function MM(i){const e=Date.now();return e<i.creationTime||i.creationTime+i.expiresIn<e+aM}function VM(i){const e={requestStatus:1,requestTime:Date.now()};return{...i,authToken:e}}function PM(i){return i.requestStatus===1&&i.requestTime+iS<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LM(i){const e=i,{installationEntry:n,registrationPromise:s}=await xg(e);return s?s.catch(console.error):Dg(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kM(i,e=!1){const n=i;return await UM(n),(await Dg(n,e)).token}async function UM(i){const{registrationPromise:e}=await xg(i);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jM(i){if(!i||!i.options)throw Gm("App Configuration");if(!i.name)throw Gm("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!i.options[n])throw Gm(n);return{appName:i.name,projectId:i.options.projectId,apiKey:i.options.apiKey,appId:i.options.appId}}function Gm(i){return ca.create("missing-app-config-values",{valueName:i})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vS="installations",zM="installations-internal",BM=i=>{const e=i.getProvider("app").getImmediate(),n=jM(e),s=ma(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:s,_delete:()=>Promise.resolve()}},qM=i=>{const e=i.getProvider("app").getImmediate(),n=ma(e,vS).getImmediate();return{getId:()=>LM(n),getToken:o=>kM(n,o)}};function HM(){Bi(new si(vS,BM,"PUBLIC")),Bi(new si(zM,qM,"PRIVATE"))}HM();zn(nS,Cg);zn(nS,Cg,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $h="analytics",FM="firebase_id",GM="origin",KM=60*1e3,QM="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Og="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rn=new nf("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YM={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Sn=new da("analytics","Analytics",YM);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $M(i){if(!i.startsWith(Og)){const e=Sn.create("invalid-gtag-resource",{gtagURL:i});return rn.warn(e.message),""}return i}function ES(i){return Promise.all(i.map(e=>e.catch(n=>n)))}function XM(i,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(i,e)),n}function JM(i,e){const n=XM("firebase-js-sdk-policy",{createScriptURL:$M}),s=document.createElement("script"),o=`${Og}?l=${i}&id=${e}`;s.src=n?n?.createScriptURL(o):o,s.async=!0,document.head.appendChild(s)}function WM(i){let e=[];return Array.isArray(window[i])?e=window[i]:window[i]=e,e}async function ZM(i,e,n,s,o,u){const h=s[o];try{if(h)await e[h];else{const g=(await ES(n)).find(p=>p.measurementId===o);g&&await e[g.appId]}}catch(m){rn.error(m)}i("config",o,u)}async function e4(i,e,n,s,o){try{let u=[];if(o&&o.send_to){let h=o.send_to;Array.isArray(h)||(h=[h]);const m=await ES(n);for(const g of h){const p=m.find(b=>b.measurementId===g),E=p&&e[p.appId];if(E)u.push(E);else{u=[];break}}}u.length===0&&(u=Object.values(e)),await Promise.all(u),i("event",s,o||{})}catch(u){rn.error(u)}}function t4(i,e,n,s){async function o(u,...h){try{if(u==="event"){const[m,g]=h;await e4(i,e,n,m,g)}else if(u==="config"){const[m,g]=h;await ZM(i,e,n,s,m,g)}else if(u==="consent"){const[m,g]=h;i("consent",m,g)}else if(u==="get"){const[m,g,p]=h;i("get",m,g,p)}else if(u==="set"){const[m]=h;i("set",m)}else i(u,...h)}catch(m){rn.error(m)}}return o}function n4(i,e,n,s,o){let u=function(...h){window[s].push(arguments)};return window[o]&&typeof window[o]=="function"&&(u=window[o]),window[o]=t4(u,i,e,n),{gtagCore:u,wrappedGtag:window[o]}}function i4(i){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(Og)&&n.src.includes(i))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r4=30,s4=1e3;class a4{constructor(e={},n=s4){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const TS=new a4;function o4(i){return new Headers({Accept:"application/json","x-goog-api-key":i})}async function l4(i){const{appId:e,apiKey:n}=i,s={method:"GET",headers:o4(n)},o=QM.replace("{app-id}",e),u=await fetch(o,s);if(u.status!==200&&u.status!==304){let h="";try{const m=await u.json();m.error?.message&&(h=m.error.message)}catch{}throw Sn.create("config-fetch-failed",{httpStatus:u.status,responseMessage:h})}return u.json()}async function u4(i,e=TS,n){const{appId:s,apiKey:o,measurementId:u}=i.options;if(!s)throw Sn.create("no-app-id");if(!o){if(u)return{measurementId:u,appId:s};throw Sn.create("no-api-key")}const h=e.getThrottleMetadata(s)||{backoffCount:0,throttleEndTimeMillis:Date.now()},m=new f4;return setTimeout(async()=>{m.abort()},KM),bS({appId:s,apiKey:o,measurementId:u},h,m,e)}async function bS(i,{throttleEndTimeMillis:e,backoffCount:n},s,o=TS){const{appId:u,measurementId:h}=i;try{await c4(s,e)}catch(m){if(h)return rn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${h} provided in the "measurementId" field in the local Firebase config. [${m?.message}]`),{appId:u,measurementId:h};throw m}try{const m=await l4(i);return o.deleteThrottleMetadata(u),m}catch(m){const g=m;if(!h4(g)){if(o.deleteThrottleMetadata(u),h)return rn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${h} provided in the "measurementId" field in the local Firebase config. [${g?.message}]`),{appId:u,measurementId:h};throw m}const p=Number(g?.customData?.httpStatus)===503?EE(n,o.intervalMillis,r4):EE(n,o.intervalMillis),E={throttleEndTimeMillis:Date.now()+p,backoffCount:n+1};return o.setThrottleMetadata(u,E),rn.debug(`Calling attemptFetch again in ${p} millis`),bS(i,E,s,o)}}function c4(i,e){return new Promise((n,s)=>{const o=Math.max(e-Date.now(),0),u=setTimeout(n,o);i.addEventListener(()=>{clearTimeout(u),s(Sn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function h4(i){if(!(i instanceof ui)||!i.customData)return!1;const e=Number(i.customData.httpStatus);return e===429||e===500||e===503||e===504}class f4{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function d4(i,e,n,s,o){if(o&&o.global){i("event",n,s);return}else{const u=await e,h={...s,send_to:u};i("event",n,h)}}async function m4(i,e,n,s){if(s&&s.global){const o={};for(const u of Object.keys(n))o[`user_properties.${u}`]=n[u];return i("set",o),Promise.resolve()}else{const o=await e;i("config",o,{update:!0,user_properties:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function p4(){if(VT())try{await PT()}catch(i){return rn.warn(Sn.create("indexeddb-unavailable",{errorInfo:i?.toString()}).message),!1}else return rn.warn(Sn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function g4(i,e,n,s,o,u,h){const m=u4(i);m.then(S=>{n[S.measurementId]=S.appId,i.options.measurementId&&S.measurementId!==i.options.measurementId&&rn.warn(`The measurement ID in the local Firebase config (${i.options.measurementId}) does not match the measurement ID fetched from the server (${S.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(S=>rn.error(S)),e.push(m);const g=p4().then(S=>{if(S)return s.getId()}),[p,E]=await Promise.all([m,g]);i4(u)||JM(u,p.measurementId),o("js",new Date);const b=h?.config??{};return b[GM]="firebase",b.update=!0,E!=null&&(b[FM]=E),o("config",p.measurementId,b),p.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y4{constructor(e){this.app=e}_delete(){return delete _o[this.app.options.appId],Promise.resolve()}}let _o={},J0=[];const W0={};let Km="dataLayer",_4="gtag",Z0,Mg,eT=!1;function v4(){const i=[];if(MT()&&i.push("This is a browser extension environment."),aI()||i.push("Cookies are not available."),i.length>0){const e=i.map((s,o)=>`(${o+1}) ${s}`).join(" "),n=Sn.create("invalid-analytics-context",{errorInfo:e});rn.warn(n.message)}}function E4(i,e,n){v4();const s=i.options.appId;if(!s)throw Sn.create("no-app-id");if(!i.options.apiKey)if(i.options.measurementId)rn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${i.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Sn.create("no-api-key");if(_o[s]!=null)throw Sn.create("already-exists",{id:s});if(!eT){WM(Km);const{wrappedGtag:u,gtagCore:h}=n4(_o,J0,W0,Km,_4);Mg=u,Z0=h,eT=!0}return _o[s]=g4(i,J0,W0,e,Z0,Km,n),new y4(i)}function T4(i=Op()){i=_t(i);const e=ma(i,$h);return e.isInitialized()?e.getImmediate():b4(i)}function b4(i,e={}){const n=ma(i,$h);if(n.isInitialized()){const o=n.getImmediate();if(hs(e,n.getOptions()))return o;throw Sn.create("already-initialized")}return n.initialize({options:e})}function A4(i,e,n){i=_t(i),m4(Mg,_o[i.app.options.appId],e,n).catch(s=>rn.error(s))}function S4(i,e,n,s){i=_t(i),d4(Mg,_o[i.app.options.appId],e,n,s).catch(o=>rn.error(o))}const tT="@firebase/analytics",nT="0.10.19";function w4(){Bi(new si($h,(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("installations-internal").getImmediate();return E4(s,o,n)},"PUBLIC")),Bi(new si("analytics-internal",i,"PRIVATE")),zn(tT,nT),zn(tT,nT,"esm2020");function i(e){try{const n=e.getProvider($h).getImmediate();return{logEvent:(s,o,u)=>S4(n,s,o,u),setUserProperties:(s,o)=>A4(n,s,o)}}catch(n){throw Sn.create("interop-component-reg-failed",{reason:n})}}}w4();const R4={apiKey:"AIzaSyCifPSCAi3xjzRJVK7mNpctuqjgj3Q1DzQ",authDomain:"torn-trading.firebaseapp.com",projectId:"torn-trading",storageBucket:"torn-trading.firebasestorage.app",messagingSenderId:"455485576469",appId:"1:455485576469:web:fd6a93ac1085a91b33051c",measurementId:"G-G6GV97H932"},Vg=jT(R4),fa=bb(Vg),zi=qO(Vg);T4(Vg);async function Xh(i,e,n,s){const o=Mu(zi,i,n);await iM(o,e,s&&{merge:!0})}async function iT(i,e){const n=Mu(zi,i,e);try{const s=await Rg(n);if(s.exists())return console.log("data",s.data()),s.data();console.log("Document does not exist")}catch(s){console.log(s)}}async function _u(i,e){console.log("init user data called");const n=Mu(zi,"users",i.uid);if((await Rg(n)).exists()){await Xh("users",{uid:i.uid,email:i.email,emailVerified:i.emailVerified,phoneNumber:i.phoneNumber,lastLogin:Zs()},i.uid,!0);const o=await iT("users",i.uid);e(o)}else{await Xh("users",{displayName:i.displayName||"Anonymous",email:i.email,credits:0,photoURL:i.photoURL||"",createdAt:Zs(),lastLogin:Zs()},i.uid);const o=await iT("users",i.uid);e(o),await Tp(yu(zi,"messages"),{text:` ${i.displayName||"User"} joined the chat!`,uid:"System",displayName:"System",photoURL:"",lastLogin:Zs(),createdAt:Zs()}),await Tp(yu(zi,"lists"),{text:` Hi and welcome to ${i.displayName||"User"}'s price sheet!`,uid:"System",displayName:"System",visible:!1,order:[],prices:{},photoURL:"",createdAt:Zs()})}}/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I4=i=>i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),C4=i=>i.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,s)=>s?s.toUpperCase():n.toLowerCase()),rT=i=>{const e=C4(i);return e.charAt(0).toUpperCase()+e.slice(1)},AS=(...i)=>i.filter((e,n,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===n).join(" ").trim(),N4=i=>{for(const e in i)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var x4={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D4=U.forwardRef(({color:i="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:o="",children:u,iconNode:h,...m},g)=>U.createElement("svg",{ref:g,...x4,width:e,height:e,stroke:i,strokeWidth:s?Number(n)*24/Number(e):n,className:AS("lucide",o),...!u&&!N4(m)&&{"aria-hidden":"true"},...m},[...h.map(([p,E])=>U.createElement(p,E)),...Array.isArray(u)?u:[u]]));/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SS=(i,e)=>{const n=U.forwardRef(({className:s,...o},u)=>U.createElement(D4,{ref:u,iconNode:e,className:AS(`lucide-${I4(rT(i))}`,`lucide-${i}`,s),...o}));return n.displayName=rT(i),n};/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O4=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],M4=SS("menu",O4);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V4=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],wS=SS("x",V4);var RS={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},sT=hr.createContext&&hr.createContext(RS),P4=["attr","size","title"];function L4(i,e){if(i==null)return{};var n=k4(i,e),s,o;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(i);for(o=0;o<u.length;o++)s=u[o],!(e.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(i,s)&&(n[s]=i[s])}return n}function k4(i,e){if(i==null)return{};var n={};for(var s in i)if(Object.prototype.hasOwnProperty.call(i,s)){if(e.indexOf(s)>=0)continue;n[s]=i[s]}return n}function Jh(){return Jh=Object.assign?Object.assign.bind():function(i){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(i[s]=n[s])}return i},Jh.apply(this,arguments)}function aT(i,e){var n=Object.keys(i);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(i);e&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(i,o).enumerable})),n.push.apply(n,s)}return n}function Wh(i){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?aT(Object(n),!0).forEach(function(s){U4(i,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(n)):aT(Object(n)).forEach(function(s){Object.defineProperty(i,s,Object.getOwnPropertyDescriptor(n,s))})}return i}function U4(i,e,n){return e=j4(e),e in i?Object.defineProperty(i,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):i[e]=n,i}function j4(i){var e=z4(i,"string");return typeof e=="symbol"?e:e+""}function z4(i,e){if(typeof i!="object"||!i)return i;var n=i[Symbol.toPrimitive];if(n!==void 0){var s=n.call(i,e);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(i)}function IS(i){return i&&i.map((e,n)=>hr.createElement(e.tag,Wh({key:n},e.attr),IS(e.child)))}function CS(i){return e=>hr.createElement(B4,Jh({attr:Wh({},i.attr)},e),IS(i.child))}function B4(i){var e=n=>{var{attr:s,size:o,title:u}=i,h=L4(i,P4),m=o||n.size||"1em",g;return n.className&&(g=n.className),i.className&&(g=(g?g+" ":"")+i.className),hr.createElement("svg",Jh({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,s,h,{className:g,style:Wh(Wh({color:i.color||n.color},n.style),i.style),height:m,width:m,xmlns:"http://www.w3.org/2000/svg"}),u&&hr.createElement("title",null,u),i.children)};return sT!==void 0?hr.createElement(sT.Consumer,null,n=>e(n)):e(RS)}function oT(i){return CS({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M31.3 192h257.3c17.8 0 26.7 21.5 14.1 34.1L174.1 354.8c-7.8 7.8-20.5 7.8-28.3 0L17.2 226.1C4.6 213.5 13.5 192 31.3 192z"},child:[]}]})(i)}function lT(i){return CS({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(i)}function q4(){return R.jsxs("footer",{className:"py-4 text-center text-sm text-gray-500 border-t border-gray-700",children:[" ",new Date().getFullYear(),"  some text or something, maybe links"]})}function H4(){const i=_s(),{user:e,auth:n}=bu(),[s,o]=U.useState(!1),[u,h]=U.useState(!1),m=[{name:"Home",path:"/"},{name:"About",path:"/about"}],g=[{name:"Items",path:"/info"},{name:"List",path:"/user/list"}];return R.jsx("nav",{className:"bg-gray-800 shadow-lg sticky top-0 z-50",children:R.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[R.jsxs("div",{className:"flex justify-between h-16 items-center",children:[R.jsx(as,{to:"/",className:"text-2xl font-bold text-blue-400",children:"Torn-Trade"}),R.jsxs("div",{className:"hidden md:flex space-x-6",children:[m.map(p=>R.jsx(Ql,{to:p.path,className:({isActive:E})=>`text-gray-300 flex items-center hover:text-blue-400 ${E?"text-blue-400 font-semibold":""}`,children:p.name},p.path)),e&&g.map(p=>R.jsx(Ql,{to:p.path,onClick:()=>o(!1),className:({isActive:E})=>`text-gray-300 flex items-center hover:text-blue-400 ${E?"text-blue-400 font-semibold":""}`,children:p.name},p.path)),R.jsx("div",{className:"flex items-center pr-2",children:e?R.jsx(R.Fragment,{children:R.jsxs("div",{className:"relative",children:[R.jsxs("button",{onClick:()=>h(!u),className:"flex items-center space-x-1 text-white hover:text-yellow-300 transition duration-300 ease-in-out","aria-haspopup":"true","aria-expanded":u,children:[R.jsx(lT,{}),R.jsx("span",{children:e.displayName||"Account"}),R.jsx(oT,{})]}),u&&R.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg py-1 z-10",children:[R.jsx(as,{onClick:()=>h(!1),to:"/user",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 w-full text-left ",children:"Profile"}),R.jsx("button",{onClick:()=>jE(n),className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 w-full text-left",children:"Logout"})]})]})}):R.jsx(R.Fragment,{children:R.jsx("button",{onClick:()=>{i("/login")},className:"bg-white cursor-pointer text-blue-500 px-4 py-2 rounded-full hover:bg-yellow-300 hover:text-blue-700 transition duration-300 ease-in-out focus:outline-none focus:ring-2 focus:ring-yellow-300",children:"Sign In"})})})]}),R.jsxs("div",{className:"md:hidden flex",children:[R.jsx("div",{className:"flex items-center pr-4",children:e?R.jsx(R.Fragment,{children:R.jsxs("div",{className:"relative",children:[R.jsxs("button",{onClick:()=>h(!u),className:"flex items-center space-x-1 text-white hover:text-yellow-300 transition duration-300 ease-in-out","aria-haspopup":"true","aria-expanded":u,children:[R.jsx(lT,{}),R.jsx("span",{children:e.displayName||"Account"}),R.jsx(oT,{})]}),u&&R.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg py-1 z-10",children:[R.jsx(as,{onClick:()=>h(!1),to:"/user",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 w-full text-left ",children:"Profile"}),R.jsx("button",{onClick:()=>jE(n),className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 w-full text-left",children:"Logout"})]})]})}):R.jsx(R.Fragment,{children:R.jsx("button",{onClick:()=>{i("/login")},className:"bg-white cursor-pointer text-blue-500 px-4 py-2 rounded-full hover:bg-yellow-300 hover:text-blue-700 transition duration-300 ease-in-out focus:outline-none focus:ring-2 focus:ring-yellow-300",children:"Sign In"})})}),R.jsx("button",{className:" cursor-pointer text-gray-300 hover:text-white",onClick:()=>o(!s),children:s?R.jsx(wS,{size:24}):R.jsx(M4,{size:24})})]})]}),s&&R.jsxs("div",{className:"md:hidden pb-3 space-y-2",children:[m.map(p=>R.jsx(Ql,{to:p.path,onClick:()=>o(!1),className:({isActive:E})=>`block px-3 py-2 rounded-md ${E?"bg-blue-500 text-white":"text-gray-300 hover:bg-gray-700 hover:text-white"}`,children:p.name},p.path)),e&&g.map(p=>R.jsx(Ql,{to:p.path,onClick:()=>o(!1),className:({isActive:E})=>`block px-3 py-2 rounded-md ${E?"bg-blue-500 text-white":"text-gray-300 hover:bg-gray-700 hover:text-white"}`,children:p.name},p.path))]})]})})}function Uo({children:i,className:e=""}){return R.jsx("div",{className:` shadow rounded-2xl ${e}`,children:i})}function F4({children:i,className:e=""}){return R.jsx("div",{className:`border-b p-3 font-semibold ${e}`,children:i})}function G4({children:i,className:e=""}){return R.jsx("div",{className:`p-3 ${e}`,children:i})}function vu({children:i,onClick:e,type:n="button",className:s="",variant:o="default",disabled:u}){const h="rounded-lg px-4 py-2 font-medium transition-all",m=o==="outline"?"border border-gray-300 text-gray-700 hover:bg-gray-100":"bg-blue-600 text-white hover:bg-blue-700";return R.jsx("button",{type:n,onClick:e,disabled:u,className:`${h} ${m} ${s}`,children:i})}function vo({value:i,onChange:e,placeholder:n,type:s="text",className:o="",...u}){return R.jsx("input",{type:s,value:i,onChange:e,placeholder:n,className:`w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 outline-none ${o}`,...u})}function K4(){const i=fa.currentUser,[e,n]=U.useState([]),[s,o]=U.useState("");U.useEffect(()=>{const h=JA(yu(zi,"messages"),ZO("createdAt","asc"));return rM(h,g=>{n(g.docs.map(p=>({id:p.id,...p.data()})))})},[]);const u=async h=>{h.preventDefault(),s.trim()&&(await Tp(yu(zi,"messages"),{text:s,uid:i.uid,photoURL:i.photoURL,displayName:i.displayName,createdAt:Zs()}),o(""))};return R.jsxs(Uo,{className:"p-4 h-full flex flex-col",children:[R.jsx(F4,{className:"font-semibold text-lg",children:"Chat Room"}),R.jsx(G4,{className:"flex-1 overflow-y-auto space-y-2",children:e.map(h=>R.jsx("div",{className:`flex ${h.uid===i.uid?"justify-end":"justify-start"}`,children:R.jsxs("div",{className:`p-2 rounded-lg ${h.uid===i.uid?"bg-blue-500 text-white":"bg-gray-200"}`,children:[h.uid!==i.uid&&R.jsx("p",{className:"text-sm bold",children:h.displayName}),R.jsx("p",{className:"text-sm",children:h.text})]})},h.id))}),R.jsxs("form",{onSubmit:u,className:"flex gap-2 mt-2",children:[R.jsx(vo,{value:s,onChange:h=>o(h.target.value),placeholder:"Type message..."}),R.jsx(vu,{type:"submit",children:"Send"})]})]})}const Q4=async(i,e,n,s,o)=>{i.preventDefault();const u=_s();try{const h=await w2(fa,s,o);await N2(h.user,{displayName:n}),await _u(h.user),u("/")}catch(h){e(h.message)}},Y4=async i=>{const e=_s(),n=new Mi;try{const s=await Eb(fa,n);await _u(s.user),e("/")}catch(s){i(s.message)}};function $4(){const[i,e]=U.useState(""),[n,s]=U.useState(""),[o,u]=U.useState(""),[h,m]=U.useState("");return R.jsxs(Uo,{className:"p-6 w-80 bg-gray-800 mx-auto",children:[R.jsx("h1",{className:"text-2xl font-semibold mb-4 text-center",children:"Register"}),h&&R.jsx("p",{className:"text-red-500 text-sm mb-2",children:h}),R.jsxs("form",{onSubmit:g=>Q4(g,m,i,n,o),className:"space-y-3",children:[R.jsx(vo,{autoComplete:"username",type:"text",placeholder:"Display Name",value:i,onChange:g=>e(g.target.value),required:!0}),R.jsx(vo,{autoComplete:"email",type:"email",placeholder:"Email",value:n,onChange:g=>s(g.target.value),required:!0}),R.jsx(vo,{autoComplete:"new-password",type:"password",placeholder:"Password",value:o,onChange:g=>u(g.target.value),required:!0}),R.jsx(vu,{type:"submit",className:"w-full",children:"Register"})]}),R.jsx(vu,{onClick:()=>Y4(m),className:"w-full mt-3",children:"Sign up with Google"}),R.jsxs("p",{className:"text-sm mt-3 text-center",children:["Already have an account?"," ",R.jsx(as,{to:"/login",className:"text-blue-500",children:"Login"})]})]})}function X4(){const[i,e]=U.useState(""),[n,s]=U.useState(""),[o,u]=U.useState(""),h=_s(),m=async p=>{p.preventDefault();try{const E=await R2(fa,i,n);await _u(E.user),h("/")}catch(E){u(E.message)}},g=async()=>{const p=new Mi;try{const E=await Eb(fa,p);await _u(E.user),h("/")}catch(E){u(E.message)}};return R.jsxs(Uo,{className:"p-6 w-80 bg-gray-800 mx-auto",children:[R.jsx("h1",{className:"text-2xl font-semibold mb-4 text-center",children:"Login"}),o&&R.jsx("p",{className:"text-red-500 text-sm mb-2",children:o}),R.jsxs("form",{onSubmit:m,className:"space-y-3",children:[R.jsx(vo,{autoComplete:"email",type:"email",placeholder:"Email",value:i,onChange:p=>e(p.target.value),required:!0}),R.jsx(vo,{autoComplete:"current-password",type:"password",placeholder:"Password",value:n,onChange:p=>s(p.target.value),required:!0}),R.jsx(vu,{type:"submit",className:"w-full",children:"Login"})]}),R.jsx(vu,{onClick:g,className:"w-full mt-3",children:"Sign in with Google"}),R.jsxs("p",{className:"text-sm mt-3 text-center",children:["Don't have an account?"," ",R.jsx(as,{to:"/register",className:"text-blue-500",children:"Register"})]})]})}function J4({question:i,answer:e}){const[n,s]=U.useState(!1);return R.jsxs("div",{className:"border-b py-3",children:[R.jsxs("button",{onClick:()=>s(!n),className:"w-full cursor-pointer flex justify-between items-center text-left text-lg font-medium focus:outline-none",children:[R.jsx("span",{children:i}),R.jsx("span",{className:"text-gray-500",children:n?"":"+"})]}),n&&R.jsx("p",{className:"mt-2 text-gray-600 transition-all duration-200",children:e})]})}function W4(){const i=[{question:"How do I reset my password?",answer:"Currently, I've not got it rigged up but i will soon.",future_answer:"Click 'Forgot password?' on the login screen."},{question:"Can I use Google sign-in?",answer:"Yes! Just click 'Sign in with Google' on the login page."},{question:"Is my data private?",answer:"Yes. Your todos and chat messages are tied to your account only."},{question:"Do you use my API key?",answer:"No. Your API key is only used to fill out data on your end, non of your torn data is stored in my database."}];return R.jsxs("div",{children:[R.jsxs("div",{className:"max-w-2xl mx-auto p-6",children:[R.jsx("h1",{className:"text-3xl font-semibold mb-6",children:"About"}),R.jsx("p",{children:"This dashboard securely fetches Torn.com API data through Google Apps Script, keeping my API key safe while serving fast, static pages on GitHub Pages that can feed from automatically updating data."})]}),R.jsxs("div",{className:"max-w-2xl mx-auto p-6",children:[R.jsx("h1",{className:"text-3xl font-semibold mb-6",children:"Frequently Asked Questions"}),i.map((e,n)=>R.jsx(J4,{...e},n))]})]})}function Z4({cat:i,name:e}){return R.jsxs("div",{className:"relative border border-gray-700 rounded-lg p-4 shadow hover:shadow-lg transition duration-200 bg-gray-800 text-gray-100",children:[R.jsx("h2",{className:"text-xl font-bold mb-2",children:e}),Object.keys(i).map(n=>R.jsxs("div",{className:"flex justify-between text-sm text-gray-300",children:[R.jsxs("span",{children:[R.jsx("img",{src:`https://www.torn.com/images/items/${n}/small.png`,className:"inline",alt:"img"}),i[n].name]}),R.jsxs("span",{children:[" $",i[n].rate==="definitive"?i[n].val:i[n].val*i[n].market_price]})]},n))]})}function NS(i){const{items:e,categories:n}=U.useMemo(()=>{let S=[],P={};return i.items.items.map(H=>{P[H.id]=H,S.includes(H.type)||S.push(H.type)}),{items:P,categories:S}},[i.items]),s=_s(),o=i.hash,[u,h]=U.useState(!0),[m,g]=U.useState({}),[p,E]=U.useState({});async function b(){const S=yu(zi,"users"),P=JA(S,WO("link","==",o)),H=await nM(P),Q={...H.docs[0].data()};H.docs[0].exists()&&H.docs[0].data().public==!0?(Q.credits=0)?s("/man-dont-pay"):(g({owner:Q.displayName,list:Q.list,order:Q.order,scheme:Q.scheme}),h(!1)):s("/")}return U.useEffect(()=>{Object.keys(m).length===0?b():(E({}),(m.order||n).map(S=>{let P=Object.entries(m.list).filter(Q=>e[Q[0]].type===S),H={};P.forEach(Q=>H[Q[0]]={...Q[1],...e[Q[0]]}),Object.keys(H).length>0&&E({...p,[S]:H})}))},[m]),console.log(m),m?R.jsxs("div",{className:"p-6 max-w-5xl mx-auto bg-gray-900 min-h-screen text-gray-100",children:[R.jsx("h1",{className:"text-3xl font-bold mb-6",children:m?.scheme?.title?m.scheme.title:`${m.owner}'s Price List`}),R.jsx("div",{className:"grid gap-4 sm:grid-cols-2",children:Object.keys(p).length>0?Object.keys(p).map(S=>R.jsx(Z4,{name:S,cat:p[S]},S)):R.jsxs("div",{className:"col-span-full text-center py-12 text-gray-400",children:[R.jsx("p",{className:"text-lg",children:"No items to show."}),R.jsx("p",{className:"text-sm text-gray-500",children:"Try changing your filters or asking this seller to add more items."})]})})]}):R.jsx(Uo,{children:R.jsx("h1",{children:"loading prices"})})}function eV(){const{hash:i}=Er(),{items:e}=bu(),[n,s]=U.useState(!1);return U.useEffect(()=>{console.log(i),i&&s(i.split("").splice(1,i.length).join(""))},[i]),n?R.jsx(NS,{items:e,hash:n}):R.jsxs("div",{children:[R.jsx("h1",{className:"text-3xl font-bold mb-4",children:"Welcome to [WIP]"}),R.jsx("p",{children:"This site displays Torn data fetched from Google Sheets, There is a login function where you can set a price list and omit any items you dont want."}),R.jsxs("p",{className:"p-4",children:["Currently Torn has ",e?e.count:R.jsx("span",{className:"inline-block h-4 w-12 bg-gray-300 rounded animate-pulse"})," item codes, although some of them are duds."]})]})}function tV(){const{user:i,setUser:e}=bu(),n=bb();console.log(i);const[s,o]=U.useState(""),[u,h]=U.useState(0),[m,g]=U.useState(""),[p,E]=U.useState(0),[b,S]=U.useState(0);U.useEffect(()=>{if(u>0||b>0||p>0){const G=setTimeout(()=>{u>0&&h(u-1),b>0&&S(b-1),p>0&&E(p-1)},1e3);return()=>clearTimeout(G)}},[b,u,p]);const P=async()=>{console.log("Change username to:",s),await Xh("users",{displayName:s},i.uid,!0),e({...i,displayName:s}),h(5)};function H(){I2(n.currentUser).then(()=>{console.log("email sent"),S(60)})}const Q=async()=>{console.log("Change link to:",m),await Xh("users",{link:m},i.uid,!0),e({...i,link:m}),E(5)};return R.jsxs(Uo,{className:"flex-col mx-auto p-6 text-center bg-gray-800",children:[R.jsx("h1",{className:"text-2xl font-semibold mb-4",children:"Profile"}),R.jsx("img",{src:i.photoURL,onError:({currentTarget:G})=>{G.onerror=null,G.src="https://placehold.co/32x32"},alt:"avatar",className:"w-16 h-16 rounded-full mx-auto mb-3"}),R.jsxs("p",{className:"text-lg font-medium",children:[i.displayName," (",i.emailVerified?"verified":"unverified",")"]}),R.jsx("p",{className:"text-gray-400 mb-3",children:i.email}),R.jsxs("p",{className:"text-gray-400 mb-4",children:["Credits: "," "+i.credits]}),i.emailVerified&&R.jsxs("div",{className:"py-4",children:[R.jsx("h2",{className:"text-lg font-semibold mb-3",children:"Verify Email"}),R.jsx("button",{onClick:H,disabled:b>0,className:` px-4 py-2 rounded-lg font-medium transition ${b>0?"bg-gray-600 text-gray-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700 text-white"}`,children:b>0?b+"s":"Send Verification Email"})]}),R.jsxs("div",{className:"py-4",children:[R.jsx("h2",{className:"text-lg font-semibold mb-3",children:"Change Username"}),R.jsxs("div",{className:"flex flex-wrap items-center justify-evenly gap-2",children:[R.jsx("input",{type:"text",value:s,onChange:G=>o(G.target.value),placeholder:"Enter new username",className:" px-3 py-2 bg-gray-900 border border-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}),R.jsx("button",{onClick:P,disabled:u>0||!s.trim(),className:` px-4 py-2 rounded-lg font-medium transition ${u>0||!s.trim()?"bg-gray-600 text-gray-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700 text-white"}`,children:u>0?u+"s":"Change"})]})]}),R.jsxs("div",{className:"py-4",children:[R.jsx("h2",{className:"text-lg font-semibold mb-3",children:"Change Link"}),R.jsxs("div",{className:"flex flex-wrap items-center justify-evenly gap-2",children:[R.jsx("input",{type:"text",value:m,onChange:G=>g(G.target.value),placeholder:"Enter new link",className:" px-3 py-2 bg-gray-900 border border-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}),R.jsx("button",{onClick:Q,disabled:p>0||!m.trim(),className:` px-4 py-2 rounded-lg font-medium transition ${p>0||!m.trim()?"bg-gray-600 text-gray-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700 text-white"}`,children:p>0?p+"s":"Change"})]})]}),R.jsx(as,{to:"/",className:"text-blue-500 mt-4",children:"Back to Dashboard"})]})}function nV({cat:i,name:e,onRemoveItem:n,onUpdateItem:s}){const[o,u]=U.useState(i),h=(p,E)=>{const b={...o,[p]:{...o[p],type:E}};u(b),s?.(i,b)},m=(p,E)=>{const b={...o,[p]:{...o[p],value:Number(E)}};u(b),s?.(p,b[p])},g=p=>{const E={...o};delete E[p],u(E),n?.(p.id)};return R.jsxs("div",{className:"relative border border-gray-700 rounded-lg p-4 shadow hover:shadow-lg transition duration-200 bg-gray-800 text-gray-100",children:[R.jsx("h2",{className:"text-xl font-bold mb-3",children:e}),R.jsx("div",{className:"space-y-3",children:Object.keys(o).map(p=>R.jsxs("div",{className:"flex items-center justify-between bg-gray-900/50 px-3 py-2 rounded-lg border border-gray-700 text-sm",children:[R.jsxs("div",{className:"flex items-center space-x-2",children:[R.jsx("img",{src:`https://www.torn.com/images/items/${p}/small.png`,className:"h-6",alt:o[p].name}),R.jsx("span",{children:o[p].name})]}),R.jsxs("div",{className:"flex items-center space-x-2",children:[R.jsxs("select",{value:o[p].type||"",onChange:E=>h(p,E.target.value),className:"bg-gray-800 border border-gray-600 rounded-md px-2 py-1 text-gray-200 text-sm focus:ring-2 focus:ring-blue-500",children:[R.jsx("option",{value:"",children:"Type"}),R.jsx("option",{value:"definitive",title:"Set Price",children:"Definitive"}),R.jsx("option",{value:"sell",title:"Multiplier",children:"Multiplier"})]}),R.jsx("input",{type:"number",value:o[p].value||"",onChange:E=>m(p,E.target.value),className:"w-20 bg-gray-800 border border-gray-600 rounded-md px-2 py-1 text-gray-200 text-sm focus:ring-2 focus:ring-blue-500",placeholder:"Value"})]}),R.jsx("button",{onClick:()=>g(p),className:"text-red-400 hover:text-red-500 transition",title:"Remove item",children:R.jsx(wS,{size:16})})]},p))})]})}function iV(i){const{user:e}=bu(),{items:n,categories:s}=U.useMemo(()=>{let S=[],P={};return i.items.items.map(H=>{P[H.id]=H,S.includes(H.type)||S.push(H.type)}),{items:P,categories:S}},[i.items]),o=_s(),[u,h]=U.useState(!0),[m,g]=U.useState({}),[p,E]=U.useState({});async function b(){const S=Mu(zi,"users",e.uid),P=await Rg(S);if(P.exists()){const H=P.data();(H.credits=0)?o("/man-dont-pay"):(g({owner:H.displayName,list:H.list,order:H.order,scheme:H.scheme}),h(!1))}else o("/")}return U.useEffect(()=>{Object.keys(m).length===0?b():(E({}),(m.order||s).map(S=>{let P=Object.entries(m.list).filter(Q=>n[Q[0]].type===S),H={};P.forEach(Q=>H[Q[0]]={...Q[1],...n[Q[0]]}),Object.keys(H).length>0&&E({...p,[S]:H})}))},[m]),m?R.jsxs("div",{className:"p-6 max-w-5xl mx-auto bg-gray-900 min-h-screen text-gray-100",children:[R.jsx("h1",{className:"text-3xl font-bold mb-6",children:"Your Price List"}),R.jsx("div",{className:"grid gap-4 sm:grid-cols-2",children:Object.keys(p).length>0?Object.keys(p).map(S=>R.jsx(nV,{name:S,cat:p[S]},S)):R.jsxs("div",{className:"col-span-full text-center py-12 text-gray-400",children:[R.jsx("p",{className:"text-lg",children:"No items to show."}),R.jsx("p",{className:"text-sm text-gray-500",children:"Try changing your filters or asking this seller to add more items."})]})})]}):R.jsx(Uo,{children:R.jsx("h1",{children:"loading prices"})})}function rV({currentPage:i,totalPages:e,onPageChange:n,maxVisible:s=9}){if(e<=1)return null;U.useEffect(()=>{const p=E=>{E.key==="ArrowLeft"&&i>1?n(i-1):E.key==="ArrowRight"&&i<e&&n(i+1)};return window.addEventListener("keydown",p),()=>window.removeEventListener("keydown",p)},[i,e,n]);const o=p=>{p<1||p>e||n(p)},u=[],h=Math.floor(s/2);let m=Math.max(1,i-h),g=Math.min(e,i+h);i<=h?g=Math.min(e,s):i+h>=e&&(m=Math.max(1,e-s+1)),m>1&&(u.push(1),m>2&&u.push("..."));for(let p=m;p<=g;p++)u.push(p);return g<e&&(g<e-1&&u.push("..."),u.push(e)),R.jsxs("div",{className:"flex flex-wrap justify-center mt-6 gap-2",role:"navigation","aria-label":"Pagination Navigation",children:[R.jsx("button",{onClick:()=>o(i-1),disabled:i===1,"aria-label":"Previous Page",className:`px-3 py-1 rounded border border-gray-700 transition ${i===1?"bg-gray-700 text-gray-400 cursor-not-allowed":"bg-gray-800 hover:bg-gray-700 text-gray-100"}`,children:"Prev"}),u.map((p,E)=>p==="..."?R.jsx("span",{className:"px-2 py-1 text-gray-500 select-none",children:"..."},`ellipsis-${E}`):R.jsx("button",{onClick:()=>o(p),"aria-label":`Go to page ${p}`,className:`px-3 py-1 rounded border border-gray-700 transition ${i===p?"bg-blue-600 text-white font-semibold":"bg-gray-800 hover:bg-gray-700 text-gray-100"}`,children:p},p)),R.jsx("button",{onClick:()=>o(i+1),disabled:i===e,"aria-label":"Next Page",className:`px-3 py-1 rounded border border-gray-700 transition ${i===e?"bg-gray-700 text-gray-400 cursor-not-allowed":"bg-gray-800 hover:bg-gray-700 text-gray-100"}`,children:"Next"})]})}function sV({item:i}){return R.jsxs("div",{className:"relative border border-gray-700 rounded-lg p-4 shadow hover:shadow-lg transition duration-200 bg-gray-800 text-gray-100",children:[R.jsx("button",{className:"absolute top-2 right-2 bg-blue-600 hover:bg-blue-700 text-white rounded-full w-8 h-8 flex items-center justify-center",children:"+"}),R.jsx("h2",{className:"text-xl font-bold mb-2",children:i.name}),R.jsx("p",{className:"text-gray-400 mb-2",children:i.type}),R.jsx("p",{className:"mb-2",children:i.description}),R.jsxs("div",{className:"flex justify-between text-sm text-gray-300",children:[R.jsxs("span",{children:["Buy: $",i.buy_price]}),R.jsxs("span",{children:["Sell: $",i.sell_price]}),R.jsxs("span",{children:["Market: $",i.market_price]})]}),R.jsxs("p",{className:"text-gray-500 text-sm mt-2",children:["Circulation: ",i.circulation.toLocaleString()]})]})}function aV(){return R.jsxs("div",{className:"border border-gray-700 rounded-lg p-4 shadow animate-pulse space-y-2 bg-gray-800",children:[R.jsx("div",{className:"h-6 bg-gray-600 rounded w-1/2"}),R.jsx("div",{className:"h-4 bg-gray-600 rounded w-1/4"}),R.jsx("div",{className:"h-3 bg-gray-600 rounded w-full"}),R.jsxs("div",{className:"flex justify-between",children:[R.jsx("div",{className:"h-3 bg-gray-600 rounded w-1/5"}),R.jsx("div",{className:"h-3 bg-gray-600 rounded w-1/5"}),R.jsx("div",{className:"h-3 bg-gray-600 rounded w-1/5"})]}),R.jsx("div",{className:"h-3 bg-gray-600 rounded w-1/3 mt-2"})]})}function oV(){const{items:i}=bu(),[e,n]=U.useState([]),[s,o]=U.useState(""),[u,h]=U.useState(""),[m,g]=U.useState(1),[p,E]=U.useState(10);U.useEffect(()=>{if(i?.items?.length){const X=[...new Set(i.items.map(ne=>ne.type))];n(X)}},[i]);const b=U.useMemo(()=>{if(!i?.items)return[];let X=i.items;return s&&(X=X.filter(ne=>ne.type.toLowerCase()===s.toLowerCase())),u&&(X=X.filter(ne=>ne.name.toLowerCase().includes(u.toLowerCase()))),X},[i,s,u]);U.useEffect(()=>{g(1)},[s,u]);const S=Math.ceil(b.length/p),P=m*p,H=P-p,Q=b.slice(H,P),G=X=>{X<1||X>S||g(X)};return R.jsxs("div",{className:"p-6 max-w-5xl mx-auto bg-gray-900 min-h-screen text-gray-100",children:[R.jsx("h1",{className:"text-3xl font-bold mb-6",children:"Items"}),R.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[R.jsx("input",{type:"text",placeholder:"Search by name",disabled:!i,value:u,onChange:X=>h(X.target.value),className:`border border-gray-700 rounded px-3 py-2 w-full sm:w-1/2 bg-gray-800 text-gray-100 placeholder-gray-400 transition ${i?"":"opacity-50 cursor-not-allowed"}`}),R.jsxs("select",{value:s,disabled:!i,onChange:X=>o(X.target.value),className:`border border-gray-700 rounded px-3 py-2 w-full sm:w-1/2 bg-gray-800 text-gray-100 transition ${i?"":"opacity-50 cursor-not-allowed"}`,children:[R.jsx("option",{value:"",children:"All Types"}),e.map(X=>R.jsx("option",{value:X,children:X},X))]}),R.jsxs("select",{title:"Items per page",value:p,onChange:X=>E(Number(X.target.value)),className:"border border-gray-700 rounded px-3 py-2 w-full sm:w-1/4 bg-gray-800 text-gray-100",children:[R.jsx("option",{value:5,children:"5pp"}),R.jsx("option",{value:10,children:"10pp"}),R.jsx("option",{value:25,children:"25pp"}),R.jsx("option",{value:50,children:"50pp"})]})]}),R.jsx("div",{className:"grid gap-4 sm:grid-cols-2",children:i?Q.length>0?Q.map(X=>R.jsx(sV,{item:X},X.id)):R.jsxs("div",{className:"col-span-full text-center py-12 text-gray-400",children:[R.jsx("p",{className:"text-lg",children:"No items found."}),R.jsx("p",{className:"text-sm text-gray-500",children:"Try changing your filters or search query."})]}):Array.from({length:4}).map((X,ne)=>R.jsx(aV,{},ne))}),i&&b.length>p&&R.jsx(rV,{currentPage:m,totalPages:S,onPageChange:G,maxVisible:9})]})}function lV(){const[i,e]=U.useState(null),[n,s]=U.useState(!0),[o,u]=U.useState();return U.useEffect(()=>{const h=O2(fa,async g=>{console.log("Auth status changed"),g?await _u(g,e):e(),s(!1)}),m=zR(u);return()=>{h(),m()}},[]),n||!o?R.jsx("div",{className:"h-screen bg-gray-900 text-gray-100 flex items-center justify-center",children:"Loading..."}):R.jsx(ST.Provider,{value:{db:zi,auth:fa,user:i,items:o,setUser:e},children:R.jsxs("div",{className:"min-h-screen bg-gray-900 text-gray-100 flex flex-col",children:[R.jsx(H4,{}),R.jsx("main",{className:"flex-grow container mx-auto p-6",children:R.jsxs(lR,{children:[R.jsxs(bn,{path:"/",children:[R.jsx(bn,{index:!0,element:R.jsx(eV,{items:o})}),R.jsx(bn,{path:"about",element:R.jsx(W4,{})}),R.jsx(bn,{path:"login",element:i?R.jsx(Gl,{to:"/"}):R.jsx(X4,{})}),R.jsx(bn,{path:"register",element:i?R.jsx(Gl,{to:"/"}):R.jsx($4,{})}),R.jsx(bn,{path:"chat",element:i?R.jsx(K4,{}):R.jsx(Gl,{to:"/"})}),R.jsx(bn,{path:":id",element:R.jsx(NS,{items:o})})]}),R.jsxs(bn,{path:"/user",element:i?R.jsx(pE,{}):R.jsx(Gl,{to:"/"}),children:[R.jsx(bn,{index:!0,element:R.jsx(tV,{})}),R.jsx(bn,{path:"list",element:R.jsx(iV,{items:o})})]}),R.jsx(bn,{path:"/info",element:i?R.jsx(pE,{}):R.jsx(Gl,{to:"/"}),children:R.jsx(bn,{index:!0,element:R.jsx(oV,{})})})]})}),R.jsx(q4,{})]})})}class uV extends hr.Component{constructor(e){super(e),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,n){console.error("Error caught by ErrorBoundary:",e,n),this.setState({errorInfo:n})}handleReload=()=>{window.location.reload()};render(){return this.state.hasError?R.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center bg-gray-50 text-gray-800 p-6",children:R.jsxs("div",{className:"max-w-md w-full text-center bg-white rounded-2xl shadow-lg p-8",children:[R.jsx("h1",{className:"text-3xl font-bold text-red-600 mb-4",children:"Something went wrong"}),R.jsx("p",{className:"text-gray-600 mb-4",children:"An unexpected error occurred. Try refreshing the page or come back later."}),!1,R.jsx("button",{onClick:this.handleReload,className:"mt-2 px-6 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition",children:"Reload Page"})]})}):this.props.children}}g1.createRoot(document.getElementById("root")).render(R.jsx(hr.StrictMode,{children:R.jsx(uV,{children:R.jsx(DR,{basename:"/torn-trade/",children:R.jsx(lV,{})})})}));
