import{r as x,j as s,X as u}from"./react-DDc6AVgH.js";import"./vendor-38BQLZWb.js";function p({cat:i,name:n}){const[a,o]=x.useState(i),c=(e,t)=>{const r={...a,[e]:{...a[e],type:t}};o(r)},d=(e,t)=>{const r={...a,[e]:{...a[e],value:Number(t)}};o(r),r[e]},l=e=>{const t={...a};delete t[e],o(t),e.id};return s.jsxs("div",{className:"relative border border-gray-700 rounded-lg shadow hover:shadow-lg transition duration-200 bg-gray-800 text-gray-100 p-4 flex flex-col gap-4",children:[s.jsx("h2",{className:"text-xl font-bold truncate",children:n}),s.jsx("div",{className:"flex flex-col gap-3 max-h-[600px] overflow-y-auto",children:Object.keys(a).map(e=>s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between bg-gray-900/50 px-3 py-2 rounded-lg border border-gray-700 text-sm gap-2 flex-wrap",children:[s.jsxs("div",{className:"flex items-center space-x-2 min-w-[120px] max-w-[150px] flex-shrink-0",children:[s.jsx("img",{src:`https://www.torn.com/images/items/${e}/small.png`,className:"h-6 w-6 object-contain",alt:a[e].name}),s.jsx("span",{className:"truncate",children:a[e].name})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row items-center sm:justify-center sm:flex-1 gap-2 w-full sm:w-auto flex-wrap",children:[s.jsxs("select",{value:a[e].rate||"",onChange:t=>c(e,t.target.value),className:"bg-gray-800 border border-gray-600 rounded-md px-2 py-1 text-gray-200 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 w-full sm:w-auto",children:[s.jsx("option",{value:"",children:"Type"}),s.jsx("option",{value:"definitive",children:"Definitive"}),s.jsx("option",{value:"comparative",children:"Multiplier"})]}),s.jsx("input",{type:"number",value:a[e].val||"",onChange:t=>d(e,t.target.value),className:"w-full sm:w-20 bg-gray-800 border border-gray-600 rounded-md px-2 py-1 text-gray-200 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Value"})]}),s.jsx("div",{className:"flex justify-end sm:ml-4 flex-shrink-0",children:s.jsx("button",{onClick:()=>l(e),className:"text-red-400 hover:text-red-500 transition mt-1 sm:mt-0",title:"Remove item",children:s.jsx(u,{size:16})})})]},e))})]})}function g({itemsProp:i,user:n}){const{items:a,categories:o}=x.useMemo(()=>{let l=[],e={};return i?.items?.forEach(t=>{e[t.id]=t,l.includes(t.type)||l.push(t.type)}),{items:e,categories:l}},[i]),[c,d]=x.useState({});return x.useEffect(()=>{if(!n?.list){d({});return}const l={};(n.order?.length?n.order:o).forEach(e=>{const t=Object.entries(n.list).filter(([r])=>a[r]?.type===e);t.length>0&&(l[e]={},t.forEach(([r,m])=>{l[e][r]={...m,...a[r]}}))}),d(l)},[n,a,o]),s.jsxs("div",{className:"p-6 max-w-6xl mx-auto bg-gray-900 min-h-screen text-gray-100",children:[s.jsx("h1",{className:"text-3xl font-bold mb-6",children:"Your Price List"}),Object.keys(c).length>0?s.jsx("div",{className:"grid gap-6 sm:grid-cols-2",children:Object.keys(c).map(l=>s.jsx(p,{name:l,cat:c[l]},l))}):s.jsxs("div",{className:"text-center py-12 text-gray-400",children:[s.jsx("p",{className:"text-lg",children:"No items to show."}),s.jsx("p",{className:"text-sm text-gray-500",children:"Try changing your filters or ask this seller to add more items."})]})]})}export{g as default};
